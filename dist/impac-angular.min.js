/**
 * impac-angular - Impac! Front-End Library
 * @version v1.5.0-rc3
 * @git git://github.com/maestrano/impac-angular.git
 * @license Copyright 2017 Maestrano Pty Ltd
 */
(function(){"use strict";angular.module("maestrano.impac",["impac.run","impac.constant","impac.services","impac.filters","impac.components","ngMessages","ui.sortable","ui.bootstrap","emguo.poller","toastr","pascalprecht.translate"]),angular.module("impac.components",["impac.components.dashboard","impac.components.dashboard-selector","impac.components.dashboard-settings","impac.components.kpis-bar","impac.components.kpi","impac.components.chart","impac.components.alerts-config","impac.components.widget","impac.components.widgets","impac.components.widgets-settings","impac.components.widgets-common","impac.components.common","impac.components.templates"]),angular.module("impac.components.widgets",["impac.components.widgets.accounts-accounting-values","impac.components.widgets.accounts-assets-summary","impac.components.widgets.accounts-assets-liability-summary","impac.components.widgets.accounts-balance-sheet","impac.components.widgets.accounts-balance","impac.components.widgets.accounts-cash-summary","impac.components.widgets.accounts-comparison","impac.components.widgets.accounts-custom-calculation","impac.components.widgets.accounts-expenses-revenue","impac.components.widgets.accounts-payable-receivable","impac.components.widgets.accounts-profit-and-loss","impac.components.widgets.accounts-class-comparison","impac.components.widgets.accounts-expense-weight","impac.components.widgets.accounts-assets-vs-liabilities","impac.components.widgets.accounts-detailed-classifications","impac.components.widgets.accounts-ratios","impac.components.widgets.hr-employee-details","impac.components.widgets.hr-employees-list","impac.components.widgets.hr-leaves-balance","impac.components.widgets.hr-leaves-schedule","impac.components.widgets.hr-payroll-summary","impac.components.widgets.hr-payroll-taxes","impac.components.widgets.hr-salaries-summary","impac.components.widgets.hr-superannuation-accruals","impac.components.widgets.hr-timesheets","impac.components.widgets.hr-workforce-summary","impac.components.widgets.invoices-aged-payables-receivables","impac.components.widgets.invoices-list","impac.components.widgets.invoices-summary","impac.components.widgets.sales-aged","impac.components.widgets.sales-break-even","impac.components.widgets.sales-comparison","impac.components.widgets.sales-customer-details","impac.components.widgets.sales-cycle","impac.components.widgets.sales-forecast","impac.components.widgets.sales-growth","impac.components.widgets.sales-leads-funnel","impac.components.widgets.sales-leads-list","impac.components.widgets.sales-list","impac.components.widgets.sales-margin","impac.components.widgets.sales-net-sales","impac.components.widgets.sales-number-of-leads","impac.components.widgets.sales-opportunities-funnel","impac.components.widgets.sales-performance","impac.components.widgets.sales-segmented-turnover","impac.components.widgets.sales-summary","impac.components.widgets.sales-top-opportunities","impac.components.widgets.sales-top-customers","impac.components.widgets.sales-new-vs-existing-customers"]),angular.module("impac.components.widgets-settings",["impac.components.widgets-settings.account","impac.components.widgets-settings.accounts-list","impac.components.widgets-settings.accounting-behaviour","impac.components.widgets-settings.chart-filters","impac.components.widgets-settings.dates-picker","impac.components.widgets-settings.formula","impac.components.widgets-settings.hist-mode","impac.components.widgets-settings.limit-entries","impac.components.widgets-settings.organizations","impac.components.widgets-settings.param-selector","impac.components.widgets-settings.params-picker","impac.components.widgets-settings.params-checkboxes","impac.components.widgets-settings.time-period","impac.components.widgets-settings.time-presets","impac.components.widgets-settings.time-slider","impac.components.widgets-settings.width","impac.components.widgets-settings.attach-kpis","impac.components.widgets-settings.offsets"]),angular.module("impac.components.dashboard-settings",["impac.components.dashboard-settings.currency","impac.components.dashboard-settings.pdf-mode","impac.components.dashboard-settings.sync-apps"]),angular.module("impac.components.widgets-common",["impac.components.widgets-common.editable-title","impac.components.widgets-common.info-panel","impac.components.widgets-common.time-period-info","impac.components.widgets-common.top-buttons","impac.components.widgets-common.autofocus"]),angular.module("impac.components.common",["impac.components.common.data-not-found"]),angular.module("impac.services",["impac.services.routes","impac.services.linking","impac.services.theming","impac.services.assets","impac.services.chart-formatter","impac.services.message-bus","impac.services.utilities","impac.services.main","impac.services.kpis","impac.services.dashboards","impac.services.widgets","impac.services.developer","impac.services.pusher","impac.services.alerts","impac.services.notifications","impac.services.events"]),angular.module("impac.filters",["impac.filters.titleize","impac.filters.truncate","impac.filters.mno-currency","impac.filters.mno-date"]),angular.module("impac.constant",[]),angular.module("impac.components.templates",[]).run(["$templateCache",function(e){e.put("alerts-config/alerts-config.modal.html",'<div class="kpi-alerts-settings">\n\n  <div class="modal-header" translate>\n    impac.kpi.alerts.title\n  </div>\n\n  <div class="modal-body">\n    <span translate="impac.kpi.alerts.explanation"\n          translate-values="{name: kpi.name,  element_watched: kpi.element_watched}"></span>\n    <u>{{translateTarget(kpi)}}</u> :\n\n    <ul class="list-group">\n\n      <li class="list-group-item" ng-repeat="alert in alerts" ng-class="{active: alert.active}" ng-click="toggleAlert(alert)">\n        <i class="fa" ng-class="alert.active ? \'fa-toggle-on\' : \'fa-toggle-off\'" />\n        {{alert.label}}\n      </li>\n\n    </ul>\n  </div>\n\n  <div class="modal-footer text-right">\n    <button class="btn btn-default" ng-click="modal.close()" translate>impac.kpi.alerts.cancel</button>\n    <button class="btn btn-primary" ng-click="save(alerts)" translate><strong>impac.kpi.alerts.save</strong></button>\n  </div>\n\n</div>\n'),e.put("alerts-config/alerts-config.tmpl.html",'<div class="alerts-config" ng-show="(kpi.targets && kpi.targets[kpi.element_watched].length > 0)" ng-click="showAlertsSettings()">\n  <!-- directive link function compiles html here -->\n</div>\n'),e.put("dashboard/create.modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="instance.close()" >×</div>\n  <h3 translate>impac.dashboard.create.create_new_dashboard</h3>\n</div>\n\n<div class="modal-body">\n  <div class="row">\n    <div class="col-sm-12">\n      <div class="alert alert-error" ng-show="errors">\n        <button class="close" ng-click="errors=\'\'">×</button>\n        <ul>\n          <li ng-repeat="error in errors">{{error}}</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Create a new dashboard -->\n  <div class="row dashboard-form">\n    <div class="col-sm-10 col-sm-offset-1">\n      <form class="form-horizontal" role="form">\n        <div class="form-group">\n          <label class="col-sm-2 control-label" translate>impac.dashboard.create.name</label>\n          <div class="col-sm-10">\n            <input type=\'text\' class="form-control" ng-model="model.name" placeholder="{{\'impac.dashboard.create.placeholder.cash_accounts\' | translate}}" required>\n          </div>\n        </div>\n\n        <div class="form-group" ng-show="isMultiCompanyAvailable()">\n          <label class="col-sm-2 control-label" translate>impac.dashboard.create.type</label>\n          <div class="col-sm-10">\n            <div class="btn-group" role="group">\n              <button type="button" ng-click="selectMode(\'single\')" ng-class="btnBlassFor(\'single\')" translate>impac.dashboard.create.current_company</button>\n              <button type="button" ng-click="selectMode(\'multi\')" ng-class="btnBlassFor(\'multi\')" translate>impac.dashboard.create.multi_company</button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Single Company mode -->\n        <div class="form-group" ng-show="isCurrentOrganizationShown()">\n          <div ng-show="!canAccessAnalyticsForCurrentOrganization()" class="text-center text-purple">\n            <div class="spacer1"></div>\n            <p>\n              {{\'impac.dashboard.create.now_access_text\' | translate}} {{currentOrganization.name}}.\n              <span ng-show="isMultiCompanyAvailable()" translate>impac.dashboard.create.select_multi_company</span>\n            </p>\n          </div>\n        </div>\n\n        <!-- Multi Company mode -->\n        <div class="form-group" ng-show="isSelectOrganizationShown()">\n          <label class="col-sm-2 control-label" translate>impac.dashboard.create.companies</label>\n          <div class="col-sm-10">\n            <ul class="list-unstyled">\n              <li ng-repeat="organization in organizations" >\n                <input type="checkbox" ng-model="organization.$selected" ng-disabled="!canAccessAnalyticsData(organization)">\n                {{organization.name}}\n                <span ng-show="organization.is_customer_account">(customer)</span>\n                <span ng-show="!canAccessAnalyticsData(organization)">\n                  <em><small>\n                    &nbsp;\n                    &nbsp;\n                    <i class="fa fa-exclamation-circle text-danger" uib-tooltip="{{\'impac.dashboard.create.tooltip.access\' | translate}}"></i>\n                  </small></em>\n                </span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </form>\n\n      <!-- End row col -->\n    </div>\n\n    <!-- End Dashboard form -->\n  </div>\n\n\n\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-sm-12">\n      <button class="btn btn-shaded" ng-click="instance.dismiss()" ng-hide="isLoading" translate>impac.dashboard.create.cancel</button>\n      <button class="btn btn-primary" ng-click="proceed()" ng-disabled="isProceedDisabled()">\n        <i class="fa fa-spinner fa-pulse loader" ng-if="isLoading"></i>\n        {{\'impac.dashboard.create.add\' | translate}}\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("dashboard/dashboard.tmpl.html",'<!-- DASHBOARD -->\n<div class="analytics" ng-hide="(isLoading || forceLoad || failedDashboardLoad)" ng-class="{\'hide-dhb\': (isLoading || forceLoad), \'show-dhb\': !(isLoading || forceLoad), \'pdf-mode\': pdfMode }">\n  <div mno-star-wizard=true modal-open=\'starWizardModal.value\'></div>\n\n  <!-- Title and Dashboard selection -->\n  <div class="row" id="dashboard-heading" ng-if="showDhbHeading">\n    <div class="col-xs-12">\n      <img ng-src="{{impacTitleLogo}}" ng-click="!pdfMode || triggerUpload()" ng-class="{\'pdf-mode\': pdfMode}" />\n      <br />\n      <button class="btn btn-sm btn-default hidden-print" ng-click="triggerUpload()" ng-if="pdfMode" translate>impac.dashboard.change_logo</button>\n      <input type="file" style="display:none" id="fileInput" name="filedata"/>\n    </div>\n\n    <div class="col-xs-12">\n      <div class="caption">{{dhbHeadingText}}</div>\n    </div>\n  </div>\n\n  <!-- Impac KPI\'s -->\n  <kpis-bar ng-if="showKpisBar()" kpis="currentDhb.kpis"></kpis-bar>\n\n  <!-- Dashboards selection/creation/deletion -->\n  <dashboard-selector id="module__dashboard-selector" is-widget-selector-shown="showWidgetSelector()" on-create-dashboard="createDashboardModal.open()" on-display-widget-selector="displayWidgetSelector()" on-select-dashboard="activateTimer()" pdf-mode="pdfMode"></dashboard-selector>\n\n  <div id="sub-menu" uib-collapse="!showSubMenu">\n    <i class="fa fa-times" ng-click="hideSubMenu()" />\n\n    <!-- Displayed to MYOB Essentials Users -->\n    <div id="myob-message" ng-if="hasMyobEssentialsOnly && myobMessageConfig.show" class="alert alert-warning">\n      <h3 translate>impac.dashboard.it_looks_like</h3>\n      <p translate="impac.dashboard.unfortunately_information"></p>\n      <p>{{\'impac.dashboard.myob_message.part_1\' | translate}} <a href="http://myob.com.au/products/small-business/accounting-software/myob-accountright-1422735752948" target="_blank">{{\'impac.dashboard.myob_message.part_2\' | translate}}</a> {{\'impac.dashboard.myob_message.part_3\' | translate}}</p>\n      <p align="right" ng-if="myobMessageConfig.appLink.show"><a ng-href="{{myobMessageConfig.appLink.url}}" target="_blank" translate>{{myobMessageConfig.appLink.text}}</a></p>\n    </div>\n  </div>\n\n  <!-- Widgets selection container -->\n  <div id="widget-selector" uib-collapse="!showWidgetSelector()" ng-if="!customWidgetSelector.path">\n    <div class="title">\n      <i class="fa fa-times-circle" ng-if="showCloseWidgetSelectorButton()" ng-click="displayWidgetSelector(false)"/>\n      <span class="badge confirmation" translate>impac.dashboard.widget_added</span>\n      {{\'impac.dashboard.select_the_widgets\' | translate}}\n    </div>\n\n    <div class="row top-container">\n      <div class="col-md-3 categories">\n        <div class="row header" translate>impac.dashboard.all_categories</div>\n        <div class="row lines">\n          <div class="col-md-12" style="padding: 3px 12px;">\n            <p ng-click="selectCategory(\'accounts\')" ng-class="isCategorySelected(\'accounts\') ? \'selected\' : none" translate>impac.dashboard.accounting</p>\n            <p ng-click="selectCategory(\'invoices\')" ng-class="isCategorySelected(\'invoices\') ? \'selected\' : none" translate>impac.dashboard.invoicing</p>\n            <p ng-click="selectCategory(\'hr\')" ng-class="isCategorySelected(\'hr\') ? \'selected\' : none" translate>impac.dashboard.hr_or_payroll</p>\n            <p ng-click="selectCategory(\'sales\')" ng-class="isCategorySelected(\'sales\') ? \'selected\' : none" translate>impac.dashboard.sales</p>\n          </div>\n        </div>\n\n        <div class="arrow" ng-style="getSelectedCategoryTop()">\n          <div class="square"></div>\n          <i class="fa fa-caret-right"></i>\n        </div>\n\n      </div>\n\n      <div class="col-md-9 widgets">\n        <div class="row header">\n          {{getSelectedCategoryName() | titleize}}\n        </div>\n        <div class="row lines">\n          <div class="col-md-4" ng-repeat="widgetTemplate in getWidgetsForSelectedCategory()" style="padding: 0px 8px;">\n            <p ng-click="addWidget(widgetTemplate)" uib-tooltip="{{widgetTemplate.desc}}" tooltip-placement="{{$index < 9 ? \'bottom\' : \'top\'}}" tooltip-animation="false"  tooltip-append-to-body="true" tooltip-class="impac-widget-selector-tooltip"><i class="fa fa-{{widgetTemplate.icon}}" /> {{widgetTemplate.name}} <i class="fa fa-plus-circle" /></p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="bottom" ng-if="widgetSuggestionModal.config.apiPath">\n      <span class="suggestion">\n        {{\'impac.dashboard.can_not_find\' | translate}} <a ng-click="widgetSuggestionModal.open()">{{\'impac.dashboard.give_us\' | translate}}</a>\n      </span>\n    </div>\n  </div>\n\n  <!-- custom widget selector template configured from ImpacThemingProvider -->\n  <div id="custom-widget-selector" ng-if="customWidgetSelector.path" ng-include="customWidgetSelector.path" ng-hide="showChooseDhbMsg()"></div>\n\n  <!-- Dashboard Settings - DEFAULT POSITION -->\n  <div id="dashboard-settings-panel" ng-if="!dhbSettingsConfig.inWidgetsContainer && !showChooseDhbMsg()" class="row" ng-hide="pdfMode">\n    <div class="col-xs-12">\n      <div dashboard-setting-sync-apps ng-if="dhbSettingsConfig.syncApps.show()"/>\n      <div dashboard-setting-currency currency="currentDhb.currency" />\n    </div>\n  </div>\n\n  <!-- Errors -->\n  <div class="alert alert-error" ng-show="errors">\n    <button class="close" ng-click="errors=\'\'">×</button>\n    <ul>\n      <li ng-repeat="error in errors">{{error}}</li>\n    </ul>\n  </div>\n\n  <div id="no-widgets-container" class="row text-center ng-hide" ng-show=\'(showChooseDhbMsg() || showNoWidgetsMsg())\'>\n\n    <img ng-src="{{impacDashboardBackground}}" class="bg">\n\n    <div class="impac-info-message">\n      <!-- First Time Dashboard Creation -->\n      <div class="ng-hide" ng-show=\'showChooseDhbMsg()\'>\n        <div class=\'hidden-xs\'>\n          <div class="row top-buffer-4">\n            <div class="col-md-8 col-md-offset-2">\n              <div class="info-text">\n                <p><b translate>{{dhbErrorsConfig.firstTimeCreated.first}}</b></p>\n                <p translate>{{dhbErrorsConfig.firstTimeCreated.second}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="align-center top-buffer-2">\n          <button ng-click="createDashboardModal.open()" class=\'btn btn-lg btn-warning\'><span class=\'fa fa-plus\'></span> {{\'impac.dashboard.create_a_dashboard\' | translate}}</button>\n        </div>\n      </div>\n\n      <!-- Empty Dashboard -->\n      <div class="ng-hide" ng-show=\'showNoWidgetsMsg()\'>\n        <div class=\'hidden-xs\'>\n          <div class="row top-buffer-4">\n            <div class="col-md-8 col-md-offset-2">\n              <div class="info-text">\n                <p><b translate>{{dhbErrorsConfig.empty.first}}</b></p>\n                <p translate>{{dhbErrorsConfig.empty.second}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="align-center top-buffer-2">\n          <button ng-disabled="showWidgetSelector()" ng-click="displayWidgetSelector()" class=\'btn btn-lg btn-warning\'><span class=\'fa fa-plus\'></span> {{\'impac.dashboard.add_new_widget\' | translate}}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- First Time Dashboard Creation -->\n  <div class="row text-center" ng-show=\'showChooseDhbMsg()\'>\n    <img class="bg" ng-src="{{impacDashboardBackground}}">\n    <div class="spacer2 hidden-xs"></div>\n    <div class=\'col-md-8 col-md-offset-2\'>\n      <p class="text-muted"><small><em translate>{{dhbErrorsConfig.firstTimeCreated.note}}</em></small></p>\n    </div>\n  </div>\n\n  <!-- Widgets -->\n  <div class=\'row\' id="widgets-section" ng-hide="showNoWidgetsMsg() || showChooseDhbMsg()">\n    <!-- Dashboard Settings - CONFIGURED INSIDE WIDGETS-CONTAINER -->\n    <div id="dashboard-settings-panel" ng-if="dhbSettingsConfig.inWidgetsContainer && !showChooseDhbMsg()" class="col-md-12 in-widgets-container">\n      <div>\n        <div dashboard-setting-sync-apps ng-if="dhbSettingsConfig.syncApps.show()"/>\n        <div dashboard-setting-currency currency="currentDhb.currency" />\n      </div>\n    </div>\n    <div class="col-md-12">\n      <div id="widgets-container" ui-sortable="sortableOptions" ng-model="currentDhb.widgets" class="row">\n        <!-- Widgets -->\n        <div impac-widget widget="widget" is-accessibility="accessibility" parent-dashboard="currentDhb" ng-repeat="widget in currentDhb.widgets" class="widget-item" ng-class="widget.getCssClasses()" on-display-alerts="displaySubMenu()" />\n        <!-- Add Widget Tile, enabled & customised in ImpacThemingProvider -->\n        <div ng-if="isAddChartEnabled" class="unsortable" ng-click="addChartTileOnClick()">\n          <div class="col-md-6 widget-item add-chart">\n            <div class="a-content" translate>impac.dashboard.plus_chart</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="analytics" ng-show="(isLoading || forceLoad)">\n  <div class="row">\n    <div class="col-md-12 loader-container text-center" style="margin-top: 200px;">\n      <i class="fa fa-refresh fa-spin" style="font-size: 250px; opacity: 0.7;"/>\n    </div>\n  </div>\n</div>\n\n<div class="analytics load-failed" ng-show="!isLoading && failedDashboardLoad">\n  <div class="row">\n    <div class="col-md-12 text-center" style="margin-top: 200px;">\n      <p translate>{{dhbErrorsConfig.failed.first}}</p>\n      <div class="second-msg" ng-if="displaySecondMsg">\n        <p translate>{{dhbErrorsConfig.failed.second}}</p>\n      </div>\n      <a href="" ng-click="reloadDashboard()">\n        <button type="button" class="btn btn-default" translate>impac.dashboard.refresh</button>\n      </a>\n    </div>\n  </div>\n</div>\n'),e.put("dashboard/widget-suggestion.modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="instance.close()" >×</div>\n  <h3 translate>impac.dashboard.widget_suggestion.suggest_a_widget</h3>\n</div>\n\n<div class="modal-body">\n\n  <div class="row">\n    <div class="col-md-6">\n      <label translate>impac.dashboard.widget_suggestion.widget_name</label><br />\n      <input type="text" ng-model="widgetDetails.name" ng-disabled="isLoading" />\n    </div>\n    <div class="col-md-6">\n      <label>In which category?</label><br />\n      <input type="text" ng-model="widgetDetails.category" ng-disabled="isLoading" />\n    </div>\n  </div>\n\n  <div class="spacer1" />\n\n  <div class="row">\n    <div class="col-md-12">\n      <label translate>impac.dashboard.widget_suggestion.kind_of_information</label><br/>\n      <textarea ng-model="widgetDetails.description" ng-disabled="isLoading" />\n    </div>\n  </div>\n\n  <div class="spacer1" ng-show="isLoading" />\n\n  <div class="row" uib-collapse="!onSuccess">\n    <div class="col-md-12 text-center">\n      <h3 class="thanks-message">{{userName | titleize}}, <span translate="impac.dashboard.widget_suggestion.helping"></span></h3>\n    </div>\n  </div>\n\n  <div class="row" ng-show="error">\n    <div class="col-md-12 text-center">\n      <h5 style="color: red;" translate>impac.dashboard.widget_suggestion.unable_to_send</h5>\n    </div>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-sm-12">\n      <button class="btn btn-shaded" ng-click="instance.dismiss()" ng-hide="isLoading" translate>impac.dashboard.widget_suggestion.cancel</button>\n      <button class="btn btn-info" ng-click="proceed()" ng-disabled="!(widgetDetails.name && widgetDetails.category && widgetDetails.description) || isLoading">\n        <i class="fa fa-spinner fa-pulse loader" ng-show="isLoading"></i>\n        {{\'impac.dashboard.widget_suggestion.send_your_suggestion\' | translate}}\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("dashboard-selector/bootstrap-tabs.tmpl.html",'<div class="row buttons-bar-row" ng-class="{\'pdf-mode\': pdfMode}">\n\n  <div ng-show="pdfMode" class=\'col-md-6 col-md-offset-3 title-container text-center\'>\n    <h1 class="dashboard-title">\n      {{currentDhb.full_name}}\n    </h1>\n    <p class="data-source-label">\n      <small><b translate>impac.dashboard_selector.bootstrap_tabs.source</b> {{organizationsNames()}}</small>\n    </p>\n  </div>\n\n  <div class="buttons-bar col-sm-8" ng-show="isThereADashboard() && !pdfMode">\n    <uib-tabset type="{{selectorType}}">\n      <uib-tab ng-repeat="dhb in dashboardsList" ng-click="selectDashboard(dhb.id)" active="dhb.active">\n        <uib-tab-heading>\n          {{dhb.full_name}}\n          <a href="" class="close-link" ng-if="isDeleteDhbEnabled">\n            <i class="fa fa-times" ng-click="deleteDashboardModal.open()"></i>\n          </a>\n        </uib-tab-heading>\n      </uib-tab>\n      <uib-tab ng-if=\'isAccessibilityEnabled\' ng-click="toggleAccessibilityMode()">\n        <uib-tab-heading>\n          <a href=""><i class="fa fa-wheelchair"></i></a>\n        </uib-tab-heading>\n      </uib-tab>\n      <uib-tab ng-if="isAddDhbEnabled" ng-click="onCreateDashboard()">\n        <uib-tab-heading>\n          <a href="">+</a>\n        </uib-tab-heading>\n      </uib-tab>\n    </uib-tabset>\n  </div>\n\n  <div class=\'buttons-bar hidden-print\' ng-class="{\'col-md-3\': pdfMode, \'col-sm-4\': !pdfMode}">\n    <div class=\'actions-panel\'>\n      <button ng-if=\'isAccessibilityEnabled && !pdfMode\' ng-click="toggleAccessibilityMode()" class=\'btn btn-info\' ng-disabled="isWidgetSelectorShown()"><span class=\'fa fa-wheelchair\'></span></button>\n      <button ng-if="isAddWidgetEnabled && isThereADashboard() && !pdfMode" ng-click="onDisplayWidgetSelector()" class=\'btn btn-warning\' ng-disabled="isWidgetSelectorShown()"><span class=\'fa fa-plus\'></span> {{\'impac.dashboard_selector.bootstrap_tabs.add_widget\' | translate}}</button>\n\n      <div dashboard-settings-pdf-mode ng-if="isThereADashboard() && !isCurrentDashboardEmpty()" />\n\n    </div>\n  </div>\n</div>\n'),e.put("dashboard-selector/delete.modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="instance.close()" >×</div>\n  <h3 translate>impac.dashboard_selector.delete.delete_dashboard</h3>\n</div>\n\n<div class="modal-body">\n  <div class="row">\n    <div class="col-sm-12">\n      <div class="alert alert-error" ng-show="errors">\n        <button class="close" ng-click="errors=\'\'">×</button>\n        <ul>\n          <li ng-repeat="error in errors">{{error}}</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Create a new widget -->\n  <p translate>impac.dashboard_selector.delete_widget.description</p>\n\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-sm-12">\n      <button class="btn btn-shaded" ng-click="instance.dismiss()" ng-hide="isLoading" ng-disabled="isLoading" translate>impac.dashboard_selector.delete.cancel</button>\n      <button class="btn btn-danger" ng-click="proceed()" ng-disabled="isLoading">\n        <i class="fa fa-spinner fa-pulse loader" ng-if="isLoading"></i>\n        {{\'impac.dashboard_selector.delete.delete\' | translate}}\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("dashboard-selector/dropdown.tmpl.html",'<div class="row buttons-bar-row buttons-bar" ng-class="{\'pdf-mode\': pdfMode}">\n\n  <div ng-show="pdfMode" class=\'col-md-6 col-md-offset-3 title-container text-center\'>\n    <h1 class="dashboard-title">\n      {{currentDhb.full_name}}\n    </h1>\n    <p class="data-source-label">\n      <small><b translate>impac.dashboard_selector.dropdown.source</b> {{organizationsNames()}}</small>\n    </p>\n  </div>\n\n  <div class="col-md-6 dropdown-container" ng-hide="isLoading || pdfMode">\n    <div ng-if="isThereADashboard()">\n      <h4 class=\'dashboard-title\'>\n        <div style="display: inline-block;" ng-click="toggleShowDashboardsDropdown()">\n          {{currentDhb.full_name}}\n          <i class="fa fa-chevron-down" style="font-size: 18px;"></i>\n        </div>\n        <i ng-hide="showChangeDashboardNameBox" class="fa fa-pencil" uib-tooltip="{{\'impac.dashboard_selector.dropdown.tooltip.change_name\' | translate}}" tooltip-animation="false" tooltip-append-to-body="true" ng-click="toggleChangeDashboardNameBox(currentDhb)"></i>\n      </h4>\n\n      <div ng-show="showDashboardsDropdown" class=\'dashboard-select hidden-print\'>\n        <div ng-hide="dhb.id == currentDhb.id" class=\'option\' ng-repeat="dhb in dashboardsList">\n          <span class="name" ng-click="selectDashboard(dhb.id)">{{dhb.full_name}}</span>\n          <i ng-hide="showChangeDashboardNameBox" class="fa fa-pencil" uib-tooltip="{{\'impac.dashboard_selector.dropdown.tooltip.change_name\' | translate}}" tooltip-animation="false" tooltip-append-to-body="true" ng-click="toggleChangeDashboardNameBox(dhb)"/>\n        </div>\n\n        <div ng-show="showCreateDashboardButton" class="option create" ng-click="onCreateDashboard()"><i class="fa fa-plus" /> {{\'impac.dashboard_selector.dropdown.create_dashboard\' | translate}}</div>\n      </div>\n\n      <div ng-if="showChangeDashboardNameBox" class="change-name">\n        <p translate>impac.dashboard_selector.dropdown.change_dashboard_name</p>\n        <input type="text" class="form-control" id="changeDhbNameInput" ng-model="dashboardToChange.name" ng-keyup="checkAndUpdateDashboardName($event)"/>\n        <button class="btn btn-sm btn-default" ng-click="hideChangeDashboardNameBox()" translate>impac.dashboard_selector.dropdown.cancel</button>\n        <button class="btn btn-sm btn-success" style="margin-left: 10px" ng-click="updateDashboardName()" translate>impac.dashboard_selector.dropdown.confirm</button>\n      </div>\n\n      <p class="data-source-label">\n        <small><b translate>impac.dashboard_selector.dropdown.source</b> {{organizationsNames()}}</small>\n      </p>\n    </div>\n  </div>\n\n  <div class="col-md-6 loader-container" ng-show="isLoading">\n    <i class="fa fa-spinner fa-pulse fa-4x loading-spinner"/>\n  </div>\n\n  <div class=\'actions-panel hidden-print\' ng-class="{\'col-md-3\': pdfMode, \'col-md-6\': !pdfMode}">\n    <button ng-if=\'isAccessibilityEnabled\' ng-click="toggleAccessibilityMode()" class=\'btn btn-info\' ng-disabled="showWidgetSelector" ng-hide="pdfMode"><span class=\'fa fa-wheelchair\'></span></button>\n\n    <button ng-if="isAddWidgetEnabled && isThereADashboard()" ng-click="onDisplayWidgetSelector()" class=\'btn btn-warning\' ng-disabled="isWidgetSelectorShown()" ng-hide="pdfMode"><span class=\'fa fa-plus\'></span> {{\'impac.dashboard_selector.dropdown.add_widget\' | translate}}</button>\n\n    <button ng-if="isAddDhbEnabled" ng-click="onCreateDashboard()" class=\'btn btn-warning\' ng-show="showCreateDashboardButton" ng-hide="pdfMode"><span class=\'fa fa-pencil-square-o\'></span> {{\'impac.dashboard_selector.dropdown.create_dashboard\' | translate}}</button>\n\n    <div dashboard-settings-pdf-mode ng-if="isThereADashboard() && !isCurrentDashboardEmpty()" />\n\n    <button ng-if="isDeleteDhbEnabled && isThereADashboard()" ng-click="deleteDashboardModal.open()" class=\'btn btn-danger hidden-xs\' ng-show="isThereADashboard()" uib-tooltip="{{\'impac.dashboard_selector.dropdown.tooltip\' | translate}}" ng-hide="pdfMode"><span class=\'fa fa-trash-o\'></span> </button>\n  </div>\n\n</div>\n'),e.put("kpi/kpi.tmpl.html",'<div class="kpi" ng-class="{ \'static\': kpi.static, \'triggered\': (kpi.layout.triggered && !isEditing() && !isLoading()), \'editing\': isEditing() }">\n  <div class="content-container" ng-hide="isLoading()">\n    <div class="top-line" ng-class="{ \'triggered\': kpi.layout.triggered }"></div>\n    <div class="kpi-content" ng-show="showKpiContent()" ng-class="{ \'editing\': isEditing() }">\n      <!-- SHOW -->\n      <div class="kpi-show row nomargin nopadding" ng-hide="isEditing()">\n        <div class="col-xs-3 col-sm-3 kpi-icon" ng-class="{ \'triggered\': kpi.layout.triggered }">\n          <i class="fa {{kpi.layout.icon.value}} fa-2x"></i>\n        </div>\n        <div class="col-xs-9 col-sm-9 kpi-text" ng-class="{ \'triggered\': kpi.layout.triggered }">\n          <span class="caption" uib-tooltip="{{kpi.layout.text.caption}}" tooltip-append-to-body="false">{{kpi.layout.text.caption}}</span>\n          <span class="emphasis" uib-tooltip="{{kpi.layout.text.emphasis}} - ({{ getRealValue() }})" tooltip-placement="bottom" tooltip-append-to-body="false">\n            <strong>{{kpi.layout.text.emphasis}}</strong> - <span class="real-value">({{ getRealValue() }})</span>\n          </span>\n        </div>\n      </div>\n      <!-- EDIT -->\n      <div class="kpi-edit" ng-show="isEditing()">\n        <div class="kpi-name">\n          <h6>{{kpi.name.toUpperCase()}}</h6>\n        </div>\n        <alerts-config kpi="kpi" button-html="\n          <div class=\'im-button alert-caption\'>\n            <span><a href=\'\' ng-bind=\'kpi.layout.text.alert\' /></span>\n          </div>">\n        </alerts-config>\n\n        <form name="kpi{{kpi.id}}SettingsForm">\n          <!-- watchables -->\n          <div ng-repeat="watchable in kpi.watchables track by $index">\n            <div class="real-value" ng-show="kpi.data">{{\'impac.kpi.current\' | translate}} {{watchable}}: {{ getRealValue() }}</div>\n            <!-- targets -->\n            <div class="im-form-group" ng-class="getFormTargetValueInput(watchable, $index).$valid ? \'has-success\' : \'has-error\'" ng-repeat="target in targets[watchable] track by $index">\n              <!-- target -->\n              <input name="{{watchable}}TargetValue{{$index}}" type="text" pattern="^-?\\d+(\\.\\d+)?$" ng-model="target[getTargetPlaceholder(watchable).mode]" placeholder="{{bindTargetInputPlaceholder(watchable, $index)}}" ng-focus="setTargetInputPlaceholder(watchable, $index)" ng-blur="resetTargetInputPlaceholder(watchable, $index)" autofocus ng-keypress="onKeyPress($event)" required>\n              <label for="targetValue" class="im-control-label">{{watchable | titleize}}</label><i class="im-bar"></i>\n              <span class="kpi-target-unit" aria-hidden="true">{{getTargetUnit(watchable)}}</span>\n              <!-- target error messages -->\n              <div ng-messages="getFormTargetValueInput(watchable, $index).$error" class="im-messages">\n                <span ng-message="required" translate>impac.kpi.kpi_target_require</span>\n                <span ng-message="pattern" translate>impac.kpi.kpi_target_number</span>\n              </div>\n            </div>\n          </div>\n\n          <div class="im-form-group">\n            <div ng-repeat="(param, paramValues) in kpi.possibleExtraParams track by $index">\n              <!-- extra param selection -->\n              <select name="extraParam" ng-model="kpi.extra_params[param]" ng-options="value.id as value.label for value in paramValues">\n              </select>\n              <label for="extraParam" class="im-control-label">{{\'impac.kpi.extra_param_label.verb\' | translate}} {{param | titleize}}</label>\n              <i class="im-bar"></i>\n            </div>\n          </div>\n        </form>\n\n        <!-- Remove KPI -->\n        <button type="button" class="kpi-remove im-fab im-warn" ng-click="deleteKpi()">\n          <i class="fa fa-times" aria-hidden="true"></i>\n        </button>\n\n      </div>\n    </div>\n    <!-- Data not found display -->\n    <div class="kpi-no-data" ng-if="isDataNotFound()">\n      <!-- Remove KPI -->\n      <button type="button" ng-show="isEditing()" class="kpi-remove im-fab im-warn" ng-click="deleteKpi()">\n        <i class="fa fa-times" aria-hidden="true"></i>\n      </button>\n      <div common-data-not-found no-image="true" endpoint="::kpi.endpoint"/>\n    </div>\n  </div>\n  <div class="col-xs-2 kpi-data-loader loader" ng-if="isLoading()">\n    <i class="fa fa-spinner fa-pulse fa-3x"></i>\n  </div>\n</div>\n'),e.put("kpis-bar/kpis-bar.tmpl.html",'<div class="kpis" ng-class="{\'empty\': (kpis.length == 0), \'hidden-print\': (kpis.length == 0)}">\n\n  <div class="actions">\n    <button type="button" class="toggle-show-content im-fab im-primary" ng-click="toggleShowContent()">\n      <a href=""><i class="fa" ng-class="{ \'fa-chevron-up\': showContent, \'fa-chevron-down\': !showContent }"></i></a>\n    </button>\n    <div class="content-buttons">\n      <button type="button" class="add-kpis im-fab im-primary" ng-click="availableKpis.toggle()" ng-class="{ disabled: !hasKpiAvailability() }">\n        <a href=""><i class="fa" ng-class="{\'fa-plus\': availableKpis.kpiSelectorHidden, \'fa-minus\': !availableKpis.kpiSelectorHidden}"></i></a>\n      </button>\n      <button type="button" class="edit-kpis im-fab im-primary" ng-class="{ \'disabled\': toggleEditModeLock, \'editing\':isEditing() }" ng-click="toggleEditMode()" ng-if="kpis.length > 0">\n        <a href=""><i class="fa" ng-class="{ \'fa-cog\': !isEditing(), \'fa-floppy-o\': isEditing() }"></i></a>\n      </button>\n    </div>\n  </div>\n\n  <div class="content">\n    <div class="row title" ng-if="kpis.length == 0 && availableKpis.kpiSelectorHidden">\n      <span class="badge" translate>impac.kpi_bar.new</span>\n      <div class="col-xs-12 text-center">\n        <a href="" class="show-dashboard" ng-click="availableKpis.toggle()" ng-show="hasKpiAvailability()" translate>impac.kpi_bar.you_can_now</a>\n        <span class="no-kpi-templates" ng-hide="hasKpiAvailability()" translate>impac.kpi_bar.no_kpis</span>\n      </div>\n    </div>\n\n    <div class="row add-bar" uib-collapse="availableKpis.kpiSelectorHidden">\n      <div class="col-xs-12 col-sm-12">\n        <div class="row">\n          <div ng-repeat="kpi in availableKpis.list track by $index" class="impac-kpi col-xs-6 col-sm-4 col-md-3" ng-click="addKpi(kpi)">\n            <div class="kpi add" ng-hide="(availableKpis.list.length == 0)">\n              <div class="top-line ui-sortable-handle"></div>\n              <div class="kpi-content">\n                <div class="kpi-show row nomargin nopadding">\n                  <div class="col-xs-3 col-sm-3 kpi-icon">\n                    <i class="fa fa-2x fa-plus"></i>\n                  </div>\n                  <div class="col-xs-9 col-sm-9 kpi-text">\n                    <span class="caption"><strong>{{kpi.name}}</strong></span>\n                    <span class="emphasis" translate>impac.kpi_bar.add_to_dashboard</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-xs-12 col-sm-12">\n        <div class="row">\n          <div ui-sortable="sortableOptions" ng-model="kpis">\n            <div ng-repeat="kpi in kpis" impac-kpi class="impac-kpi col-xs-6 col-sm-4 col-md-3" kpi="kpi" on-delete="removeKpi(kpi.id)" edit-mode="showEditMode" available-kpis="availableKpis.list" load-ready="kpiDatesDeferred">\n            </div>\n          </div>\n          <div ng-show="isAddingKpi" class="col-xs-6 col-sm-4 col-md-3 kpi-loader">\n            <i class="fa fa-2x fa-spin fa-refresh"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row" ng-show="isEditing() && kpis.length">\n      <div class="dates-picker-container">\n        <div setting-dates-picker from="kpisDateRange.from" to="kpisDateRange.to" keep-today="kpisDateRange.keepToday" on-change="kpisBarUpdateDates" deferred="datesPickerDeferred"/>\n      </div>\n    </div>\n</div>\n\n</div>\n'),e.put("widget/widget.tmpl.html",'<div class="top-line">\n  <div common-editable-title parent-widget="widget" class="editable-title" on-toggle="toggleEditTitle()" />\n  <div common-top-buttons parent-widget="widget" on-refresh="showWidget" ng-hide="isInfoPanelDisplayed() || isTitleEdited() || pdfMode" on-toggle-info-panel="toggleInfoPanel()"/>\n</div>\n\n<div ng-if="pdfMode && !widget.ticked" class="include-to-pdf title hidden-print">\n  <h6 translate>impac.widget.include_pdf</h6>\n</div>\n\n<div class="content" ng-class="::cssClass">\n  <div ng-show="widget.isLoading" class="loader" align="center">\n    <div>\n      <i class="fa fa-spinner fa-pulse fa-3x"></i>\n      <p translate="impac.widget.loader"></p>\n    </div>\n  </div>\n\n  <div ng-if="pdfMode" class="include-to-pdf tick hidden-print">\n    <a class="widget-hover" ng-click="tick()">\n      <i class="fa fa-check-circle fa-5x" aria-hidden="true" ng-show="widget.ticked"></i>\n    </a>\n  </div>\n\n  <div ng-hide="widget.isLoading" ng-include="::templatePath" />\n</div>\n\n<div common-info-panel parent-widget="widget" on-close="toggleInfoPanel()" ng-show="isInfoPanelDisplayed()" />\n'),e.put("common/data-not-found.tmpl.html",'<div class="data-not-found">\n  <img id="not-found-bg" />\n  <div class="message">\n    {{content.mainMessage | translate}}\n\n    <a ng-show="showAlertsTrigger" ng-click="onDisplayAlerts()">\n      <i class="fa fa-warning" />{{\'impac.data_not_found_config.find_why\' | translate}}\n    </a>\n    <a ng-if="hasCallbackUrl" ng-hide="showAlertsTrigger" ng-click="content.linkUrlCallback()" translate>\n      {{content.linkMessage}}\n    </a>\n    <a ng-if="!hasCallbackUrl" ng-hide="showAlertsTrigger" ng-href="{{content.linkUrl}}" target="{{content.linkTarget}}" translate>\n      {{content.linkMessage}}\n    </a>\n\n  </div>\n</div>\n'),e.put("dashboard-settings/currency.tmpl.html",'<div class="dashboard-settings currency">\n  <select ng-options="cur for cur in currencies" ng-model="currency" ng-change="massAssignCurrency()" ng-disabled="locked">\n    <option ng-if="!currency" value="" disabled translate>impac.components.currency.choose_currency</option>\n  </select>\n</div>\n'),e.put("dashboard-settings/pdf-mode.tmpl.html",'<div class="dashboard-settings pdf-mode" ng-if="enabled">\n  <div ng-hide="pdfMode">\n    <button ng-click="toggle()" class=\'btn btn-info\' uib-tooltip="Print Dashboard">\n      <span class=\'fa fa-print\' />\n    </button>\n  </div>\n\n  <div ng-show="pdfMode">\n    <button ng-click="print()" class=\'btn btn-info\' ng-disabled="allNotTicked">\n      <span class=\'fa fa-print\' /> {{\'impac.components.pdf_mode.print\' | translate}}\n    </button>\n    <button ng-click="toggle()" class=\'btn btn-default\' translate>impac.components.pdf_mode.cancel</button>\n  </div>\n</div>\n'),e.put("dashboard-settings/sync-apps.tmpl.html",'<!-- Will be displayed only if specified in configuration and if first response has been processed (realtimeSyncing eq true) -->\n<div class="dashboard-settings sync-apps" ng-show="connectors.length || realtimeSyncing">\n\n  <span class="show-status" uib-popover-template="\'connectors.tmpl.html\'" popover-trigger="mouseenter" popover-placement="bottom" ng-click="triggerSyncAlertsModal()">\n    <i class="fa fa-info" ng-click="triggerSyncAlertsModal()" />\n    <span class="ng-hide" ng-show="isSyncing" translate>impac.components.sync_apps.syncing</span>\n    <span ng-hide="isSyncing" translate>impac.components.sync_apps.show_sync_status</span>\n  </span>\n\n  <div class="status-btn" ng-click="triggerSyncAlertsModal()" ng-show="hasError && !isSyncing">\n    <i class="fa fa-exclamation-triangle"></i>\n  </div>\n\n  <div class="status-btn" ng-click="triggerSyncAlertsModal()" ng-show="!hasError && !isSyncing">\n    <i class="fa fa-check"></i>\n  </div>\n\n  <button id="sync" class="btn btn-primary" ng-click="synchronize()" uib-tooltip="{{\'impac.components.sync_apps.tooltip.sync_data\' | translate}}" ng-disabled="isSyncing">\n    <i class="fa fa-refresh" ng-class="{ \'fa-spin\': isSyncing }" />\n  </button>\n\n</div>\n\n<!-- ui.bootstrap popover template -->\n<script type="text/ng-template" id="connectors.tmpl.html">\n  <div class="connector" ng-repeat="connector in connectors track by $index" ng-class="{ \'{{connector.status.toLowerCase()}}\': true, \'add-seperator\': !$last }">\n    <div class="badge">{{connector.status}}</div>\n    <strong>{{connector.name}}</strong> -\n    <span ng-switch="connector.status">\n      <span ng-switch-when="SUCCESS">{{\'impac.components.sync_apps.status.synced_at\' | translate}} {{connector.formatted_date}}.</span>\n      <span ng-switch-when="PENDING" translate>impac.components.sync_apps.status.sync_will_run</span>\n      <span ng-switch-when="RUNNING" translate>impac.components.sync_apps.status.syncing_in_progres</span>\n      <span ng-switch-when="ERROR" translate>impac.components.sync_apps.status.sync_failed</span>\n      <span ng-switch-when="DISCONNECTED" translate>impac.components.sync_apps.status.please_link</span>\n      <span ng-switch-when="UNKNOWN" translate>impac.components.sync_apps.status.could_not_retrieve</span>\n    </span>\n    <!-- <span ng-if="connector.formatted_date"> - Synced at {{connector.formatted_date}}</span> -->\n  </div>\n  <div class="popover-footer" ng-class="{ \'remove-seperator\': realtimeSyncing }">\n    <p>{{\'impac.components.sync_apps.all\' | translate}} {{realtimeSyncing ? \'\' : \'other\'}} {{\'impac.components.sync_apps.applications_are_synced\' | translate}}</p>\n  </div>\n</script>\n\n<!-- ui.bootstrap modal template -->\n<script type="text/ng-template" id="alerts.tmpl.html">\n  <div id="sync-apps-modal">\n    <div class="modal-header">\n      <h4 class="modal-title" translate>impac.components.sync_apps.synchronization_status</h4>\n    </div>\n    <div class="modal-list">\n      <div class="modal-list-item" ng-class="{\'{{connector.status.toLowerCase()}}\': true, \'with-message\': connector.message}" ng-repeat="connector in connectors track by $index" ng-click="expandListItemOnClick(connector)">\n        <div class="badge">{{connector.status}}</div>\n        <div class="text-left">\n          <strong>{{connector.name}}</strong> -\n          <span ng-switch="connector.status">\n            <span ng-switch-when="SUCCESS">{{\'impac.components.sync_apps.status.synced_at\' | translate}} {{connector.formatted_date}}.</span>\n            <span ng-switch-when="PENDING" translate>impac.components.sync_apps.status.sync_will_run</span>\n            <span ng-switch-when="RUNNING" translate>impac.components.sync_apps.status.syncing_in_progres</span>\n            <span ng-switch-when="ERROR" translate>impac.components.sync_apps.status.sync_failed</span>\n            <span ng-switch-when="DISCONNECTED" translate>impac.components.sync_apps.status.please_link</span>\n            <span ng-switch-when="UNKNOWN" translate>impac.components.sync_apps.status.could_not_retrieve</span>\n          </span>\n        </div>\n        <div class="message ng-hide" ng-show="connector.showMessage">\n          <p>{{connector.message}}</p>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-primary" type="button" ng-click="ok()" translate>impac.components.sync_apps.ok</button>\n    </div>\n  </div>\n</script>\n'),e.put("widgets-common/editable-title.tmpl.html",'<div ng-show="parentWidget.hasEditAbility" class="hidden-xs hidden-sm title" editable-text="parentWidget.name" onaftersave="updateName()" onshow="onToggle()" onhide="onToggle()" uib-tooltip="{{ getTooltip() }}" tooltip-placement="top-left">\n  {{ parentWidget.name }}\n</div>\n\n<div ng-hide="parentWidget.hasEditAbility" class="hidden-xs hidden-sm title" uib-tooltip="{{ getTooltip() }}" tooltip-placement="top-left">\n  {{ parentWidget.name }}\n</div>\n\n<!-- Title edition no designed for mobile -->\n<div class="visible-xs visible-sm title">\n  {{ parentWidget.name }}\n</div>\n'),e.put("widgets-common/info-panel.tmpl.html",'<div class="info-panel">\n\n  <div class="i-header text-center">\n    <i class="fa fa-info-circle" />\n    <i class="fa fa-times-circle" ng-click="toggleInfoPanel()" />\n    {{\'impac.widget.info_panel.information\' | translate}} <b>{{ getWidgetTemplateName() | titleize }}</b>\n  </div>\n\n  <div class="i-content text-left">\n    <div class="row text-left" ng-repeat="i in parentWidget.content.info">\n\n      <div class="col-md-3 key">\n        {{i.key}}\n      </div>\n\n      <div class="col-md-9 value">\n        {{i.value}}\n      </div>\n\n    </div>\n  </div>\n\n</div>\n'),e.put("widgets-common/time-period-info.tmpl.html",'<div class="time-period-info text-center" ng-if="context">\n  {{::date}}\n</div>\n'),e.put("widgets-common/top-buttons.tmpl.html",'<div class="top-buttons">\n  <div class="top-buttons-wrapper">\n\n    <button class="btn top-button btn-info" ng-if="hasInfo()" ng-click="onToggleInfoPanel()">\n      <i class="fa fa-info-circle"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.info</span>\n    </button>\n\n    <button class="btn top-button btn-refresh" ng-click="onRefresh({refreshCache: true})">\n      <i class="fa fa-refresh"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.refresh</span>\n    </button>\n\n    <button class="btn top-button btn-edit" ng-click="toggleEditMode()" ng-show="parentWidget.hasEditAbility" ng-class="{\'edit-mode\': parentWidget.isEditMode}">\n      <i class="fa fa-cog fa-lg"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.edit</span>\n    </button>\n\n    <button class="btn top-button btn-close" ng-click="toggleDeleteMode()" ng-show="parentWidget.hasDeleteAbility">\n      <i class="fa fa-times-circle-o fa-lg"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.delete</span>\n    </button>\n  </div>\n\n  <div class="confirm-delete-popover" ng-show="showConfirmDelete">\n    <h4 translate>impac.widget.common.top_buttons.delete.title</h4>\n    <p translate>impac.widget.common.top_buttons.delete.explanation</p>\n    <div ng-hide="isDeletePopoverLoading">\n      <button ng-click="toggleDeleteMode()" class="btn btn-sm btn-default" translate>impac.widget.common.top_buttons.delete.cancel</button>\n      <button ng-click="deleteWidget()" class="btn btn-sm btn-danger" style="margin-left: 10px;" translate>impac.widget.common.top_buttons.delete.delete</button>\n    </div>\n    <div ng-show="isDeletePopoverLoading" class="loader" align="center">\n      <div>\n        <i class="fa fa-spinner fa-pulse fa-4x"></i>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("widgets/accounts-assets-liability-summary.tmpl.html",'<div widget-accounts-assets-liability-summary>\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.acc_ass_liab_smry.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.acc_ass_liab_smry.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.acc_ass_liab_smry.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)" class="chart-container">\n      <!-- account classification selectors -->\n      <div setting-param-selector parent-widget="widget" param="classification" options="accountsOptions" selected="selectedAccountsOption" class="row param-selector" deferred="::paramSelectorDeferred"/>\n      <!---->\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <div class="title" ng-show="widget.metadata.organization_ids.length==1">{{widget.content.summary[0].company}} {{classification}}</div>\n        <div class="title" ng-hide="widget.metadata.organization_ids.length==1">{{classification}} repartition</div>\n        <span ng-repeat="valuePair in dataSource">\n          <span style="font-weight: bold; color: {{getAccountColor(valuePair)}};">{{valuePair.label}}</span>: {{valuePair.total | mnoCurrency : getCurrency()}}\n          <br />\n        </span>\n      </div>\n    </div>\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n</div>\n'),e.put("widgets/accounts-accounting-values.tmpl.html",'<div widget-accounts-accounting-values>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.accounting_values.turnover.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounting_values.turnover.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounting_values.turnover.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="pnl" />\n\n      <div ng-hide="widget.isHistoryMode" class="current">\n        <div class="price">\n           {{ getCurrentPrice() | mnoCurrency : currency_unit : false }}\n        </div>\n        <div class="currency">{{::currency}}</div>\n        <div class="legend">{{::legend}}</div>\n      </div>\n\n      <div class="history chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        <div class="legend">{{::legend}}</div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-assets-summary.tmpl.html",'<div widget-accounts-assets-summary>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.acc_ass_smry.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.acc_ass_smry.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.acc_ass_smry.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)" class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <div class="title" ng-show="widget.metadata.organization_ids.length==1">{{widget.content.summary[0].company}} {{classification}}</div>\n        <div class="title" ng-hide="widget.metadata.organization_ids.length==1">{{classification}} repartition</div>\n        <span ng-repeat="valuePair in dataSource">\n          <span style="font-weight: bold; color: {{getAccountColor(valuePair)}};">{{valuePair.label}}</span>: {{valuePair.total | mnoCurrency : getCurrency()}}\n          <br />\n        </span>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-assets-vs-liabilities.tmpl.html",'<div widget-accounts-assets-vs-liabilities>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.acc_ass_vs_liab.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.acc_ass_vs_liab.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.acc_ass_vs_liab.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)" class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend" style="max-height: 115px;">\n        <div class="title">\n          <i class="fa fa-circle" style="color: {{assetsColor}};"\n          translate="impac.widget.acc_ass_vs_liab.asset.many"></i> |\n          <i class="fa fa-circle" style="color: {{liabilitiesColor}};"\n          translate="impac.widget.acc_ass_vs_liab.liability.many"></i>\n        </div>\n        <div class="row">\n          <div ng-repeat="data in companiesList" ng-class="{\'col-md-6\': (widget.content.companies.length > 1), \'col-md-12\': (widget.content.companies.length == 1)}">\n            <span>{{ data.company }}</span><br />\n            <span style="color: {{assetsColor}};"> {{ data.assets | mnoCurrency : data.currency }}</span> <br/>\n            <span style="color: {{liabilitiesColor}};"> {{ data.liabilities | mnoCurrency : data.currency }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-balance.tmpl.html",'<div widget-accounts-balance>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_balance.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-account parent-widget="widget" on-account-selected="updateKpiExtraParams(\'account\', widget.selectedAccount)" class="part" deferred="::accountBackDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n    <!-- ATTACH KPI FEATURE HAS BEEN DISABLED UNTIL FURTHER NOTICE. -->\n    <!-- <div setting-attach-kpis parent-widget="widget" attached-kpis="widget.kpis" widget-engine="widget.category" widget-id="widget.id" extra-params="kpiExtraParams" class="part" deferred="::attachKpisDeferred" /> -->\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_balance.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_balance.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <!-- Will be hidden once an account is selected -->\n      <div setting-account ng-hide="widget.selectedAccount" parent-widget="widget" label=\'Select an account to monitor\' on-account-selected="displayAccount()" deferred="::accountFrontDeferred" />\n\n      <!-- All the below divs will remain hidden until an account is selected -->\n      <div ng-show="widget.selectedAccount">\n        <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="{{ getBehaviour() }}" end-date="widget.metadata.hist_parameters.to" />\n\n        <div ng-hide="widget.isHistoryMode">\n          <h3>{{getName()}}</h3>\n          <div class="price">\n             {{ getCurrentBalance() | mnoCurrency : getCurrency() : false }}\n          </div>\n          <div class="currency">{{getCurrency()}}</div>\n        </div>\n\n        <div class="chart-container" ng-show="widget.isHistoryMode">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          <div class="legend">{{getName()}}</div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-balance-sheet.tmpl.html",'<div widget-accounts-balance-sheet>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.account_balance_sheets.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_balance_sheets.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_balance_sheets.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="no-data-block" ng-show="(isDataFound==false)" translate="impac.widget.account_balance_sheets.not_found" translate-values="{fromDate: fromDate, toDate: toDate}"></div>\n\n    <!-- Tab header -->\n    <!-- TODO: review widget-lines-container scrolling -->\n    <div class="widget-lines-container no-scroll">\n      <div class="row widget-line header">\n        <div class="col-sm-6 col-sm-offset-6 col-xs-12">\n          <div setting-dates-picker parent-widget="widget" deferred="::datesPickerDeferred" from="fromDate" to="toDate" keep-today="keepToday" update-on-pick="true" template="::datesPickerTemplate" />\n        </div>\n      </div>\n      <div class="row widget-line header">\n<!--         <div class="col-sm-6 col-xs-12 col-xs-offset-1 text-left sortable-title" ng-click="sort(\'account\')">\n          Account\n          <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div> -->\n        <div class="col-sm-5 col-sm-offset-1 col-xs-12 text-left sortable-title" ng-click="sort(\'account\')">\n          {{\'impac.widget.account_balance_sheets.accounts\' | translate}}\n          <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n        <div class="col-sm-6 col-xs-12">\n          <div class="row">\n            <div class="col-xs-6 text-center sortable-title" ng-click="sort(\'total1\')">\n              {{\'impac.widget.account_balance_sheets.balance\' | translate}}\n              <i ng-show="sortedColumn == \'total1\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-6 text-center sortable-title" ng-click="sort(\'total2\')">\n              {{\'impac.widget.account_balance_sheets.balance\' | translate}}\n              <i ng-show="sortedColumn == \'total2\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n<!--           <div class="col-sm-2 col-xs-4 text-right sortable-title" ng-click="sort(\'total1\')">\n            Total\n            <i ng-show="sortedColumn == \'total1\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n          </div>\n          <div class="col-sm-2 col-xs-4 col-xs-offset-1 text-right sortable-title" ng-click="sort(\'total2\')">\n            Total\n            <i ng-show="sortedColumn == \'total2\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n          </div> -->\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="(isDataFound==true)" class="widget-lines-container">\n\n      <!-- Groups of statements with their accounts -->\n      <div class="row lines-group" ng-repeat="category in categories" >\n        <div class="col-xs-12">\n\n          <!-- Statements lines -->\n          <div class="row widget-line" >\n            <div class="col-xs-1" ng-click="toggleCollapsed(category)" style="cursor: pointer;">\n              <i class="fa" ng-class="isCollapsed(category) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n            </div>\n            <div class="col-sm-5 col-xs-11 text-left">\n              <strong>{{category.label}}</strong>\n            </div>\n            <div class="col-sm-3 col-xs-6 text-right">\n              <strong>{{widget.content.summary[category.key].totals[1] | mnoCurrency : widget.content.summary[category.key].currency}}</strong>\n            </div>\n            <div class="col-sm-3 col-xs-6 text-right">\n              <strong>{{widget.content.summary[category.key].totals[0] | mnoCurrency : widget.content.summary[category.key].currency}}</strong>\n            </div>\n          </div>\n\n          <!-- Accounts lines -->\n          <div class="row" uib-collapse="isCollapsed(category)">\n            <div class="col-xs-12">\n              <div class="row widget-line" ng-repeat="account in widget.content.summary[category.key].accounts" >\n                <div class="col-sm-5 col-xs-11 col-xs-offset-1 text-left">\n                  {{account.name | titleize}}\n                </div>\n                <div class="col-sm-3 col-xs-6 text-right">\n                  {{account.totals[1] | mnoCurrency : account.currency}}\n                </div>\n                <div class="col-sm-3 col-xs-6 text-right">\n                  {{account.totals[0] | mnoCurrency : account.currency}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("widgets/accounts-cash-summary.tmpl.html",'<div widget-accounts-cash-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.account_cash_smry.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_cash_smry.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_cash_smry.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n        <!-- Tab header -->\n          <div class="row widget-line header">\n            <div class="col-xs-5 col-xs-offset-1 sortable-title" ng-click="sort(\'account\')">\n              {{ impac.widget.account_cash_smry.cash_flow | translate }}\n              <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'total\')">\n              {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'variance\')">\n              {{\'impac.widget.account_cash_smry.vs\' | translate}}{{getPrevDate() | mnoDate : widget.metadata.hist_parameters.period}}\n              <i ng-show="sortedColumn == \'variance\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <!-- Groups of statements with their accounts -->\n          <div class="row lines-group" ng-repeat="statement in widget.content.summary" ng-class="{cash: statement.name.indexOf(\'cash\')>0}" >\n            <div class="col-xs-12">\n\n              <!-- Statements lines -->\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.accounts && statement.accounts.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'"/>\n                </div>\n                <div class="col-xs-5" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{statement.label | titleize}}</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getLastValue(statement) | mnoCurrency : statement.currency : false}}</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(statement)" ng-class="getVarianceClassColor(getLastVariance(statement))">\n                  <strong>{{getLastVariance(statement)}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" style="background-color: {{ getSelectLineColor(statement) }}"/>\n              </div>\n\n              <!-- Accounts lines -->\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(account)" ng-repeat="account in statement.accounts" >\n                    <div class="col-xs-5 col-xs-offset-1">\n                      {{account.name}}\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      {{getLastValue(account) | mnoCurrency : account.currency : false }}\n                    </div>\n                    <div class="col-xs-3 text-right" ng-class="getVarianceClassColor(getLastVariance(account))">\n                      {{getLastVariance(account)}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(account)" style="background-color: {{ getSelectLineColor(account) }}"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="selectedElement">\n          <h4>{{(selectedElement.label | titleize) || selectedElement.name}}</h4>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n            <div class="legend">{{::widget.metadata.hist_parameters.period_translation}}</div>\n          </div>\n\n          <div class="widget-lines-container">\n\n            <!-- Not mobile -->\n            <div class="row">\n              <span ng-repeat="date in dates track by $index" class="hidden-xs">\n                <!-- Separator every 4 items -->\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  <!-- Date -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{date | mnoDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{selectedElement.cash_flows[$index] | mnoCurrency : selectedElement.currency }}\n                    </div>\n                  </div>\n                  <!-- Variance -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getVarianceClassColor(selectedElement.variances[$index])">\n                      {{formatVariance(selectedElement.variances[$index])}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat="date in dates track by $index" class="row widget-line visible-xs">\n              <!-- Date -->\n              <div class="col-xs-4">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <!-- Amount + currency -->\n              <div class="col-xs-4 text-right">\n                {{selectedElement.cash_flows[$index] | mnoCurrency : selectedElement.currency }}\n              </div>\n              <!-- Variance -->\n              <div class="col-xs-4 text-right" ng-class="getVarianceClassColor(selectedElement.variances[$index])">\n                {{formatVariance(selectedElement.variances[$index])}}\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div ng-hide="selectedElement" class="no-element" translate>\n          impac.widget.account_cash_smry.select.description\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-class-comparison.tmpl.html",'<div widget-accounts-class-comparison>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_class_comp.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_class_comp.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_class_comp.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <!-- account classification selectors -->\n      <div setting-param-selector parent-widget="widget" param="classification" options="classifications" selected="selectedClassification" class="row param-selector" deferred="::paramSelectorDeferred" on-select="widget.format()" no-reload/>\n      <!---->\n      <div class="row">\n        <div class="col-md-12 chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-md-12 widget-lines-container">\n          <div class="row" style="margin-bottom: 5px;">\n            <div class="col-xs-12">\n              <div common-time-period-info context="timePeriodInfoParams" />\n            </div>\n          </div>\n\n          <div class="row" ng-repeat="entity in widget.content.companies track by $index">\n            <div class="col-xs-6 text-left">\n              <i class="fa fa-circle" style="margin: 0px 8px; color: {{getAccountColor(entity)}}" />\n              {{entity}}\n            </div>\n            <div class="col-xs-6 text-right">\n              <i>{{getAmount($index)}}</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-comparison.tmpl.html",'<div widget-accounts-comparison>\n  <div setting-accounts-list parent-widget="widget" deferred="::accountsListDeferred" accounts-list="savedAccountsList"/>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_comp.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_comp.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_comp.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)">\n      <!-- multi-companies mode -->\n      <div ng-show="widget.metadata.organization_ids.length > 1 && canSelectComparisonMode || isComparisonMode()">\n        <div setting-params-checkboxes options="comparisonModeOptions" param="comparison_mode" parent-widget="widget" deferred="::paramsCheckboxesDeferred"/>\n      </div>\n      <!-- end -->\n      <div ng-hide="hasAccountsSelected() || noComparableAccounts" class="row">\n        <div class="col-xs-12">\n          <h5 translate>impac.widget.account_comp.account.select</h5>\n        </div>\n        <div class="col-md-6">\n          <div class="input-group">\n            <select ng-model="movedAccount" ng-options="account.name + \' (\' + formatAmount(account) + \')\' group by account.classification for account in widget.remainingAccounts" class="form-control" ng-show="widget.hasEditAbility" ng-change="addAccount(movedAccount)"></select>\n          </div>\n        </div>\n      </div>\n      <!-- error: when there are no comparable accounts matched -->\n      <div ng-show="isComparisonMode() && noComparableAccounts" class="row comparable-error">\n        <div class="col-xs-12"><h5 translate>impac.widget.account_comp.account.not_found</h5></div>\n      </div>\n\n      <div class="row" ng-show="hasAccountsSelected()">\n        <div class="col-xs-12 text-center">\n          <div class="chart-container" impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n      </div>\n\n      <div class="row" ng-show="hasAccountsSelected()">\n        <div class="col-xs-12 widget-lines-container">\n\n          <div class="row" ng-class="{\'lines-group\': isComparisonMode(), \'widget-line\': !isComparisonMode()}" ng-repeat="account in widget.selectedAccounts track by $index">\n\n            <!-- Comparison between several conpanies -->\n            <div class="col-xs-12" ng-if="isComparisonMode()">\n              <div class="row widget-line" ng-repeat="groupedAccount in account.accounts track by $index">\n                <div class="col-xs-1">\n                  <i class="fa fa-circle" style="color: {{getAccountColor(groupedAccount)}}" />\n                </div>\n                <div class="col-xs-6">\n                  {{groupedAccount.name}}\n                </div>\n                <div class="col-xs-4 text-right">\n                  <i>{{formatAmount(groupedAccount)}}</i>\n                </div>\n                <div class="col-xs-1 text-right">\n                  <button class="close" ng-click="removeAccount(account)" ng-show="widget.hasDeleteAbility">x</button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Simple comparison between accounts -->\n            <div ng-if="!isComparisonMode()" class="col-xs-1">\n              <i class="fa fa-circle" style="color: {{getAccountColor(account)}}" />\n            </div>\n            <div ng-if="!isComparisonMode()" class="col-xs-6">\n              {{account.name}}\n            </div>\n            <div ng-if="!isComparisonMode()" class="col-xs-4 text-right">\n              <i>{{formatAmount(account)}}</i>\n            </div>\n            <div ng-if="!isComparisonMode()" class="col-xs-1 text-right">\n              <button class="close" ng-click="removeAccount(account)" ng-show="widget.hasDeleteAbility">x</button>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n      <div class="row" ng-show="hasAccountsSelected() && !pdfMode">\n        <div class="col-xs-12 input-group add-account">\n          <select ng-model="movedAccount" ng-options="account.name + \' (\' + formatAmount(account) + \')\' group by account.classification for account in widget.remainingAccounts track by account.uid" class="form-control" ng-show="widget.hasDeleteAbility" ng-change="addAccount(movedAccount)" ng-disabled="widget.selectedAccounts.length >= 15 || widget.remainingAccounts.length == 0 || isComparisonMode()">\n            <option value="" disabled selected translate>impac.widget.account_comp.account.add</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-detailed-classifications.tmpl.html",'<div widget-accounts-detailed-classifications>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_det_class.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_det_class.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_det_class.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)" class="widget-lines-container">\n\n      <!-- Tab header -->\n      <div ng-hide="multiEntity" class="row widget-line header">\n        <div class="col-md-6 text-left"  translate="impac.widget.account_det_class.acc_classifications" translate-values="{name: widget.content.companies[0].name}">\n\n        </div>\n\n        <div class="col-md-6 text-right">\n          <div common-time-period-info context="timePeriodInfoParams" />\n        </div>\n      </div>\n\n      <!-- Sorting sub-header (contains sorting) -->\n      <div ng-hide="multiEntity" class="row widget-line header sorting">\n        <div class="col-md-6 text-left sortable-title" ng-click="sort(\'account\')">\n          {{\'impac.widget.account_det_class.account_classifications\' | translate}}\n          <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n\n        <div class="col-md-6 text-right sortable-title" ng-click="sort(\'total\')">\n          {{\'impac.widget.account_det_class.amounts\' | translate}}\n          <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n      </div>\n\n      <!-- Groups of statements with their accounts -->\n      <div class="row lines-group" ng-repeat="source in dataSource track by source.label">\n        <div class="col-xs-12">\n\n          <!-- Statements lines -->\n          <div class="row widget-line">\n            <div class="col-xs-1" ng-click="toggleCollapsed(source.label)" style="cursor: pointer;">\n              <i class="fa" ng-class="isCollapsed(source.label) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n            </div>\n            <div class="col-xs-5 text-left">\n              <strong>{{source.label | titleize}}</strong>\n            </div>\n            <div class="col-xs-6 text-right">\n              <strong>{{source.value | mnoCurrency : source.currency}}</strong>\n            </div>\n          </div>\n\n          <!-- Accounts lines -->\n          <div class="row" uib-collapse="isCollapsed(source.label)">\n            <div class="col-xs-12">\n              <div class="row widget-line" ng-repeat="entry in source.entries" >\n                <div class="col-xs-5 col-xs-offset-1 text-left">\n                  {{entry.label | titleize}}\n                </div>\n                <div class="col-xs-6 text-right">\n                  {{entry.value | mnoCurrency : entry.currency}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n</div>\n'),e.put("widgets/accounts-custom-calculation.tmpl.html",'<div widget-accounts-custom-calculation>\n\n  <div setting-organizations parent-widget="widget" ng-hide="true" deferred="::orgDeferred" />\n  <div setting-accounts-list parent-widget="widget" deferred="::accountsListDeferred" />\n  <div setting-formula parent-widget="widget" deferred="::formulaDeferred" />\n\n  <h3 ng-show="widget.hasEditAbility && !widget.isFormulaCorrect">\n    <a href="" ng-click="formulaModal.open()" translate>impac.widget.account_cust_calc.title</a>\n  </h3>\n\n  <div class="price" ng-show="widget.isFormulaCorrect">\n    {{widget.evaluatedFormulaTranslate}}\n  </div>\n  <div class="legend" ng-show="widget.isFormulaCorrect">\n    {{widget.legend}}\n  </div>\n\n</div>\n'),e.put("widgets/accounts-custom-calculation/formula.modal.html",'<div class="analytics modal-custom-calculation">\n  <div class="modal-header">\n    <div class="close" type="button" ng-click="cancel()" >×</div>\n    <h3 translate>impac.widget.account_cust_calc.formula.title</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="row">\n      <div class="col-sm-12">\n        <div class="alert alert-error" ng-show="errors">\n          <button class="close" ng-click="errors=\'\'">×</button>\n          <ul>\n            <li ng-repeat="error in errors">{{error}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class="edit">\n      <div setting-organizations parent-widget="widget" class="part" deferred="::modalOrgDeferred" on-select="reloadAccountsLists(orgs)" />\n    </div>\n\n    <p translate="impac.widget.account_cust_calc.formula.explanations" translate-values="{example: \'({1} + {2}) / {3})\' }"></p>\n\n    <div class=\'row\'>\n      <div ng-show="widget.isLoading" class=\'col-md-6 loader\' align="center">\n        <div>\n          <i class="fa fa-spinner fa-pulse fa-3x"></i>\n          <p translate>impac.widget.account_cust_calc.formula.data_retrieved</p>\n        </div>\n      </div>\n\n      <div ng-hide="widget.isLoading" class=\'col-md-6\'>\n        <div class=\'widget-line\' ng-repeat=\'account in widget.selectedAccounts track by $index\'>\n          <div class=\'row\'>\n            <div class=\'col-md-6\'>\n              {{$index+1}} - {{account.name}}\n            </div>\n            <div class=\'col-md-6\'>\n              {{account.current_balance | mnoCurrency : account.currency}}\n              <button class="close" ng-click="removeAccountFromFormula(account)" ng-show="widget.hasEditAbility"><span class=\'fa fa-times-circle\'></span></button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\'input-group\' ng-show="widget.hasEditAbility">\n          <select ng-model="movedAccount" ng-options="account.name + \' (\' + widget.formatAmount(account) + \')\' group by account.classification for account in widget.remainingAccounts" class=\'form-control\' ng-change=\'addAccountToFormula(movedAccount)\'><select>\n        </div>\n      </div>\n\n      <div ng-hide="widget.isLoading" class=\'col-md-6\'>\n        <p translate>impac.widget.account_cust_calc.formula.type_here</p>\n        <input class=\'form-control\' ng-model="widget.formula">\n\n        <p translate="impac.widget.account_cust_calc.formula.result" translate-values="{result: widget.evaluatedFormula}"></p>\n        <p translate="impac.widget.account_cust_calc.formula.legend" translate-values="{legend: widget.legend}"></p>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <div class="row">\n      <div class="col-sm-12">\n        <button class="btn btn-gray" ng-click="cancel()" ng-hide="widget.isLoading" ng-disabled="isLoading" translate>impac.widget.account_cust_calc.formula.cancel</button>\n        <button class="btn btn-warning" ng-click="proceed()" ng-hide="widget.isLoading" ng-disabled=\'!widget.isFormulaCorrect || widget.isLoading\'>\n          <i class="fa fa-spinner fa-pulse loader" ng-show="isLoading"></i>\n          {{\'impac.widget.account_cust_calc.formula.save\' | translate}}\n        </button>\n      </div>\n\n    </div>\n  </div>\n</div>\n'),e.put("widgets/accounts-expense-weight.tmpl.html",'<div widget-accounts-expense-weight>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_expense_weight.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-account parent-widget="widget" class="part" deferred="::accountBackDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_expense_weight.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_expense_weight.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <!-- Will be hidden once an account is selected -->\n      <div setting-account ng-hide="widget.selectedAccount" parent-widget="widget" label=\'Select an expense account\' on-account-selected="updateSettings()" deferred="::accountFrontDeferred" />\n\n      <div ng-show="widget.selectedAccount">\n        <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" on-toggle="widget.format()" accounting-behaviour="pnl" />\n\n        <div class="chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n\n        <div class="legend">\n          <div class="title">\n            {{getName()}} to {{getComparator() | titleize}}\n            <span ng-if="widget.metadata.organization_ids.length==1"><br /><strong>{{widget.content.summary[0].ratio | mnoCurrency : \'%\'}}</strong></span>\n          </div>\n          <span ng-repeat="sum in widget.content.summary" ng-if="widget.metadata.organization_ids.length>1">\n            <span style="font-weight: bold;">{{sum.company}}: {{sum.ratio | mnoCurrency : \'%\'}}</span>\n            <br />\n          </span>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-expenses-revenue.tmpl.html",'<div widget-accounts-expenses-revenue>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.accounts_expenses_revenue.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounts_expenses_revenue.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounts_expenses_revenue.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" on-toggle="widget.format()" accounting-behaviour="pnl" />\n\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n\n      <div class="legend" ng-if="widget.isHistoryMode">\n        <span ng-hide="isNetProfitDisplayed">\n          <span class="negative2" translate>impac.widget.accounts_expenses_revenue.expenses</span> -\n          <span class="positive2" translate>impac.widget.accounts_expenses_revenue.revenue</span>\n        </span>\n        <span ng-show="isNetProfitDisplayed">\n          <strong translate>impac.widget.accounts_expenses_revenue.net_profit</strong>\n        </span>\n      </div>\n\n      <div ng-show="widget.isHistoryMode" setting-params-checkboxes options="displayOptions" param="display" parent-widget="widget" deferred="::paramsCheckboxesDeferred"/>\n\n      <div class="legend" ng-if="!widget.isHistoryMode">\n        <span class="negative2">{{\'impac.widget.accounts_expenses_revenue.expenses\' | translate}}: {{getCurrentExpenses() | mnoCurrency : getCurrency()}}</span>\n        </br>\n        <span class="positive2">{{\'impac.widget.accounts_expenses_revenue.revenue\' | translate}}: {{getCurrentRevenue() | mnoCurrency : getCurrency()}}</span>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-payable-receivable.tmpl.html",'<div widget-accounts-payable-receivable>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.accounts_payable_receivable.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounts_payable_receivable.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounts_payable_receivable.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="bls" end-date="widget.metadata.hist_parameters.to" />\n\n      <div ng-hide="widget.isHistoryMode">\n        <div class="receivable">\n          <h3 translate>impac.widget.accounts_payable_receivable.receivables.title</h3>\n          <div class="price positive2">\n            {{getCurrentReceivable() | mnoCurrency : getCurrency() : false}}\n          </div>\n          <div class="currency">{{getCurrency()}}</div>\n        </div>\n\n        <div class="payable">\n          <h3 translate>impac.widget.accounts_payable_receivable.payables.title</h3>\n          <div class="price negative2">\n            {{getCurrentPayable() | mnoCurrency : getCurrency() : false}}\n          </div>\n          <div class="currency">{{getCurrency()}}</div>\n        </div>\n      </div>\n\n      <div class="chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="drawTrigger.promise" deferred="chartDeferred"></div>\n        <div class="legend">\n          <span class="negative2" translate>impac.widget.accounts_payable_receivable.payable</span> -\n          <span class="positive2" translate>impac.widget.accounts_payable_receivable.receivable</span>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-profit-and-loss.tmpl.html",'<div widget-accounts-profit-and-loss>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.accounts_profit_and_loss.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounts_profit_and_loss.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounts_profit_and_loss.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n          <!-- Total mode -->\n          <div class="row widget-line header">\n            <div class="col-xs-12 text-right">\n              <span setting-param-selector parent-widget="widget" param="amount_displayed" options="amountDisplayedOptions" selected="amountDisplayed" deferred="::paramSelectorDeferred" no-reload />\n            </div>\n          </div>\n\n          <!-- Tab header -->\n          <div class="row widget-line header">\n            <div class="col-xs-7 col-xs-offset-1 text-left sortable-title" ng-click="sort(\'account\')">\n              {{\'impac.widget.accounts_profit_and_loss.accounts\' | translate}}\n              <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-4 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.accounts_profit_and_loss.prof_loss\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <!-- Groups of statements with their accounts -->\n          <div class="row lines-group" ng-repeat="statement in widget.content.summary" ng-class="{profit: statement.name.indexOf(\'profit\')>0}">\n            <div class="col-xs-12">\n\n              <!-- Statements lines -->\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.accounts && statement.accounts.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-7" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getName(statement) | titleize}}</strong>\n                </div>\n                <div class="col-xs-4 text-right" ng-class="getClassColor(getAmount(statement))" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getAmount(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" style="background-color: {{ getSelectLineColor(statement) }}"/>\n              </div>\n\n              <!-- Accounts lines -->\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(account)" ng-repeat="account in statement.accounts" >\n                    <div class="col-xs-7 col-xs-offset-1">\n                      {{account.name}}\n                    </div>\n                    <div class="col-xs-4 text-right" ng-class="getClassColor(getAmount(account))">\n                      {{getAmount(account) | mnoCurrency : account.currency}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(account)" style="background-color: {{ getSelectLineColor(account) }}"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n          <h4>{{::period_translation}} {{\'impac.widget.accounts_profit_and_loss.prof_and_loss\' | translate}}</h4>\n          <div ng-show="selectedElements.length < 2" class="legend">{{getName(selectedElements[0]) | titleize}}</div>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          </div>\n\n          <div ng-show="selectedElements.length < 2" class="widget-lines-container">\n\n            <!-- Not mobile -->\n            <div class="row">\n              <span ng-repeat="date in dates track by $index" class="hidden-xs">\n                <!-- Separator every 4 items -->\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  <!-- Date -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{date | mnoDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat="date in dates track by $index" class="row widget-line visible-xs">\n              <!-- Date -->\n              <div class="col-xs-6">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <!-- Amount + currency -->\n              <div class="col-xs-6 text-right" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide="selectedElements.length < 2" class="widget-lines-container">\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-7 text-left">\n                <i class="fa fa-circle" style="margin: 0px 8px; color: {{getElementChartColor($index)}}" />\n                {{getName(element) | titleize}}\n              </div>\n              <div class="col-xs-5 text-right">\n                <i ng-class="getClassColor(getAmount(element))">\n                  {{getAmount(element) | mnoCurrency : element.currency}}\n                </i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>\n          impac.widget.accounts_profit_and_loss.no_elements_selected\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/accounts-ratios.tmpl.html",'<!--\n  Component generated by Impac! Widget Generator!\n-->\n<div widget-accounts-ratios>\n  <!-- Settings Panel -->\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <!-- Buttons displayed on the lower  -->\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>\n    </div>\n  </div>\n\n  <!-- Content Panel -->\n  <div ng-hide="widget.isEditMode">\n    <!-- Data found -->\n    <div ng-show="(isDataFound==true)">\n\n      <!-- Ratio details -->\n      <div class="col-md-6 left-panel" ng-class="{simulation: simulationMode}">\n        <div common-time-period-info ng-if="simulationMode" context="periodInfoContext" />\n\n        <div class="member">\n          <div class="price" ng-if="!simulationMode">\n            {{ totalNumerator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="price" ng-if="simulationMode">\n            {{ calculatedNumerator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="legend">\n            {{ widget.content.layout.numerator }}\n          </div>\n\n          <div setting-offsets ng-show=\'simulationMode\' parent-widget="widget" deferred="::numeratorOffsetsDeferred" offsets-key=\'numerator\' initial-offsets=\'widget.metadata.offset.numerator\' currency=\'widget.content.layout.currency\' intervals-count=\'intervalsCount\' show-intervals-mult="isPnl" period=\'widget.metadata.hist_parameters.period\' />\n        </div>\n\n        <div class="center-block separator" />\n\n        <div class="member">\n          <div class="price" ng-if="!simulationMode">\n            {{ totalDenominator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="price" ng-if="simulationMode">\n            {{ calculatedDenominator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="legend">\n            {{ widget.content.layout.denominator }}\n          </div>\n\n          <div setting-offsets ng-show=\'simulationMode\' parent-widget="widget" deferred="::denominatorOffsetsDeferred" offsets-key=\'denominator\' initial-offsets=\'widget.metadata.offset.denominator\' currency=\'widget.content.layout.currency\' intervals-count=\'intervalsCount\' show-intervals-mult="isPnl" period=\'widget.metadata.hist_parameters.period\' />\n        </div>\n\n        <div class="text-center">\n          <button class="btn btn-sm btn-default" ng-if="simulationMode" ng-click="toggleSimulationMode(true)" title = "Clear changes to simulation">\n            Cancel\n          </button>\n          <button class="btn btn-sm btn-default" ng-if="!simulationMode" ng-click="toggleSimulationMode()" title="Add custom offsets to the ratio calculation">\n            <i class="fa fa-pencil-square-o" />\n            Simulation\n          </button>\n          <button class="btn btn-sm btn-warning" ng-if="simulationMode" ng-click="saveSimulation()" title="Apply simulation">\n            Save\n          </button>\n        </div>\n      </div>\n\n      <!-- Current value / Chart -->\n      <div class="col-md-6 right-panel">\n        <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="{{widget.content.layout.accounting_behaviour}}" end-date="endDate" />\n\n        <div ng-hide="widget.isHistoryMode" class="current">\n          <div class="price">\n             {{ totalRatio | mnoCurrency : \'(ratio)\' : false }}\n          </div>\n          <div class="legend">{{ widget.content.layout.ratio }}</div>\n        </div>\n\n        <div class="history chart-container" ng-show="widget.isHistoryMode">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          <div class="legend">{{ widget.content.layout.ratio }}</div>\n        </div>\n      </div>\n\n    </div>\n\n    <!-- No data found -->\n    <div ng-show="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.endpoint" width="::widget.width" />\n  </div>\n</div>\n'),e.put("widgets/hr-employee-details.tmpl.html",'<div widget-hr-employee-details>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_employee_details.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_employee_details.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_employee_details.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n        <div setting-param-selector parent-widget="widget" param="employee_uid" options="employeesOptions" selected="selectedEmployee" class="row title" deferred="::paramSelectorDeferred1" />\n\n        <div class="details-container">\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.job_title</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().job_title || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.company</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().company || getSingleCompanyName()}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.phone</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().phone || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.email</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().email || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.date_of_birth</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().dob || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.gender</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().gender || "-" }}</pre></div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel" ng-show="widget.isExpanded()">\n        <div class="legend">{{\'impac.widget.hr_employee_details.legend\' | translate}} <span setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred2" /></div>\n        <div class="details-container">\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.salary</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().salary || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.address</label></div>\n            <div class="col-md-8"><pre>{{formatAddress(getEmployee().address) || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.job_location</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().location || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.supervisor</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().supervisor || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.status</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().employment_status || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.note</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().note || "-" }}</pre></div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-employees-list.tmpl.html",'<div widget-hr-employees-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_employees_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_employees_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_employees_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" >\n\n      <div class="legend">\n        <strong>{{widget.content.total.employees}}</strong> <span translate="impac.widget.hr_employees_list.legend.employee" translate-values="{num_employee: widget.content.total.employees}"></span> {{\'impac.widget.hr_employees_list.legend.average\' | translate}} (<span setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred"/>): <strong>{{widget.content.total.average_rate | mnoCurrency : widget.content.total.currency}}</strong>\n      </div>\n\n      <div class="widget-lines-container">\n        <div class="row widget-line header">\n          <div class="col-sm-2" translate>impac.widget.hr_employees_list.label.company</div>\n          <div class="col-sm-3" translate>impac.widget.hr_employees_list.label.employee</div>\n          <div class="col-sm-2" translate>impac.widget.hr_employees_list.label.title</div>\n          <div class="col-sm-3" translate>impac.widget.hr_employees_list.label.phone</div>\n          <div class="col-sm-2" translate>impac.widget.hr_employees_list.label.salary</div>\n        </div>\n        <div class="row widget-line" ng-repeat="employee in widget.content.employees" >\n          <div class="col-sm-2">{{employee.company || getSingleCompanyName()}}</div>\n          <div class="col-sm-3">{{employee.lastname}} {{employee.firstname}}</div>\n          <div class="col-sm-2"><i>{{employee.job_title}}</i></div>\n          <div class="col-sm-3">{{employee.phone}}</div>\n          <div class="col-sm-2"><i>{{getEmployeeSalary(employee)}}</i></div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-leaves-balance.tmpl.html",'<div widget-hr-leaves-balance>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate="">impac.widget.hr_leaves_balance.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred"/>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_leaves_balance.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_leaves_balance.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" >\n\n      <div setting-param-selector parent-widget="widget" param="employee_id" options="employeesOptions" selected="selectedEmployee" class="employee-name" deferred="::paramSelectorDeferred" />\n\n      <h3>{{vacationLeaves_translation}} {{\'impac.widget.hr_leaves_balance.balance\' | translate}}</h3>\n      <div class="balance">{{(getEmployee().leaves[0].units || 0) | mnoCurrency : (getEmployee().leaves[0].type_of_units || \'h\')}}</div>\n\n      <h3>{{sickLeaves_translation}} {{\'impac.widget.hr_leaves_balance.balance\' | translate}}</h3>\n      <div class="balance">{{(getEmployee().leaves[1].units || 0) | mnoCurrency : (getEmployee().leaves[1].type_of_units || \'h\')}}</div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-payroll-summary.tmpl.html",'<div widget-hr-payroll-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_payroll_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_payroll_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_payroll_summary.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n\n          <!-- Tab header -->\n          <div class="row widget-line header">\n            <div class="col-xs-9 sortable-title" ng-click="sort(\'employee\')">\n              {{widget.metadata.hist_parameters.period}} {{\'impac.widget.hr_payroll_summary.payroll_summary\' | translate}}\n              <i ng-show="sortedColumn == \'employee\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.hr_payroll_summary.total\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <!-- Groups of statements with their accounts -->\n          <div class="row lines-group" ng-repeat="statement in widget.content.summary" >\n            <div class="col-xs-12">\n\n              <!-- Statements lines -->\n              <div class="row widget-line">\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.employees && statement.employees.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-7" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getName(statement) | titleize}}</strong>\n                </div>\n                <div class="col-xs-4 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getLastValue(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" style="background-color: {{ getSelectLineColor(statement) }}"/>\n              </div>\n\n              <!-- Accounts lines -->\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(employee)" ng-repeat="employee in statement.employees" >\n                    <div class="col-xs-7 col-xs-offset-1">\n                      {{employee.name}}\n                    </div>\n                    <div class="col-xs-4 text-right">\n                      {{getLastValue(employee) | mnoCurrency : employee.currency}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(employee)" style="background-color: {{ getSelectLineColor(employee) }}"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n\n          <h4>{{::period_translation | titleize}} {{\'impac.widget.hr_payroll_summary.payroll_summary\' | translate}}</h4>\n          <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" on-toggle="widget.format()"/>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n            <div ng-show="selectedElements.length < 2" class="legend">{{getName(selectedElements[0]) | titleize}}</div>\n          </div>\n\n          <div ng-show="selectedElements.length < 2" class="widget-lines-container">\n\n            <div ng-show="getTrackedField()" class="row widget-line header">\n              <div class="col-xs-12">{{getTrackedField()}}</div>\n            </div>\n\n            <!-- Not mobile -->\n            <div class="row">\n              <span ng-repeat="date in widget.content.dates track by $index" class="hidden-xs">\n                <!-- Separator every 4 items -->\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  <!-- Date -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{formatDate(date)}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency }}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat="date in widget.content.dates track by $index" class="row widget-line visible-xs">\n              <!-- Date -->\n              <div class="col-xs-6">\n                {{formatDate(date)}}\n              </div>\n              <!-- Amount + currency -->\n              <div class="col-xs-6 text-right" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide="selectedElements.length < 2" class="widget-lines-container">\n\n            <div class="row widget-line header">\n              <div class="col-md-12">\n                <span ng-if="getTrackedField()">\n                  {{getTrackedField()}} -\n                </span>\n                <span ng-if="widget.isHistoryMode">\n                  {{\'impac.widget.hr_payroll_summary.from\' | translate}} {{widget.content.dates[0] | date : "MMM-d"}} {{\'impac.widget.hr_payroll_summary.to\' | translate}} {{widget.content.dates[widget.content.dates.length - 1] | date : "MMM-d"}}\n                </span>\n                <span ng-if="!widget.isHistoryMode">\n                  {{getPeriod()}}\n                </span>\n              </div>\n            </div>\n\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-7">\n                <i class="fa fa-circle" style="margin: 0px 8px; color: {{getElementChartColor($index)}}" />\n                {{getName(element) | titleize}}\n              </div>\n              <div class="col-xs-5 text-right">\n                <span ng-if="widget.isHistoryMode">{{getTotalSum(element) | mnoCurrency : element.currency}}</span>\n                <span ng-if="!widget.isHistoryMode">{{getLastValue(element) | mnoCurrency : element.currency}}</span>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>impac.widget.hr_payroll_summary.no_elements</div>\n\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="widget.category" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-leaves-schedule.tmpl.html",'<div widget-hr-leaves-schedule>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 tranlate>impac.widget.hr_leaves_schedule.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" tranlate>impac.widget.hr_leaves_schedule.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" tranlate>impac.widget.hr_leaves_schedule.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)">\n\n      <div widget-component-calendar ng-model="eventSources"></div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="widget.category" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-payroll-taxes.tmpl.html",'<div widget-hr-payroll-taxes>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.hr_payroll_taxes.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_payroll_taxes.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_payroll_taxes.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" />\n\n      <div ng-hide="widget.isHistoryMode" class="current">\n        <div class="price">{{getCurrentPrice() | mnoCurrency : getCurrency() : false}}</div>\n        <div class="currency">{{getCurrency()}}</div>\n        <div class="legend">{{\'impac.widget.hr_payroll_taxes.legend\' | translate}}<br />{{getPeriod()}}</div>\n      </div>\n\n      <div class="history chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        <div class="legend">{{\'impac.widget.hr_payroll_taxes.legend\' | translate}}</div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-salaries-summary.tmpl.html",'<div widget-hr-salaries-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_salaries_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_salaries_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_salaries_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n\n        <h3 class="left" translate>impac.widget.hr_salaries_summary.average_rate</h3>\n        <div class="price">\n           {{widget.content.total.average_rate | mnoCurrency : widget.content.total.currency}}\n        </div>\n        <div class="currency" setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred1"/>\n        <div class="legend">\n          <span>({{widget.content.total.employees}} <span translate="impac.widget.hr_salaries_summary.legend.employee" translate-values="{num_employee: widget.content.total.employees}"></span> {{\'impac.widget.hr_salaries_summary.legend.with\' | translate}})</span>\n        </div>\n      </div>\n\n      <div class="right-panel" ng-class="{\'col-md-12\': !widget.isExpanded(), \'col-md-6\': widget.isExpanded()}">\n        <h3 class="right">{{\'impac.widget.hr_salaries_summary.filter\' | translate}} <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred2"/></h3>\n        <div class="chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n        <div class="widget-lines-container">\n          <div class="row widget-line" ng-repeat="data in widget.content.summary.data">\n            <div class="col-xs-2">\n              <i ng-hide="widget.content.summary.filter==\'age_range\'" class="fa fa-circle" style="color: {{getColorByIndex($index)}}" />\n            </div>\n            <div class="col-xs-5">\n              {{data.label}}\n            </div>\n            <div class="col-xs-5 text-right">\n              <i>{{data.value | mnoCurrency : widget.content.total.currency}} (av.)</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-superannuation-accruals.tmpl.html",'<div widget-hr-superannuation-accruals>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_superannuation_accruals.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_superannuation_accruals.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_superannuation_accruals.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n\n      <div setting-param-selector parent-widget="widget" param="employee_id" options="employeesOptions" selected="selectedEmployee" class="currency" deferred="::paramSelectorDeferred" />\n\n      <h3 translate>impac.widget.hr_superannuation_accruals.superannuation_balance</h3>\n      <div class="price">{{(getEmployee().total_super || 0) | mnoCurrency : getEmployee().currency}}</div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-workforce-summary.tmpl.html",'<div widget-hr-workforce-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_workforce_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_workforce_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_workforce_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n\n        <h3 class="left" translate>impac.widget.hr_workforce_summary.total_workforce</h3>\n        <div class="price">\n           {{getTotalWorkforce() | mnoCurrency : getCurrency()}}\n        </div>\n        <div class="currency" setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred1"/>\n        <div class="legend">\n          <span>({{getNumberOfEmployees()}} <span translate="impac.widget.hr_workforce_summary.legend.employee" translate-values="{num_employee: widget.content.total.employees}"></span> {{\'impac.widget.hr_workforce_summary.legend.with\' | translate}})</span>\n        </div>\n      </div>\n\n      <div class="right-panel" ng-class="{\'col-md-12\': !widget.isExpanded(), \'col-md-6\': widget.isExpanded()}">\n        <h3 class="right">{{\'impac.widget.hr_workforce_summary.filter\' | translate}} <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred2"/></h3>\n        <div class="chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n        <div class="widget-lines-container">\n          <div class="row widget-line" ng-repeat="data in widget.content.summary.data">\n            <div class="col-xs-2">\n              <i class="fa fa-circle" style="color: {{getColorByIndex($index)}}" />\n            </div>\n            <div class="col-xs-7">\n              {{widget.content.summary.filter == "salary_range" ? formatSalaryRange(data) : data.label}}\n            </div>\n            <div class="col-xs-3 text-right">\n              <i>{{((data.value / widget.content.total.amount)*100).toFixed()}}%</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/hr-timesheets.tmpl.html",'<div widget-hr-timesheets>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_timesheets.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_timesheets.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_timesheets.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)">\n\n      <div setting-param-selector parent-widget="widget" param="employee_id" options="employeesOptions" selected="selectedEmployee" class="currency" deferred="::paramSelectorDeferred" />\n\n      <div class="widget-lines-container">\n\n        <!-- Tab header -->\n        <div class="row widget-line header">\n          <div class="col-sm-12">\n            {{\'impac.widget.hr_timesheets.from\' | translate}} {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.hr_timesheets.to\' | translate}} {{widget.content.dates[widget.content.dates.length - 1] | mnoDate : widget.metadata.hist_parameters.period}}\n          </div>\n        </div>\n\n        <!-- Time worked activities -->\n        <div class="row lines-group" >\n          <div class="col-xs-12">\n\n            <!-- Time worked -->\n            <div class="row widget-line" >\n              <div class="col-xs-1" ng-click="toggleCollapsed(\'total_time_worked\')" style="cursor: pointer;">\n                <i class="fa" ng-class="isCollapsed(\'total_time_worked\') ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n              </div>\n              <div class="col-xs-7">\n                <strong translate>impac.widget.hr_timesheets.total_worked</strong>\n              </div>\n              <div class="col-xs-4 text-right">\n                <strong>{{getEmployeeTimeWorked()}} h</strong>\n              </div>\n            </div>\n\n            <!-- Activities lines / TODO -->\n            <div class="row" uib-collapse="isCollapsed(\'total_time_worked\')">\n              <div class="col-xs-12">\n                <div class="row widget-line">\n                  <div class="col-xs-11 col-xs-offset-1">\n                    <i translate>impac.widget.hr_timesheets.activities_not_found</i>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <!-- Time off activities -->\n        <div class="row lines-group" >\n          <div class="col-xs-12">\n\n            <!-- Time off -->\n            <div class="row widget-line" >\n              <div class="col-xs-1" ng-click="toggleCollapsed(\'total_time_of\')" style="cursor: pointer;">\n                <i class="fa" ng-class="isCollapsed(\'total_time_of\') ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n              </div>\n              <div class="col-xs-7">\n                <strong translate>impac.widget.hr_timesheets.total_off</strong>\n              </div>\n              <div class="col-xs-4 text-right">\n                <strong>{{getEmployeeTimeOff()}} h</strong>\n              </div>\n            </div>\n\n\n            <!-- PTO and Vacation lines / TODO -->\n            <div class="row" uib-collapse="isCollapsed(\'total_time_of\')">\n              <div class="col-xs-12">\n                <div class="row widget-line">\n                  <div class="col-xs-7 col-xs-offset-1">PTO</div>\n                  <div class="col-xs-4 text-right">0 h</div>\n                </div>\n                <div class="row widget-line">\n                  <div class="col-xs-7 col-xs-offset-1">Vacation</div>\n                  <div class="col-xs-4 text-right">0 h</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/invoices-list.accessible.tmpl.html",'<div widget-invoices-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_list.save</button>\n    </div>\n  </div>\n\n  <table class="table widget-lines-container" ng-hide="widget.isEditMode">\n\n    <!-- Header line -->\n    <tr class="widget-line header">\n      <td>{{entityTypeCap}}</td>\n      <td translate>impac.widget.invoices_list.paid</td>\n      <td translate>impac.widget.invoices_list.due</td>\n      <td translate>impac.widget.invoices_list.invoiced</td>\n    </tr>\n\n    <!-- Data not found line -->\n    <tr class="widget-line" ng-show="(isDataFound==false)">\n      <td translate translate-values="{orderBy: orderBy, entityType: entityType}">impac.widget.invoices_list.no_invoice</td>\n    </tr>\n    \n    <!-- Content lines -->\n    <tr class="widget-line" ng-show="(isDataFound==true)" ng-repeat="entity in widget.content.entities">\n      <td>{{entity.name}}</td>\n      <td><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></td>\n      <td><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></td>\n      <td><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></td>\n    </tr>\n\n  </table>\n\n</div>\n'),e.put("widgets/invoices-list.tmpl.html",'<div widget-invoices-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-dates-picker parent-widget="widget" class="part" from="(widget.metadata.hist_parameters.from || defaultFrom)" to="(widget.metadata.hist_parameters.to || defaultTo)" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred"/>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode" class="widget-lines-container">\n\n    <div ng-show="(isDataFound==true)" setting-limit-entries parent-widget="widget" deferred="::limitEntriesDeferred" selected="limitEntriesSelected" max="widget.content.entities.length" entries-label="limitEntriesLabel" />\n\n\n    <!-- LARGE WIDGET -->\n\n    <!-- Header line -->\n    <div ng-if="widget.width > 3" class="row widget-line header">\n      <div class="col-sm-4">{{entityTypeCap}}</div>\n      <div class="col-sm-7">\n        <div class="row">\n          <div class="col-xs-4" translate>impac.widget.invoices_list.paid</div>\n          <div class="col-xs-4" translate>impac.widget.invoices_list.due</div>\n          <div class="col-xs-4" translate>impac.widget.invoices_list.invoiced</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Content lines -->\n    <div ng-if="widget.width > 3" class="row widget-line" ng-show="(isDataFound==true)" ng-repeat="entity in widget.content.entities | limitTo:limitEntriesSelected" tooltip-placement="top" uib-tooltip-html="invoiceTooltips[entity.id]" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n      <div class="col-sm-4"><b>{{entity.name}}</b></div>\n      <div class="col-sm-7">\n        <div class="row">\n          <div class="col-xs-4"><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></div>\n          <div class="col-xs-4"><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></div>\n          <div class="col-xs-4"><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></div>\n        </div>\n      </div>\n      <div class="col-sm-1 text-right"><i class="fa fa-info-circle" /></div>\n    </div>\n\n\n    <!-- SMALL WIDGET -->\n\n    <!-- Header line -->\n    <div ng-if="widget.width <= 3" class="row widget-line header">\n      <div class="col-xs-12" ng-show="orderBy == \'paid \'">{{entityTypeCap}} {{\'impac.widget.invoices_list.total_paid\' | translate}}</div>\n      <div class="col-xs-12" ng-show="orderBy == \'due \'">{{entityTypeCap}} {{\'impac.widget.invoices_list.total_due\' | translate}}</div>\n      <div class="col-xs-12" ng-hide="orderBy == \'paid \' || orderBy == \'due \'">{{entityTypeCap}} {{\'impac.widget.invoices_list.total_invoiced\' | translate}}</div>\n    </div>\n\n    <!-- Content lines -->\n    <div ng-if="widget.width <= 3" class="row widget-line" ng-show="(isDataFound==true)" ng-repeat="entity in widget.content.entities | limitTo:limitEntriesSelected" tooltip-placement="top" uib-tooltip-html="invoiceTooltips[entity.id]" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n      <div class="col-xs-12"><b>{{entity.name}}</b></div>\n      <div class="col-xs-8" ng-show="orderBy == \'paid \'"><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></div>\n      <div class="col-xs-8" ng-show="orderBy == \'due \'"><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></div>\n      <div class="col-xs-8" ng-hide="orderBy == \'paid \' || orderBy == \'due \'"><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></div>\n      <div class="col-xs-4 text-right"><i class="fa fa-info-circle" /></div>\n    </div>\n\n\n    <!-- Data not found line -->\n    <div class="row widget-line" ng-show="(isDataFound==false)">\n      <div class="col-xs-12" translate translate-values="{orderBy: orderBy, entityType: entityType}">impac.widget.invoices_list.no_invoice</div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("widgets/invoices-aged-payables-receivables.tmpl.html",'<div widget-invoices-aged-payables-receivables>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_receivables.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_receivables.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_receivables.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n\n          <div class="row widget-line header">\n            <div class="col-xs-6 sortable-title" ng-click="sort(\'customer\')">\n              {{\'impac.widget.invoices_receivables.payables_and_receivables\' | translate}}\n              <i ng-show="sortedColumn == \'customer\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.invoices_receivables.total\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'invoice\')">\n              {{\'impac.widget.invoices_receivables.oldest\' | translate}}\n              <i ng-show="sortedColumn == \'invoice\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <!-- Payables -->\n          <div class="row lines-group">\n            <div class="col-xs-12">\n\n              <div class="row widget-line">\n                <div class="col-xs-1" ng-click="toggleCollapsed(widget.content.payables)">\n                  <i ng-show="(widget.content.payables.suppliers && widget.content.payables.suppliers.length)" class="fa" ng-class="isCollapsed(widget.content.payables) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-5" ng-click="toggleSelectedElement(widget.content.payables)">\n                  <strong translate>impac.widget.invoices_receivables.aged_payables</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(widget.content.payables)">\n                  <strong>{{getTotalSum(widget.content.payables) | mnoCurrency : widget.content.payables.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(widget.content.payables)" style="background-color: {{ getSelectLineColor(widget.content.payables) }}"/>\n              </div>\n\n              <div class="row" uib-collapse="isCollapsed(widget.content.payables)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(supplier)" ng-repeat="supplier in widget.content.payables.suppliers">\n                    <div class="col-xs-5 col-xs-offset-1">\n                      {{supplier.name}}\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      {{getTotalSum(supplier) | mnoCurrency : supplier.currency}}\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      <span uib-tooltip="{{\'impac.widget.invoices_receivables.tooltip.oldest_invoice\' | translate}} {{getOldestInvoice(supplier)}}" tooltip-placement="left">\n                        {{getOldestInvoice(supplier) | mnoDate : widget.metadata.hist_parameters.period}}\n                      </span>\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(supplier)" style="background-color: {{ getSelectLineColor(supplier) }}"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n          <!-- Receivables -->\n          <div class="row lines-group">\n            <div class="col-xs-12">\n\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(widget.content.receivables)">\n                  <i ng-show="(widget.content.receivables.customers && widget.content.receivables.customers.length)" class="fa" ng-class="isCollapsed(widget.content.receivables) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-5" ng-click="toggleSelectedElement(widget.content.receivables)">\n                  <strong translate>impac.widget.invoices_receivables.aged_receivables</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(widget.content.receivables)">\n                  <strong>{{getTotalSum(widget.content.receivables) | mnoCurrency : widget.content.receivables.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(widget.content.receivables)" style="background-color: {{ getSelectLineColor(widget.content.receivables) }}"/>\n              </div>\n\n              <div class="row" uib-collapse="isCollapsed(widget.content.receivables)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(customer)" ng-repeat="customer in widget.content.receivables.customers" ng-class="isSelected(customer) ? \'selected\' : null" >\n                    <div class="col-xs-5 col-xs-offset-1">\n                      {{customer.name}}\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      <span>{{getTotalSum(customer) | mnoCurrency : customer.currency}}</span>\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      <span uib-tooltip="{{\'impac.widget.invoices_receivables.tooltip.oldest_invoice\' | translate}} {{getOldestInvoice(customer)}}" tooltip-placement="left">\n                        {{getOldestInvoice(customer) | mnoDate : widget.metadata.hist_parameters.period}}\n                      </span>\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(customer)" style="background-color: {{ getSelectLineColor(customer) }}"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n\n          <h4>{{::period_translation | titleize}} {{\'impac.widget.invoices_receivables.aged_payables_and_receivables\' | translate}}</h4>\n\n          <div ng-show="selectedElements.length < 2" class="legend">{{getName(selectedElements[0]) | titleize}}</div>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          </div>\n\n          <div ng-show="selectedElements.length < 2" class="widget-lines-container">\n\n            <!-- Not mobile -->\n            <div class="row">\n              <span ng-repeat="date in widget.content.dates track by $index" class="hidden-xs">\n                <!-- Separator every 4 items -->\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  <!-- Date -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{date | mnoDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat="date in widget.content.dates track by $index" class="row widget-line visible-xs">\n              <!-- Date -->\n              <div class="col-xs-6">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <!-- Amount + currency -->\n              <div class="col-xs-6 text-right" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n\n            <div class="row astericks-info">\n              <div class="col-xs-12">\n                <p><i translate>impac.widget.invoices_receivables.your_opening_balance</i></p>\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide="selectedElements.length < 2" class="widget-lines-container">\n\n            <div class="row widget-line header">\n              <div class="col-xs-4 col-xs-offset-8 text-right">Totals</div>\n            </div>\n\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-2">\n                <i class="fa fa-circle" style="margin: 0px 8px; color: {{getElementChartColor($index)}}" />\n              </div>\n              <div class="col-xs-6">\n                {{getName(element) | titleize}}\n              </div>\n              <div class="col-xs-4 text-right">\n                <i>{{getTotalSum(element) | mnoCurrency : element.currency}}</i>\n              </div>\n            </div>\n\n            <div class="row astericks-info">\n              <div class="col-xs-12">\n                <p><i translate>impac.widget.invoices_receivables.your_opening_balance</i></p>\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>impac.widget.invoices_receivables.select_accounts</div>\n\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/invoices-summary.tmpl.html",'<div widget-invoices-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-dates-picker parent-widget="widget" class="part" from="(widget.metadata.hist_parameters.from || defaultFrom)" to="widget.metadata.hist_parameters.to" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred"/>\n    <div setting-chart-filters parent-widget="widget" class="part" deferred="::chartFiltersDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)" class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <span>{{widget.content.legend}}</span>\n      </div>\n    </div>\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-aged.tmpl.html",'<div widget-sales-aged>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_aged.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_aged.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_aged.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="center">\n\n      <div setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" no-reload truncate-no="60" on-select="widget.format()" style="text-align: center;" deferred="::paramSelectorDeferred"/>\n\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n      <div class="legend">{{\'impac.widget.sales_aged.from\' | translate}} {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_aged.to\' | translate}} {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}</div>\n\n      <div class="widget-lines-container">\n\n        <!-- Not mobile -->\n        <div class="row">\n          <span ng-repeat="date in formattedDates track by $index" class="hidden-xs">\n            <!-- Separator every 4 items -->\n            <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n            <div class="col-sm-3 text-center">\n              <!-- Date -->\n              <div class="row widget-line">\n                <div class="col-xs-12">\n                  {{date}}\n                </div>\n              </div>\n              <!-- Amount (+ currency) -->\n              <div class="row widget-line">\n                <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-12" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n                  {{getTotal($index) | mnoCurrency : widget.content.currency}}\n                </div>\n                <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-12" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n                  {{getTotal($index)}}\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n\n        <!-- Mobile -->\n        <div ng-repeat="date in formattedDates track by $index" class="row widget-line visible-xs">\n          <!-- Date -->\n          <div class="col-xs-6">\n            {{date}}\n          </div>\n          <!-- Amount (+ currency) -->\n          <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-6 text-right" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n            {{getTotal($index) | mnoCurrency : widget.content.currency}}\n          </div>\n          <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-6 text-right" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n            {{getTotal($index)}}\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-break-even.tmpl.html",'<div widget-sales-break-even>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_break_even.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_break_even.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_break_even.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="align-center">\n\n      <div class="legend">{{\'impac.widget.sales_break_even.from\' | translate}} {{widget.content.period.from | date : \'d MMM yyyy\'}} {{\'impac.widget.sales_break_even.to\' | translate}} {{widget.content.period.to | date : \'d MMM yyyy\'}}</div>\n\n      <div class="block to-date">\n        <div class="title" translate>impac.widget.sales_break_even.title.sales</div>\n        <div class="price">{{widget.content.sales.to_date | mnoCurrency : widget.content.currency : false}}</div>\n        {{\'impac.widget.sales_break_even.target\' | translate}}: <span class="edit-target" style="float: right;" editable-text="threshold" buttons="no" onaftersave="updateSettings()">\n          {{threshold | mnoCurrency : widget.content.currency : false}}\n        </span>\n      </div>\n\n      <div ng-show="widget.content.break_even" class="block to-breakeven">\n        <div class="title">impac.widget.sales_break_even.title.projection</div>\n        <span ng-show="isTargetMet()" translate>impac.widget.sales_break_even.your_sales</span>\n        <div class="price">{{getVariance() | mnoCurrency : widget.content.currency : false}}</div>\n        <span ng-hide="isTargetMet()">\n          {{\'impac.widget.sales_break_even.projected_date\' | translate}} <span style="float: right;">{{getProjectedDate() | date : \'d-MM-yy\'}}</span>\n          <br />\n          {{\'impac.widget.sales_break_even.opportunities_to_close\' | translate}} <span style="float: right;">{{getOpportunitiesToClose()}}</span>\n        </span>\n      </div>\n      <div ng-show="widget.content.break_even" class="legend">{{widget.content.break_even.eligible_opportunities}} {{\'impac.widget.sales_break_even.eligible_opportunities\' | translate}}</div>\n\n      <div ng-hide="widget.content.break_even" class="block to-breakeven">\n        <span class="edit-target" editable-text="threshold" buttons="no" onaftersave="updateSettings()">\n          <div class="define-text">{{\'impac.widget.sales_break_even.click_to_define\' | translate}}</div>\n        </span>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-comparison.tmpl.html",'<div widget-sales-comparison>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_comparison.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_comparison.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_comparison.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="row legend center">\n          {{\'impac.widget.sales_comparison.legend.compare_by\' | translate}} <div setting-param-selector parent-widget="widget" style="display: inline;" param="criteria" options="criteriaOptions" selected="criteria" truncate-no="30" deferred="::paramSelectorDeferred1" />\n           |\n          {{\'impac.widget.sales_comparison.legend.see\' | translate}} <div setting-param-selector parent-widget="widget" style="display: inline;" param="filter" options="filterOptions" selected="filter" truncate-no="30" on-select="widget.format()" no-reload deferred="::paramSelectorDeferred2" />\n        </div>\n\n        <div class="widget-lines-container">\n\n          <div class="row widget-line header">\n            <div class="col-xs-8 sortable-title" ng-click="sort(\'sales\')">\n              {{\'impac.widget.sales_comparison.total_sales_from\' | translate}} {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_comparison.to\' | translate}} {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}\n              <i ng-show="sortedColumn == \'sales\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-4 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.sales_comparison.total\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <div class="row lines-group" ng-repeat="statement in widget.content.sales_comparison" >\n            <div class="col-xs-12">\n\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.sales && statement.sales.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-7" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{statement.name | titleize}}</strong>\n                </div>\n                <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-4 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getTotalForPeriod(statement)}}</strong>\n                </div>\n                <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-4 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getTotalForPeriod(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" style="background-color: {{ getSelectLineColor(statement) }}"/>\n              </div>\n\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(sale)" ng-repeat="sale in statement.sales" >\n                    <div class="col-xs-7 col-xs-offset-1">\n                      {{sale.name}}\n                    </div>\n                    <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-4 text-right">\n                      {{getTotalForPeriod(sale)}}\n                    </div>\n                    <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-4 text-right">\n                      {{getTotalForPeriod(sale) | mnoCurrency : sale.currency}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(sale)" style="background-color: {{ getSelectLineColor(sale) }}"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          </div>\n\n          <div class="widget-lines-container">\n\n            <div class="row widget-line header">\n              <div class="col-xs-12">\n                {{\'impac.widget.sales_comparison.total_sales_from\' | translate}} {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_comparison.to\' | translate}} {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n            </div>\n\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-1">\n                <i class="fa fa-circle" style="color: {{getElementChartColor($index)}}" />\n              </div>\n              <div class="col-xs-7">\n                {{element.name | titleize}}\n              </div>\n              <div class="col-xs-4 text-right">\n                <i ng-show="filter.value == \'quantity_sold\'">{{getTotalForPeriod(element)}}</i>\n                <i ng-hide="filter.value == \'quantity_sold\'">{{getTotalForPeriod(element) | mnoCurrency : element.currency}}</i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>impac.widget.sales_comparison.select_sales_category</div>\n\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-cycle.tmpl.html",'<div widget-sales-cycle>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_cycle.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-params-picker options="statusOptions" param="status_selection" has-reach="hasReach" parent-widget="widget" class="part" deferred="::paramsPickerDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_cycle.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_cycle.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)" class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <span translate>impac.widget.sales_cycle.your_sales_cycle</span>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-customer-details.tmpl.html",'<div widget-sales-customer-details>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_customer_details.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_customer_details.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_customer_details.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n        <div setting-param-selector parent-widget="widget" param="customer_uid" options="customersOptions" selected="selectedCustomer" class="row title" deferred="::paramSelectorDeferred" />\n\n        <div class="details-container">\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.email</label></div>\n            <div class="col-md-8"><pre>{{getCustomer().email || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.phone</label></div>\n            <div class="col-md-8"><pre>{{getCustomer().phone || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.website</label></div>\n            <div class="col-md-8"><pre>{{getCustomer().website || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.contact</label></div>\n            <div class="col-md-8"><pre>{{getCustomer().contact || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.city</label></div>\n            <div class="col-md-8"><pre>{{getCustomer().city || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.country</label></div>\n            <div class="col-md-8"><pre>{{getCustomer().country || \'-\'}}</pre></div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel" ng-show="widget.isExpanded()">\n        <div class="details-container">\n          <div class="row" style="border-bottom: solid 1px #e6e6e6; margin-bottom: 10px; padding-bottom: 5px;">\n            <div class="col-md-3"><label translate>impac.widget.sales_customer_details.label.address</label></div>\n            <div class="col-md-9"><pre>{{formatAddress(getCustomer().full_address) || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-12 center legend">{{\'impac.widget.sales_customer_details.from\' | translate}} {{getFromDate() | date : \'d MMM yyyy\'}} {{\'impac.widget.sales_customer_details.to\' | translate}} {{getToDate() | date : \'d MMM yyyy\'}}:</div>\n          </div>\n          <div class="row">\n            <div class="col-md-5"><label translate>impac.widget.sales_customer_details.label.total_invoiced</label></div>\n            <div class="col-md-7"><pre>{{getCustomer().total_invoiced | mnoCurrency : getCustomer().currency}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-5"><label translate>impac.widget.sales_customer_details.label.total_paid</label></div>\n            <div class="col-md-7"><pre>{{getCustomer().total_paid | mnoCurrency : getCustomer().currency}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-5"><label translate>impac.widget.sales_customer_details.label.total_due</label></div>\n            <div class="col-md-7"><pre>{{getCustomer().total_due | mnoCurrency : getCustomer().currency}}</pre></div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-growth.tmpl.html",'<div widget-sales-growth>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_growth.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_growth.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_growth.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)">\n\n      <div class="selector">\n        <div setting-param-selector classic="true" parent-widget="widget" param="product" options="productOptions" selected="product" no-reload on-select="widget.format()" deferred="::paramSelectorDeferred1"/>\n        <div ng-show="product.value != -1" setting-param-selector classic="true" parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred2"/>\n      </div>\n\n      <div class="chart-container" ng-hide="(product.value == -1)">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n\n      <div ng-show="product.value != -1" class="legend text-center">{{getSelectedProduct().displayName}}</div>\n      <div class="price text-center" ng-hide="isDataQuantity || product.value == -1" uib-tooltip="{{\'impac.widget.sales_growth.tooltip.total_for_period\' | translate}}">{{getCurrentValue() | mnoCurrency : getSelectedProduct().currency}}</div>\n      <div class="price text-center" ng-show="isDataQuantity && product.value != -1" uib-tooltip="{{\'impac.widget.sales_growth.tooltip.total_for_period\' | translate}}">{{getCurrentValue()}}</div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-forecast.tmpl.html",'<div widget-sales-forecast>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_forecast.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_forecast.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_forecast.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" >\n\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n\n      <div class="widget-lines-container">\n\n        <div class="row widget-line header">\n          <div class="col-xs-12" translate>impac.widget.sales_forecast.projection_on</div>\n        </div>\n\n        <div class="row lines-group" ng-repeat="date in widget.content.dates.slice(6) track by $index" ng-init="collapsed = true" >\n          <div class="col-xs-12">\n\n            <div class="row widget-line" ng-class="{main: widget.content.opportunities.slice(6)[$index].length > 0}" ng-click="collapsed = !collapsed" >\n              <div class="col-xs-6">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <div class="col-xs-6 text-right">\n                <strong>{{widget.content.totals.slice(6)[$index] | mnoCurrency : widget.content.currency}}</strong>\n              </div>\n            </div>\n\n            <div class="row" uib-collapse="collapsed">\n              <div class="col-xs-12">\n                <div class="row widget-line" ng-repeat="opp in widget.content.opportunities.slice(6)[$index]" >\n                  <div class="col-xs-6">\n                    {{opp.name}}\n                  </div>\n                  <div class="col-xs-6 text-right">\n                    {{getOpportunityAmount(opp) | mnoCurrency : getOpportunityCurrency(opp)}}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-leads-funnel.tmpl.html",'<div widget-sales-leads-funnel>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_leads_funnel.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-params-picker options="statusOptions" param="status_selection" has-reach="hasReach" parent-widget="widget" class="part" deferred="::paramsPickerDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_leads_funnel.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_leads_funnel.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row">\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="legend">{{\'impac.widget.sales_leads_funnel.legend.your_leads\' | translate}} {{widget.content.from | date : \'d MMM yyyy\'}} {{\'impac.widget.sales_leads_funnel.legend.to\' | translate}} {{widget.content.to | date : \'d MMM yyyy\'}}</div>\n\n        <div class="funnel-container">\n          <div class="tile" ng-repeat="elem in funnel" ng-click="toggleSelectStatus(elem.status)">\n            <div class="colored-area" ng-style="elem.coloredWidth" ng-class="isSelected(elem.status) ? \'selected\' : \'\'">{{elem.number}}</div>\n            <div class="main-text" ng-style="elem.statusWidth">{{elem.status | titleize}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-hide="selectedStatus" class="currency" translate>impac.widget.sales_leads_funnel.select_a_status</div>\n\n        <div ng-show="selectedStatus" class="widget-lines-container">\n\n          <div class="row lines-group widget-line" ng-repeat="lead in getSelectedLeads()" uib-tooltip-html="leadDescriptionTooltips[$index]" tooltip-placement="top" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n            <div class="col-sm-7">\n              {{lead.first_name | titleize}} {{lead.last_name | titleize}}\n              <span ng-show="lead.organization">({{lead.organization}})</span>\n            </div>\n            <div class="col-sm-5 text-right">\n              <strong>{{lead.lead_status | titleize}}</strong>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width" />\n  </div>\n\n</div>\n'),e.put("widgets/sales-leads-list.tmpl.html",'<div widget-sales-leads-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_leads_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_leads_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_leads_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)">\n\n      <div class="widget-lines-container">\n\n        <div class="row lines-group widget-line" ng-repeat="lead in widget.content.leads" uib-tooltip-html="leadDescriptionTooltips[$index]" tooltip-placement="top" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n          <div class="col-sm-7">\n            {{lead.first_name | titleize}} {{lead.last_name | titleize}}\n            <span ng-show="lead.organization">({{lead.organization}})</span>\n          </div>\n          <div class="col-sm-5 text-right">\n            <strong>{{lead.lead_status | titleize}}</strong>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-list.tmpl.html",'<div widget-sales-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="widget-lines-container no-scroll">\n      <div class="row widget-line header">\n        <div class="col-xs-12 text-center">\n          <span setting-dates-picker parent-widget="widget" from="widget.metadata.hist_parameters.from" to="widget.metadata.hist_parameters.to" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred" template="::datesPickerTemplate"/>\n        </div>\n      </div>\n      <div class="row widget-line header">\n        <div class="col-xs-4 text-left sortable-title" ng-click="sort(\'account\')">\n          {{\'impac.widget.sales_list.products\' | translate}}\n          <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n        <div class="col-xs-4 text-center">\n          <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred" />\n        </div>\n        <div class="col-xs-4 text-right sortable-title" ng-click="sort(\'total\')">\n          {{\'impac.widget.sales_list.total\' | translate}}\n          <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n      </div>\n    </div>\n\n    <div class="widget-lines-container" ng-show="(isDataFound==true)">\n\n      <div class="row lines-group" ng-repeat="company in widget.content.summary" >\n        <div class="col-xs-12">\n\n          <div class="row widget-line" >\n            <div class="col-xs-1" ng-click="toggleCollapsed(company.name)" style="cursor: pointer;">\n              <i class="fa" ng-class="isCollapsed(company.name) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n            </div>\n            <div class="col-xs-7">\n              <strong>{{company.name | titleize}}</strong>\n            </div>\n            <div class="col-xs-4 text-right" ng-show="{{filter.value.match(\'quantity\')}}">\n              <strong>{{company.total}}</strong>\n            </div>\n            <div class="col-xs-4 text-right" ng-hide="{{filter.value.match(\'quantity\')}}">\n              <strong>{{company.total | mnoCurrency : company.currency}}</strong>\n            </div>\n          </div>\n\n        <div class="row" uib-collapse="isCollapsed(company.name)">\n          <div class="col-xs-12">\n            <div class="row widget-line" ng-repeat="product in company.products" >\n              <div class="col-xs-7 col-xs-offset-1">\n                {{product.name | titleize}}\n              </div>\n              <div class="col-xs-4 text-right" ng-show="{{filter.value.match(\'quantity\')}}">\n                <strong>{{product.total}}</strong>\n              </div>\n              <div class="col-xs-4 text-right" ng-hide="{{filter.value.match(\'quantity\')}}">\n                <strong>{{product.total | mnoCurrency : product.currency}}</strong>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="data-not-found" ng-show="(isDataFound==false)">\n      <div class="message" translate="impac.widget.sales_list.no_data_found"></div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("widgets/sales-margin.tmpl.html",'<div widget-sales-margin>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.sales_margin.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_margin.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_margin.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div ng-show="(isDataFound==true)">\n      <div setting-hist-mode parent-widget= "widget" deferred="::histModeDeferred" />\n\n      <div ng-hide="widget.isHistoryMode" class="current">\n        <div class="price">\n           {{ getTotalMargin() | mnoCurrency : getCurrency()}}\n        </div>\n        <div class="legend">\n          {{\'impac.widget.sales_margin.total_sold_and_purchased\' | translate}}\n          </br>\n          <div setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" no-reload on-select="widget.format()" deferred="::paramSelectorDeferred" />\n        </div>\n      </div>\n\n      <div class="history chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        <div class="legend" translate>impac.widget.sales_margin.total_sold_and_purchased</div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-net-sales.tmpl.html",'<div widget-sales-net-sales>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.sales_net_sales.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_net_sales.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_net_sales.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row selector">\n      <div class="col-xs-12 text-right">\n        <span setting-param-selector parent-widget="widget" param="display_type" options="displayOptions" selected="displayType" no-reload="true" deferred="::paramSelector1Deferred" /> |\n        <span setting-param-selector parent-widget="widget" param="time_range" options="timeRangeOptions" selected="timeRange" deferred="::paramSelector2Deferred" />\n      </div>\n    </div>\n\n    <div ng-show="(isDataFound==true)">\n\n      <div class="row text-center values">\n        <div class="value-container col-md-3 col-md-offset-0 col-xs-10 col-xs-offset-2">\n          <div class="title" translate>impac.widget.sales_net_sales.title.sales</div>\n          <div class="value-box">\n            {{ getValue(\'sales\') }}\n          </div>\n        </div>\n        <div class="operator col-md-1 col-xs-2">\n          <span>{{ sign(\'minus\') }}</span>\n        </div>\n        <div class="value-container col-md-3 col-xs-10">\n          <div class="title" translate>impac.widget.sales_net_sales.title.returns</div>\n          <div class="value-box">\n            {{ getValue(\'returns\') }}\n          </div>\n        </div>\n        <div class="operator col-md-1 col-xs-2">\n          <span>{{ sign(\'equal\') }}</span>\n        </div>\n        <div class="value-container col-md-4 col-xs-10">\n          <div class="title" translate>impac.widget.sales_net_sales.title.net_result</div>\n          <div class="value-box">\n            {{ getValue(\'net_result\') }}\n          </div>\n        </div>\n      </div>\n\n  </div>\n\n  <div class="data-not-found" ng-show="(isDataFound==false)">\n    <div class="message" translate="impac.widget.sales_net_sales.no_transaction"></div>\n  </div>\n\n</div>\n'),e.put("widgets/sales-new-vs-existing-customers.tmpl.html",'<div widget-sales-new-vs-existing-customers>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_new_vs_existing.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_new_vs_existing.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_new_vs_existing.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div class="selector">\n      <div class="selector-wrap">\n        <span setting-param-selector parent-widget="widget" param="display_type" options="displayOptions" selected="displayType" on-select="displayTypeOnClick()" no-reload="true" deferred="::displayTypeParamSelectorDeferred" />\n      </div>\n      <div class="selector-wrap">\n        <span setting-param-selector parent-widget="widget" param="time_range" options="timeRangeOptions" selected="timeRange" deferred="::timeRangeParamSelectorDeferred" />\n      </div>\n    </div>\n\n    <div class="chart-container" ng-show="(isDataFound==true)">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n    </div>\n\n    <div class="legend" ng-show="(isDataFound==true)">\n      <div class="row positive2">\n        <div class="col-xs-7 text-left" translate>impac.widget.sales_new_vs_existing.new_customers</div>\n        <div class="col-xs-5 text-right">{{getValue(\'new\')}}</div>\n      </div>\n      <div class="row negative2">\n        <div class="col-xs-7 text-left" translate>impac.widget.sales_new_vs_existing.existing_customers</div>\n        <div class="col-xs-5 text-right">{{getValue(\'existing\')}}</div>\n      </div>\n      <div class="row total">\n        <div class="col-xs-7 text-left" translate>impac.widget.sales_new_vs_existing.total</div>\n        <div class="col-xs-5 text-right">{{getValue(\'total\')}}</div>\n      </div>\n    </div>\n\n    <div class="data-not-found" ng-show="(isDataFound==false)">\n      <div class="message" translate>impac.widget.sales_new_vs_existing.no_data_found</div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("widgets/sales-number-of-leads.tmpl.html",'<div widget-sales-number-of-leads>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_number_of_leads.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_number_of_leads.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_number_of_leads.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="align-center">\n      <div class="selector">\n        {{\'impac.widget.sales_number_of_leads.leads_for_this\' | translate}} <span setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred" />\n      </div>\n\n      <div class="stats">\n        <div class="stat row align-left" ng-repeat="carac in [\'new\', \'converted\', \'lost\']">\n          <div class="col-md-6 title" style="padding: 0px;">{{carac | titleize}}</div>\n          <div class="col-md-6" style="padding: 0px;">\n            <span class="variation" ng-class="formatNumberOfLeads(carac).color">{{formatNumberOfLeads(carac).variation}}</span>\n            <span class="nominal">{{formatNumberOfLeads(carac).nominal}}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="legend">\n      {{widget.content.number_of_leads.total[1]}} {{\'impac.widget.sales_number_of_leads.leads_in_total\' | translate}}\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-opportunities-funnel.tmpl.html",'<div widget-sales-opportunities-funnel>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_funnel.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-params-picker options="statusOptions" has-reach="hasReach" param="sales_stage_selection" parent-widget="widget" class="part" deferred="::paramsPickerDeferred1" />\n    <div setting-params-picker options="assigneesOptions" has-reach="hasReach" param="assignees_selection" parent-widget="widget" class="part" deferred="::paramsPickerDeferred2" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_funnel.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_funnel.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\': \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="legend" translate>impac.widget.sales_funnel.legend</div>\n\n        <div class="funnel-container">\n          <div class="tile" ng-repeat="elem in funnel" ng-click="toggleSelectStatus(elem.status)">\n            <div class="colored-area" ng-style="elem.coloredWidth" ng-class="isSelected(elem.status) ? \'selected\' : \'\'">{{elem.number}}</div>\n            <div class="main-text" ng-style="elem.statusWidth">{{elem.status | titleize}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-hide="selectedStatus" class="currency" translate>impac.widget.sales_funnel.select_a_sales</div>\n\n        <div ng-show="selectedStatus" class="widget-lines-container">\n\n          <!-- Header -->\n          <div class="row widget-line header">\n            <div class="col-xs-6 sortable-title" ng-click="sort(\'group\')">\n              {{\'impac.widget.sales_funnel.assignees_opportunities\' | translate}}\n              <i ng-show="sortedColumn == \'group\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-6 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.sales_funnel.assignees_opportunities\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <div class="row lines-group widget-line" ng-repeat="group in selectedOpportunities">\n            <div class="col-xs-12">\n\n              <!-- Assignee lines -->\n              <div class="row widget-line" ng-click="toggleCollapsed(group)">\n                <div class="col-xs-1">\n                  <i class="fa" ng-class="isCollapsed(group) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-6">\n                  <strong>{{group.assigneeName | titleize}}</strong>\n                </div>\n                <div class="col-xs-5 text-right">\n                  <strong>{{getTotal(group.opps)}}</strong>\n                </div>\n              </div>\n\n              <!-- Opportunity lines -->\n              <div class="row" uib-collapse="isCollapsed(group)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-repeat="opp in group.opps">\n                    <div class="col-xs-6 col-xs-offset-1">\n                      {{opp.name | titleize}}\n                    </div>\n                    <div class="col-xs-5 text-right">\n                      <strong>{{getOppDetails(opp)}}</strong>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-performance.tmpl.html",'<div widget-sales-performance>\n\n  <!-- Edit panel -->\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_performance.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred"></div>\n\n    <div setting-params-picker options="closedWonOptions" param="closed_won_selection" parent-widget="widget" class="part" deferred="::paramsWinsPickerDeferred" description="{{\'impac.widget.sales_performance.description.pick_the_status\' | translate}}"></div>\n\n    <div setting-params-picker options="closedLostOptions" param="closed_lost_selection" parent-widget="widget" class="part" deferred="::paramsLostsPickerDeferred" description="{{\'impac.widget.sales_performance.description.pick_the_status_lost\' | translate}}"></div>\n\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" ></div>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_performance.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_performance.save</button>\n    </div>\n  </div>\n\n\n  <!-- Widget front -->\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row" >\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred"></div>\n\n        <div class="widget-lines-container">\n          <div class="row widget-line header">\n            <div class="col-xs-5">\n              {{\'impac.widget.sales_performance.from\' | translate}} {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_performance.to\' | translate}} {{widget.content.dates[widget.content.dates.length - 1] | mnoDate : widget.metadata.hist_parameters.period}}\n            </div>\n            <div class="col-xs-3 text-right" translate>impac.widget.sales_performance.win_ratio</div>\n            <div class="col-xs-4 text-right" translate>impac.widget.sales_performance.total_won</div>\n          </div>\n\n          <div class="row lines-group" ng-repeat="assignee in widget.content.assignees" ng-click="toggleSelectedElement(assignee)" >\n            <div class="col-xs-12">\n              <div class="row widget-line">\n                <div class="col-xs-5">{{assignee.name | titleize}}</div>\n                <div class="col-xs-3 text-right">{{assignee.win_ratio}} %</div>\n                <div class="col-xs-4 text-right">{{assignee.total_won | mnoCurrency: widget.metadata.currency}}</div>\n                <div class="selection-tag" ng-if="isSelected(assignee)" style="background-color: {{ getSelectLineColor(assignee) }}"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-hide="selectedElements.length > 0" class="no-element" translate>impac.widget.sales_performance.select_an_employee</div>\n\n        <div ng-show="no_sales_stages_selected()" class="no-element" translate>impac.widget.sales_performance.pick_the_status</div>\n\n        <div ng-show="selectedElements.length > 0 && !no_sales_stages_selected()">\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n            <div class="legend">{{\'impac.widget.sales_performance.total_won\' | translate}} {{getTotalWon() | mnoCurrency : widget.metadata.currency}}</div>\n          </div>\n\n          <div class="widget-lines-container" ng-init="collapsedAll=false">\n            <div ng-repeat="selectedElement in selectedElements track by $index">\n              <div class="row widget-line header" ng-click="collapsedAll=!collapsedAll">\n                <div class="col-xs-8">\n                  <i class="fa fa-circle" style="color: {{getElementChartColor($index)}}"></i>\n                  {{selectedElement.name | titleize}}\n                </div>\n                <div class="col-xs-4 text-right">{{selectedElement.total_won | mnoCurrency: widget.metadata.currency}}</div>\n              </div>\n\n              <div uib-collapse="collapsedAll">\n                <div class="row lines-group" ng-init="collapsedForecast=false" ng-hide="selectedElement.opps.forecast.length == 0" >\n                  <div class="col-xs-12">\n                    <div class="row widget-line" ng-click="collapsedForecast=!collapsedForecast">\n                      <div class="col-xs-10">\n                        <strong translate>impac.widget.sales_performance.forecast</strong>\n                      </div>\n                      <div class="col-xs-2 text-right">\n                        <strong>{{selectedElement.opps.forecast.length}}</strong>\n                      </div>\n                    </div>\n\n                    <div class="row" uib-collapse="collapsedForecast">\n                      <div class="col-xs-12">\n                        <div class="row widget-line no-select" ng-repeat="opp in selectedElement.opps.forecast" >\n                          <div class="col-xs-4">{{opp.name}}</div>\n                          <div class="col-xs-2 text-right">{{opp.probability | number :0 }} %</div>\n                          <div class="col-xs-3 text-right">{{getForecastCloseDate(opp)}}</div>\n                          <div class="col-xs-3 text-right">{{(opp.amount.amount) | mnoCurrency : opp.amount.currency}}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="row lines-group" ng-init="collapsedWon=false">\n                  <div class="col-xs-12">\n                    <div class="row widget-line" ng-click="collapsedWon=!collapsedWon">\n                      <div class="col-xs-10">\n                        <strong translate>{{\'impac.widget.sales_performance.closed_won\' | translate}}</strong>\n                      </div>\n                      <div class="col-xs-2 text-right">\n                        <strong>{{selectedElement.opps.won.length}}</strong>\n                      </div>\n                    </div>\n\n                    <div class="row" uib-collapse="collapsedWon">\n                      <div class="col-xs-12">\n                        <div class="row widget-line no-select" ng-repeat="opp in selectedElement.opps.won">\n                          <div class="col-xs-6">{{opp.name}}</div>\n                          <div class="col-xs-3 text-right">{{getCloseDate(opp)}}</div>\n                          <div class="col-xs-3 text-right">{{opp.amount.amount | mnoCurrency : opp.amount.currency}}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="row lines-group" ng-init="collapsedLost=false">\n                  <div class="col-xs-12">\n                    <div class="row widget-line" ng-click="collapsedLost=!collapsedLost">\n                      <div class="col-xs-10">\n                        <strong translate>impac.widget.sales_performance.closed_lost</strong>\n                      </div>\n                      <div class="col-xs-2 text-right">\n                        <strong>{{selectedElement.opps.lost.length}}</strong>\n                      </div>\n                    </div>\n\n                    <div class="row" uib-collapse="collapsedLost">\n                      <div class="col-xs-12">\n                        <div class="row widget-line no-select" ng-repeat="opp in selectedElement.opps.lost" >\n                          <div class="col-xs-6">{{opp.name}}</div>\n                          <div class="col-xs-3 text-right">{{getCloseDate(opp)}}</div>\n                          <div class="col-xs-3 text-right">{{opp.amount.amount | mnoCurrency : opp.amount.currency}}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"></div>\n  </div>\n</div>\n'),e.put("widgets/sales-segmented-turnover.tmpl.html",'<div widget-sales-segmented-turnover>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_turnover.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_turnover.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_turnover.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)" class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred"></div>\n\n        <div class="selector">{{\'impac.widget.sales_turnover.filter\' | translate}} <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred"/></div>\n        <div class="chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n\n        <div class="widget-lines-container">\n\n          <div class="row widget-line header">\n            <div class="col-xs-12" translate>impac.widget.sales_turnover.average_price</div>\n          </div>\n\n          <div class="row widget-line" ng-repeat="range in widget.content.ranges">\n            <div class="col-xs-2">\n              <i class="fa fa-circle" style="color: {{getColorByIndex($index)}}" />\n            </div>\n            <div class="col-xs-6">\n              {{getRangeLabel(range.label)}}\n            </div>\n            <div class="col-xs-4 text-right">\n              <i>{{range.percentage}}%</i>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      <div class="col-md-6 right-panel" ng-show="widget.isExpanded()">\n        <i class="fa fa-info-circle" style="float: left;" uib-tooltip="{{\'impac.widget.sales_turnover.tooltip.widget_segment\' | translate}}" />\n        <h3 style="margin: 25px 10px; text-align: center;">{{getMaxRange().percentage.toFixed()}}% {{\'impac.widget.sales_turnover.of_your_revenue\' | translate}} {{getMaxRange().label.split(\'-\')[0] | mnoCurrency : widget.content.currency}} {{\'impac.widget.sales_turnover.and\' | translate}} {{getMaxRange().label.split(\'-\')[1] | mnoCurrency : widget.content.currency}}.</h3>\n        <div class=\'analysis hidden-md\' ng-init="getAnalysis()">{{::analysisTranslate}}</div>\n      </div>\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets/sales-summary.tmpl.html",'<div widget-sales-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-chart-filters parent-widget="widget" class="part" deferred="::chartFiltersDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div class="selector">\n      <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred" />\n      <span setting-dates-picker parent-widget="widget" from="widget.metadata.hist_parameters.from" to="widget.metadata.hist_parameters.to" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred" template="::datesPickerTemplate"/>\n    </div>\n\n    <div class="chart-container" ng-show="(isDataFound==true)">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n    </div>\n\n    <div class="data-not-found" ng-show="(isDataFound==false)">\n      <div class="message" translate="impac.widget.sales_summary.no_data_found"></div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("widgets/sales-top-customers.tmpl.html",'<div widget-sales-top-customers>\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_top_customers.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-dates-picker parent-widget="widget" class="part" from="(widget.metadata.hist_parameters.from || defaultFrom)" to="(widget.metadata.hist_parameters.to || defaultTo)" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred"/>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_top_customers.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_top_customers.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode" class="widget-lines-container">\n\n    <div class="row selector" ng-show="(isDataFound==true)">\n      <div class="col-xs-12 text-right">\n        <a ng-click="toggleTransactions()">{{transactionsCollapsed ? \'impac.widget.sales_top_customers.show\' : \'impac.widget.sales_top_customers.hide\' | translate}} {{\'impac.widget.sales_top_customers.details\' | translate}}</a> |\n        <div setting-param-selector parent-widget="widget" param="limit_entries" options="limitEntriesOptions" selected="limitEntriesSelected" class="param-selector" deferred="::paramSelectorDeferred" no-reload/>\n      </div>\n    </div>\n\n    <!-- Header line -->\n    <div class="row widget-line header">\n      <div class="col-xs-1">\n        #\n      </div>\n      <div class="col-xs-7" translate>impac.widget.sales_top_customers.customer_name</div>\n      <div class="col-xs-4 text-right">\n        <div setting-param-selector parent-widget="widget" param="header" options="headerOptions" selected="headerSelected" class="param-selector" deferred="::paramSelectorDeferred" no-reload />\n      </div>\n    </div>\n\n    <!-- Content lines -->\n    <div class="row lines-group" ng-show="(isDataFound==true)" ng-repeat="entity in getEntities() | limitTo: limitEntriesSelected.value">\n      <div class="col-xs-12">\n\n        <div class="row widget-line">\n          <div class="col-xs-1">\n            {{$index + 1}}\n          </div>\n          <div class="col-xs-7">\n            <b>{{entity.name}}</b>\n          </div>\n          <div class="col-xs-4 text-right">\n            <b ng-if="getHeaderField().showCurrency">{{ getHeaderField().getValue(entity) | mnoCurrency : entity.currency }}</b>\n            <b ng-if="!getHeaderField().showCurrency">{{ getHeaderField().getValue(entity) }}</b>\n          </div>\n        </div>\n\n        <div class="row widget-line sub-line" uib-collapse="transactionsCollapsed">\n          <div class="col-xs-4" ng-repeat="field in getRemainingFields() track by $index" ng-class="{\'text-center\': ($index==1), \'text-right\': ($index==2)}" >\n            <i ng-if="field.showCurrency">{{field.label}}: {{field.getValue(entity) | mnoCurrency : entity.currency}}</i>\n            <i ng-if="!field.showCurrency">{{field.label}}: {{field.getValue(entity)}}</i>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <!-- Data not found line -->\n    <div class="row widget-line" ng-show="(isDataFound==false)">\n      <div class="col-xs-12" translate>impac.widget.sales_top_customers.no_sales</div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("widgets/sales-top-opportunities.tmpl.html",'<div widget-sales-top-opportunities>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_opportunities.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_opportunities.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_opportunities.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div ng-show="(isDataFound==true)">\n\n      <div class="legend">\n        {{\'impac.widget.sales_opportunities.total_potential\' | translate}} <b>{{widget.content.total_potential | mnoCurrency : widget.content.currency || "AUD"}}</b> - <b>{{widget.content.eligible_opportunities}}</b> {{\'impac.widget.sales_opportunities.eligible_opportunities\' | translate}}\n      </div>\n\n      <div class="opps-container">\n        <div class="tile" ng-repeat="opp in widget.content.opportunities track by $index" ng-class="getOppClass($index)">\n          <div class="colored-area">{{$index +1 }}</div>\n          <div class="main-text">\n            {{opp.name | titleize}}\n            <br />\n            <i style="font-size: 13px;">{{getOppDetails(opp)}}</i>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="(isDataFound==false)" common-data-not-found endpoint="::widget.endpoint" width="::widget.width"/>\n  </div>\n\n</div>\n'),e.put("widgets-settings/accounting-behaviour.tmpl.html",'<h5 translate>impac.widget.settings.account.label.accounting_behaviour</h5>\n<div class="settings accounting-behaviour">\n\n<div class="row">\n  <div class="col-md-12 text-center">\n    <div class="btn-group">\n      <label class="btn btn-primary" ng-model="selectedBehaviour" uib-btn-radio="\'bls\'" translate>impac.widget.settings.accounting_behaviour.balance_sheet</label>\n      <label class="btn btn_primary" ng-model="selectedBehaviour" uib-btn-radio="\'pnl\'" translate>impac.widget.settings.accounting_behaviour.p_and_l</label>\n    </div>\n  </div>\n</div>\n\n</div>\n'),e.put("widgets-settings/account.tmpl.html",'<h5 ng-if="showLabel">{{label}}</h5>\n<div class="input-group settings select-account">\n	<select ng-model="parentWidget.selectedAccount" ng-change="onAccountSelected()" ng-options="formatLabel(account) group by account.classification for account in parentWidget.content.account_list track by account.uid" class="form-control" />\n</div>\n'),e.put("widgets-settings/attach-kpis.tmpl.html",'<div class="settings attach-kpis">\n\n  <div class="attach-kpi">\n    <h5 translate>impac.widget.settings.attach_kpis.attach_an_alert</h5>\n    <form name="attachKpiForm" class=\'attach-kpi-form\'>\n      <!-- <div class="row nomargin">\n        <select class="form-control input-sm" ng-model="kpi.endpoint" ng-options="kpi.endpoint as formatKpiName(kpi.endpoint) for kpi in availableKpis" ng-change="selectKpi()"></select>\n      </div>\n      <div class="row nomargin">\n        <div class="extra-params" ng-repeat="(param, paramValues) in kpi.possibleExtraParams track by $index">\n          <select class="form-control input-sm" name="{{param}}" ng-model="kpi.extra_params[param]" ng-options="value.id as value.label for value in paramValues" ng-init="kpi.extra_params[param] = paramValues[0].id"></select>\n        </div>\n      </div> -->\n      <div class="row nomargin kpi-description">\n        <!-- TODO: support for multiple extra params, and watchables. -->\n        {{\'impac.widget.settings.attach_kpis.keep_the\' | translate}} {{elementWatched}} <span ng-if="showExtraParam">{{\'impac.widget.settings.attach_kpis.of\' | translate}} {{extraParams[selectedParam].name}}</span>:\n      </div>\n      <div class="row nomargin">\n        <div class="col-xs-5 nopadding">\n          <select class="pull-left form-control input-sm" ng-model="kpi.limit.mode" ng-options="option.mode as option.label for option in possibleTargets" ></select>\n        </div>\n        <div class="form-group col-xs-5 nopadding nomargin" ng-class="attachKpiForm.limitValue.$valid ? \'has-success\' : \'has-error\'">\n          <input name="limitValue" type="text" pattern="-?[0-9]+" class="form-control input-sm attach-target" ng-model="kpi.limit.value" required>\n          <!-- TODO: return possible units from API? -->\n          <!-- <span class="form-control-feedback" aria-hidden="true">{{kpi.data.unit}}</span> -->\n          <div class="error-messages limit" ng-messages="attachKpiForm.limitValue.$error">\n            <span ng-message="required" translate>impac.widget.settings.attach_kpis.kpi_target_require</span>\n            <span ng-message="pattern" translate>impac.widget.settings.attach_kpis.kpi_target_number</span>\n          </div>\n        </div>\n        <div class="col-xs-2 nopadding">\n          <button class="btn btn-primary input-sm" ng-click="attachKpi()" ng-disabled="!hasValidTarget()"><i class="fa fa-plus"></i></button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="list-group attached-kpis" ng-show="attachedKpis.length">\n    <h5 translate>impac.widget.settings.attach_kpis.attached_alerts</h5>\n    <div class="list-group-item clearfix attached-kpi" ng-repeat="kpi in attachedKpis track by $index">\n      <div class="attached-kpi-name">{{\'impac.widget.settings.attach_kpis.keep\' | translate}} {{formatAttachedKpiTitle(kpi) | titleize}}</div>\n      <div class="pull-right actions">\n        <alerts-config kpi="kpi"></alerts-config>\n        <div class="remove-attached-kpi" ng-click="deleteKpi(kpi)">\n          <i class="fa fa-times"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'),e.put("widgets-settings/chart-filters.tmpl.html",'<div class="settings chart-filters">\n  <h5 translate>impac.widget.settings.chart_filters.title</h5>\n  <div class="row">\n    <div class="col-md-6">\n      <input type="radio" ng-model="filterCriteria" value="number">\n      <label for="number" ng-click="filterCriteria = \'number\'" translate="impac.widget.settings.chart_filters.filter_number" translate-values="{number: filterValueNumber, entityType: entityType}"></label>\n    </div>\n    <div class="col-md-6">\n      <input type="range" ng-model="filterValueNumber" ng-change="filterCriteria = \'number\'" min="3" max="{{maxEntities}}" step="1">\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6">\n      <input type="radio" ng-model="filterCriteria" value="percentage">\n      <label for="percentage" ng-click="filterCriteria = \'percentage\'" translate="impac.widget.settings.chart_filters.filter_percentage" translate-values="{percentage: filterValuePercentage, entityType: filterLabel}"></label>\n    </div>\n    <div class="col-md-6">\n      <input type="range" ng-model="filterValuePercentage" ng-change="filterCriteria = \'percentage\'" min="20" max="100" step="5">\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/dates-picker.tmpl.html",'<span class="settings dates-picker">\n  <h5 ng-if="showTitle()" translate>impac.widget.settings.dates_picker.title</h5>\n  <span id="template-container" />\n</span>\n'),e.put("widgets-settings/hist-mode.tmpl.html",'<div class="settings hist-mode-choser">\n  <div common-time-period-info context="forwardParams" />\n\n  <div align="center" class="options">\n    <a ng-click="toggleHistMode(\'current\')" ng-class="!parentWidget.isHistoryMode ? \'active\' : \'inactive\'" translate>{{ getCurrentLabel() }} </a> |\n    <a ng-click="toggleHistMode(\'history\')" ng-class="parentWidget.isHistoryMode ? \'active\' : \'inactive\'" translate>impac.widget.settings.hist.history</a>\n  </div>\n\n  <div class="{{parentWidget.isHistoryMode ? \'arrow-container right\' : \'arrow-container left\'}}">\n    <div class="arrow" />\n    <div class="arrow-border" />\n  </div>\n</div>\n'),e.put("widgets-settings/limit-entries.tmpl.html",'<div class="settings limit-entries">\n  {{ (entriesLabel ? \'impac.widget.settings.limit_entries.top\' : \'impac.widget.settings.limit_entries.display\') | translate }}\n\n  <span ng-repeat="option in options | filter:isOptionValid:option track by $index">\n    {{ $index!=0 ? \' |\' : \'\' }} \n    <a target=\'#\' ng-click="selectOption(option)" class="option" ng-class="{badge: option==selected}">{{ option }}</a>\n  </span>\n\n  <span ng-if="max">\n    | \n    <a target=\'#\' ng-click="selectOption(max)" class="option" ng-class="{badge: (!selected || selected==max)}">{{ max }}</a>\n  </span>\n\n   {{entriesLabel || (\'impac.widget.settings.limit_entries.entries\' | translate)}}\n</div>'),e.put("widgets-settings/offsets.tmpl.html",'<div class="settings offsets">\n  <div ng-repeat="offsetValue in offsets track by $index" class="offset-value text-right">\n    <i class="fa fa-trash-o pull-left" ng-click="removeOffset($index)" title="Remove offset"/>\n    + <span ng-if="showIntervalsMult">{{ intervalsCount }} {{ periodWord }}{{ intervalsCount > 1 ? \'s\' : \'\' }} x </span>{{ offsetValue | mnoCurrency : currency}}\n  </div>\n\n  <div class="form-group">\n    <button class="btn btn-sm btn-success" ng-click="addOffset()" title="Add offset">\n      <i class="fa fa-plus" />\n    </button>\n    <input type="text" class="form-control input-sm pull-right text-right" placeholder="{{ placeholder }}" ng-model="offsetFormula" ng-keyup="addOffsetOnEnter($event)">\n  </div>\n</div>\n'),e.put("widgets-settings/organizations.tmpl.html",'<div class="settings organizations">\n  <h5 translate>impac.widget.settings.organizations.select_companies</h5>\n\n  <div class="widget-lines-container">\n    <div class="widget-line" ng-repeat="org in dashboardOrganizations">\n      {{org.label}}\n      <i ng-class="isOrganizationSelected(org.uid) ? \'fa fa-toggle-on\' : \'fa fa-toggle-off\'" ng-click="toggleSelectOrganization(org.uid)" uib-tooltip="{{isOrganizationSelected(org.uid) ? \'disable\' : \'enable\'}}" tooltip-append-to-body="true" />\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/param-selector-classic.tmpl.html",'<span class="settings param-selector classic" ng-if="selected != undefined">\n  <select ng-options="option as option.label for option in options track by option.value" ng-model="$parent.selectedOption" ng-change="selectOption(selectedOption)" ng-init="onInit()">\n  </select>\n</span>\n'),e.put("widgets-settings/param-selector.tmpl.html",'<span class="settings param-selector">\n	<a ng-click="toggleShowOptions()">{{((selected.labelTranslate | translate | titleize) || (selected.label | titleize)) | truncate : getTruncateValue() : "..." : false}} <i class="fa fa-chevron-down" /></a>\n	<div class="options-container" uib-collapse="!showOptions">\n		<div ng-repeat="option in options" ng-click="selectOption(option)">\n			{{(option.labelTranslate | translate | titleize) || (option.label | titleize)}}\n		</div>\n	</div>\n</span>\n'),e.put("widgets-settings/params-checkboxes.tmpl.html",'<div ng-repeat="parameter in options track by $index" class="settings params-checkboxes">\n  <label>\n    <input type="checkbox" ng-model="parameter.value" ng-change="parameter.onChangeCallback()">\n    <span>{{parameter.label}}</span>\n  </label>\n</div>\n'),e.put("widgets-settings/params-picker.tmpl.html",'<h5>{{formattedParam | titleize}}</h5>\n<div class="settings params-picker">\n  <div style="margin-bottom: 8px;">{{description}}</div>\n  <div ui:sortable="sortableOptions" ng-model="options" class="input-group">\n    <span ng-repeat="parameter in options track by $index" class="parameter" ng-class="!parameter.selected ? \'unchecked\' : \'\'">\n      <span class="badge">{{$index + 1}}</span>\n      {{parameter.label | titleize}}\n      <input type="checkbox" ng-model="parameter.selected" />\n    </span>\n  </div>\n  <div ng-show="hasReach">\n    <label><strong translate>impac.widget.settings.params-picker.apply_to_all</strong> <input type="checkbox" ng-change="toggleReach()" ng-model="applyToDashboard"></label>\n  </div>\n</div>\n'),e.put("widgets-settings/time-period.tmpl.html",'<h5 translate>impac.widget.settings.time_period.title</h5>\n<div class="settings time-period" ng-if="timePeriodSetting">\n\n  <!-- Time range -->\n  <div class="row">\n    <div class="col-xs-12">\n      <strong translate>impac.widget.settings.time_period.time_range</strong>\n      <div setting-time-presets parent-widget="timePeriodSetting" deferred="::timePresetsDeferred" on-select="applyPreset(histParams)" presets="presets" on-choose-dates="useDatesPicker()" on-choose-period="useTimeSlider()" hist-params="histParams" reset-promise="resetPreset.promise" />\n    </div>\n  </div>\n\n  <!-- Dates pickers -->\n  <div class="row" ng-show="isDatesPickerUsed()">\n    <div class="col-xs-12">\n      <div setting-dates-picker class="sub-setting" parent-widget="timePeriodSetting" deferred="::datesPickerDeferred" min-date="getMinDate()" from="fromDate" to="toDate" keep-today="keepToday" on-use="useDatesPicker()" />\n    </div>\n  </div>\n\n  <!-- Slider -->\n  <div class="row" ng-show="isTimeSliderUsed()">\n    <div class="col-xs-12">\n      <div setting-time-slider class="sub-setting" parent-widget="timePeriodSetting" deferred="::timeSliderDeferred" time-range="timePeriodSetting.timeRange" on-use="useTimeSlider()" />\n    </div>\n  </div>\n\n  <!-- Chart interval -->\n  <div class="row">\n    <div class="col-xs-12">\n      <strong translate>impac.widget.settings.time_period.chart_interval</strong>\n      <select ng-model="timePeriodSetting.period" ng-options="period.value as period.label for period in periods" ng-change="updateSettings()" />\n    </div>\n  </div>\n\n  <!-- Info -->\n  <div class="row text-center">\n    <div class="col-xs-12">\n      <i translate="impac.widget.settings.time_period.chart_note" translate-values="{nbOfPeriods: maxNumberOfPeriods}"></i>\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/time-presets.tmpl.html",'<div class="settings time-presets">\n  <select ng-model="selectedPreset" ng-options="p.label for p in presets" ng-change="presetSelected()" />\n</div>\n'),e.put("widgets-settings/time-slider.tmpl.html",'<div class="settings time-slider">\n  <div class="row">\n    <div class="col-xs-11 col-xs-offset-1" ng-click="onUse()" translate="impac.widget.settings.time_slider.show_last" translate-values="{formatPeriod: last_x_period}"></div>\n    <div class="col-xs-11 col-xs-offset-1" ng-click="onUse()">\n      <i>{{formatDate(fromDate())}} - {{formatDate(toDate())}}</i>\n    </div>\n    <div class="col-xs-12">\n      <input type="range" ng-model="numberOfPeriods" min="1" max="12" step="1" ng-focus="onUse()" ng-change="formatPeriod()">\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/width.tmpl.html",'<i class="fa fa-angle-double-left reduce" ng-show="expanded && !pdfMode" ng-click="parentWidget.toggleExpanded()" uib-tooltip="{{\'impac.widget.settings.width.reduce\' | translate}}"/>\n<i class="fa fa-angle-double-right expand" ng-hide="expanded || pdfMode" ng-click="parentWidget.toggleExpanded()" uib-tooltip="{{\'impac.widget.settings.width.expand\' | translate}}"/>\n')
}]),function(){var e;e=angular.module("maestrano.impac"),e.config(["$httpProvider",function(e){return e.defaults.headers.common.Accept="application/json",e.defaults.headers.common["Content-Type"]="application/json"}]),e.config(["$qProvider",function(e){return e.errorOnUnhandledRejections(!1)}]),e.config(["$translateProvider","ImpacThemingProvider",function(e,t){var i;return i=t.$get().get().translateSettings,i.customLocaleFiles.prefix&&e.useStaticFilesLoader({prefix:i.customLocaleFiles.prefix,suffix:i.customLocaleFiles.suffix}),e.useSanitizeValueStrategy("escapeParameters"),e.useMessageFormatInterpolation(),e.useMissingTranslationHandlerLog(),e.preferredLanguage(i.fallbackLanguage),e.fallbackLanguage(i.preferredLanguage)}])}.call(this),function(){var e;e=angular.module("impac.constant"),e.constant("IMPAC_EVENTS",{kpiTargetAlert:"kpi-target-alert",impacNotificationsLoad:"impac-notifications-load",addOrRemoveAlerts:"add-or-remove-alerts",kpisBarUpdateSettings:"on-kpis-bar-update-settings",kpisBarToggleSettings:"on-kpis-bar-toggle-settings",kpisBarUpdateDates:"on-kpis-bar-update-dates",kpiPressEnterButton:"on-kpi-press-enter-button"}),e.constant("LOCALES",{list:[{id:"en-gb",name:"English (GB)"},{id:"zh-HK",name:"Chinese (HK)"}]})}.call(this),angular.module("maestrano.impac").config(["$translateProvider",function(e){e.translations("en-gb",{hello_world:"Hello world","workspace.title":"IMPAC! DEVELOPER WORKSPACE","impac.common.action.cancel":"Cancel","impac.common.action.save":"Save","impac.common.action.delete":"Delete","impac.common.action.calendar.left":"prev","impac.common.action.calendar.center":"title","impac.common.action.calendar.right":"next","impac.common.title.widget.settings.title":"Widget settings","impac.common.measure.unit.days":"{QTY, plural, =0{day} one{day} other{days}}","impac.common.measure.unit.percentage":"%","impac.common.term.accounting.asset.one":"Asset","impac.common.term.accounting.asset.many":"Assets","impac.common.term.accounting.liability.one":"Liability","impac.common.term.accounting.liability.many":"Liabilities","impac.common.period.period_in_words.last_x_days.one":"last day","impac.common.period.period_in_words.last_x_days.other":"last {count} days","impac.common.period.period_in_words.last_x_weeks.one":"last week","impac.common.period.period_in_words.last_x_weeks.other":"last {count} weeks","impac.common.period.period_in_words.last_x_months.one":"last month","impac.common.period.period_in_words.last_x_months.other":"last {count} months","impac.common.period.period_in_words.last_x_quarters.one":"last quarter","impac.common.period.period_in_words.last_x_quarters.other":"last {count} quarters","impac.common.period.period_in_words.last_x_years.one":"last year","impac.common.period.period_in_words.last_x_years.other":"last {count} years","impac.common.period.period_in_words.last_x_financial_years.one":"last financial year","impac.common.period.period_in_words.last_x_financial_years.other":"last {count} financial years","impac.common.period.preset_in_words.calendar_year_to_date":"Calendar year to date","impac.common.period.preset_in_words.financial_year_to_date":"Financial year to date","impac.common.period.preset_in_words.previous_financial_year":"Previous financial year","impac.common.period.preset_in_words.last_6_months":"Last 6 months","impac.common.period.preset_in_words.last_4_quarters":"Last 4 quarters","impac.common.period.preset_in_words.last_4_weeks":"Last 4 weeks","impac.common.period.preset_in_words.choose_period":"Choose period...","impac.common.period.preset_in_words.choose_dates":"Choose dates...","impac.common.label.job_title":"Job Title","impac.common.label.company":"Company","impac.common.label.phone":"Phone","impac.common.label.email":"Email","impac.common.label.date_of_birth":"Date of birth","impac.common.label.gender":"Gender","impac.common.label.salary":"Salary","impac.common.label.address":"Address","impac.common.label.job_location":"Job location","impac.common.label.supervisor":"Supervisor","impac.common.label.status":"Status","impac.common.label.employee":"Employee","impac.common.label.title":"Title","impac.common.label.note":"Note","impac.common.label.age_range":"Age Range","impac.common.label.salary_range":"Salary Range","impac.common.label.website":"Website","impac.common.label.contact":"Contact","impac.common.label.city":"City","impac.common.label.country":"Country","impac.common.label.total_invoiced":"Total invoiced","impac.common.label.total_paid":"Total paid","impac.common.label.total_due":"Total due","impac.common.text.from":"From","impac.common.text.to":"to","impac.common.value_sold_taxes":"value sold (incl. taxes)","impac.common.value_sold_no_taxes":"value sold (excl. taxes)","impac.common.quantity_sold":"quantity sold","impac.common.value_purchased_taxes":"value purchased (incl. taxes)","impac.common.value_purchased_no_taxes":"value purchased (excl. taxes)","impac.common.quantity_purchased":"quantity purchased","impac.common.reduce":"reduce","impac.common.expand":"expand","impac.data_not_found_config.main_message":"Data not found","impac.data_not_found_config.link_message":"Are you missing an app?","impac.data_not_found_config.find_why":"Find out why","impac.widget.settings.hist.history":"history","impac.widget.settings.time_period.title":"Time period selection","impac.widget.settings.time_period.time_range":"Time Range:","impac.widget.settings.time_period.chart_interval":"Chart Interval:","impac.widget.settings.time_period.chart_note":"Note: Chart is limited to {nbOfPeriods} intervals:","impac.widget.settings.time_period.period.hourly":"HOURLY","impac.widget.settings.time_period.period.daily":"DAILY","impac.widget.settings.time_period.period.weekly":"WEEKLY","impac.widget.settings.time_period.period.monthly":"MONTHLY","impac.widget.settings.time_period.period.quarterly":"QUARTERLY","impac.widget.settings.time_period.period.yearly":"YEARLY","impac.widget.settings.time_period.yearly_financial":"Yearly (financial)","impac.widget.settings.time_period.period.days":"DAYS","impac.widget.settings.time_period.period.weeks":"WEEKS","impac.widget.settings.time_period.period.months":"MONTHS","impac.widget.settings.time_period.period.quarters":"QUARTERS","impac.widget.settings.time_period.period.years":"YEARS","impac.widget.settings.time_period.period.year":"year","impac.widget.settings.time_period.period.quarter":"quarter","impac.widget.settings.time_period.period.month":"month","impac.widget.settings.time_period.period.week":"week","impac.widget.settings.time_period.period.day":"day","impac.widget.settings.dates_picker.title":"Time range","impac.widget.settings.dates_picker.from":"From","impac.widget.settings.dates_picker.to":"To","impac.widget.settings.dates_picker.tooltip.apply_changes":"Apply changes","impac.widget.settings.time_slider.show_last":"Show {formatPeriod}","impac.widget.settings.organizations.select_companies":"Select Companies","impac.widget.settings.chart_filters.title":"Chart filters","impac.widget.settings.chart_filters.filter_number":"Top {number} {entityType}","impac.widget.settings.chart_filters.filter_percentage":"Top {percentage}% {entityType}","impac.widget.settings.account.label":"Account to monitor","impac.widget.settings.account.label.accounting_behaviour":"Accounting behaviour","impac.widget.settings.accounting_behaviour.balance_sheet":"Balance Sheet","impac.widget.settings.accounting_behaviour.p_and_l":"P&L","impac.widget.settings.attach_kpis.attach_an_alert":"Attach an Alert","impac.widget.settings.attach_kpis.keep_the":"Keep the","impac.widget.settings.attach_kpis.of":"of","impac.widget.settings.attach_kpis.kpi_target_require":"KPI target is required","impac.widget.settings.attach_kpis.kpi_target_number":"KPI target must be a number","impac.widget.settings.attach_kpis.attached_alerts":"Attached Alerts","impac.widget.settings.attach_kpis.keep":"Keep","impac.widget.settings.attach_kpis.over":"over","impac.widget.settings.attach_kpis.below":"below","impac.widget.settings.width.reduce":"@:impac.common.reduce","impac.widget.settings.width.expand":"@:impac.common.expand","impac.widget.settings.params-picker.description":"The selected criteria will be displayed in this order (drag/drop to modify):","impac.widget.settings.params-picker.apply_to_all":"Apply to all similar widgets","impac.widget.settings.params-picker.status_selection":"STATUS SELECTION","impac.widget.settings.limit_entries.top":"Top","impac.widget.settings.limit_entries.display":"Display","impac.widget.settings.limit_entries.entries":"entries","impac.dashboard_selector.delete_widget.description":"Are you sure you want to delete this analytics dashboard?","impac.dashboard_selector.bootstrap_tabs.add_widget":"Add Widget","impac.dashboard_selector.bootstrap_tabs.source":"Source:","impac.dashboard_selector.delete.delete_dashboard":"Delete Dashboard","impac.dashboard_selector.delete.delete":"Delete","impac.dashboard_selector.delete.cancel":"@:impac.common.action.cancel","impac.dashboard_selector.dropdown.source":"Source:","impac.dashboard_selector.dropdown.tooltip.change_name":"Change name","impac.dashboard_selector.dropdown.create_dashboard":"Create Dashboard","impac.dashboard_selector.dropdown.change_dashboard_name":"Change dashboard name:","impac.dashboard_selector.dropdown.cancel":"@:impac.common.action.cancel","impac.dashboard_selector.dropdown.confirm":"Confirm","impac.dashboard_selector.dropdown.add_widget":"@:impac.dashboard_selector.bootstrap_tabs.add_widget","impac.dashboard_selector.dropdown.tooltip":"Delete Dashboard","impac.widget.common.top_buttons.delete.title":"Are you sure you want to delete this widget ?","impac.widget.common.top_buttons.delete.explanation":"(it will not erase your data)","impac.widget.common.top_buttons.delete.cancel":"@:impac.common.action.cancel","impac.widget.common.top_buttons.delete.delete":"@:impac.common.action.delete","impac.widget.common.top_buttons.info_popup.delete":"Delete widget","impac.widget.common.top_buttons.info_popup.edit":"Edit widget","impac.widget.common.top_buttons.info_popup.refresh":"Refresh widget","impac.widget.common.top_buttons.info_popup.info":"Widget info","impac.widget.common.time_period_info.to":"As at {dateTo}","impac.widget.common.time_period_info.from_to":"From {dateFrom} to {dateTo}","impac.widget.common.error_config.first_time_created.first":"It's time to add a reporting dashboard!","impac.widget.common.error_config.first_time_created.second":"In 2 clicks, you'll be able to visualize how your business is performing.","impac.widget.common.error_config.first_time_created.note":"Note: dashboards you create will only be accessible by you. Dashboard sharing across users will be added soon.","impac.widget.common.error_config.empty.first":"Now it's time to select the metrics you want to see!","impac.widget.common.error_config.empty.second":"Add widgets to your dashboard to help make an Impac!™ to your business.","impac.widget.common.error_config.failed.first":"Ooops! Something went wrong, can you please refresh your dashboard?","impac.widget.common.error_config.failed.second":"Unable to load your dashboard, please contact support or try again later.","impac.widget.common.sub_menu_config.check_this_app":">> Check this app on our marketplace","impac.widget.theming.hist.default":"Current","impac.widget.theming.hist.default.live":"@:impac.widget.theming.hist.default","impac.widget.theming.hist.bls":"Balance","impac.widget.theming.hist.bls.live":"Live Balance","impac.widget.theming.hist.pnl":"Total period","impac.widget.theming.hist.pnl.live":"@:impac.widget.theming.hist.pnl","impac.widget.include_pdf":"CLICK TO INCLUDE IN PDF","impac.widget.loader":"Your data is being retrieved...","impac.widget.type.revenue_asset":"Revenue / Asset","impac.widget.currency.ratio":"Ratio","impac.widget.classification_summary.liability":"Liability","impac.widget.classification_summary.revenue":"Revenue","impac.widget.classification_summary.expense":"Expense","impac.widget.classification_summary.asset":"Asset","impac.widget.classification_summary.equity":"Equity","impac.kpi.alerts.title":"Alerts settings","impac.kpi.alerts.explanation":"Alert me when <strong>{name} ({element_watched})</strong> is","impac.kpi.alerts.service.inapp":"With in-app notifications","impac.kpi.alerts.service.email":"By sending me an email {EMAIL, select, hasEmail{ at {email}} other{}}","impac.kpi.alerts.target":"{TARGET, select, below{below} over{over} other{}} {value} {unit}","impac.kpi.alerts.cancel":"@:impac.common.action.cancel","impac.kpi.alerts.save":"@:impac.common.action.save","impac.kpi.current":"Current","impac.kpi.kpi_target_require":"@:impac.widget.settings.attach_kpis.kpi_target_require","impac.kpi.kpi_target_number":"@:impac.widget.settings.attach_kpis.kpi_target_number","impac.kpi.over":"@:impac.widget.settings.attach_kpis.over","impac.kpi.below":"@:impac.widget.settings.attach_kpis.below","impac.kpi.extra_param_label.verb":"Select","impac.kpi_bar.you_can_now":"You can now attach KPIs to your dashboard","impac.kpi_bar.no_kpis":"No KPIs are available for your dashboard","impac.kpi_bar.add_to_dashboard":"Add to dashboard","impac.kpi_bar.new":"New!","impac.widget.accounting_values.turnover.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounting_values.turnover.save":"@:impac.common.action.save","impac.widget.accounting_values.turnover.cancel":"@:impac.common.action.cancel","impac.widget.accounting_values.turnover.type":"Overall Turnover","impac.widget.accounting_values.turnover.legend":"Revenue / Asset","impac.widget.accounting_values.turnover.currency":"(ratio)","impac.widget.acc_ass_liab_smry.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.acc_ass_liab_smry.save":"@:impac.common.action.save","impac.widget.acc_ass_liab_smry.cancel":"@:impac.common.action.cancel","impac.widget.acc_ass_liab_smry.asset.one":"@:impac.common.term.accounting.asset.one","impac.widget.acc_ass_liab_smry.asset.many":"@:impac.common.term.accounting.asset.many","impac.widget.acc_ass_liab_smry.liability.one":"@:impac.common.term.accounting.liability.one","impac.widget.acc_ass_liab_smry.liability.many":"@:impac.common.term.accounting.liability.many","impac.widget.acc_ass_liab_smry.accounts.asset":"Asset Accounts","impac.widget.acc_ass_liab_smry.accounts.liability":"Liability Accounts","impac.widget.acc_ass_smry.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.acc_ass_smry.save":"@:impac.common.action.save","impac.widget.acc_ass_smry.cancel":"@:impac.common.action.cancel","impac.widget.acc_ass_smry.asset.many":"@:impac.common.term.accounting.asset.many","impac.widget.acc_ass_smry.liability.many":"@:impac.common.term.accounting.liability.many","impac.widget.acc_ass_vs_liab.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.acc_ass_vs_liab.save":"@:impac.common.action.save","impac.widget.acc_ass_vs_liab.cancel":"@:impac.common.action.cancel","impac.widget.acc_ass_vs_liab.asset.one":"@:impac.common.term.accounting.asset.one","impac.widget.acc_ass_vs_liab.asset.many":"@:impac.common.term.accounting.asset.many","impac.widget.acc_ass_vs_liab.liability.many":"@:impac.common.term.accounting.liability.many","impac.widget.acc_ass_vs_liab.liability.one":"@:impac.common.term.accounting.liability.one","impac.widget.account_balance.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_balance.save":"@:impac.common.action.save","impac.widget.account_balance.cancel":"@:impac.common.action.cancel","impac.widget.account_balance_sheets.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_balance_sheets.save":"@:impac.common.action.save","impac.widget.account_balance_sheets.cancel":"@:impac.common.action.cancel","impac.widget.account_balance_sheets.not_found":"No balance sheet can be generated between {fromDate} and {toDate} <br/> Please select another period","impac.widget.account_balance_sheets.compare_balances":"Compare balances at dates:","impac.widget.account_balance_sheets.asset":"Asset","impac.widget.account_balance_sheets.liability":"Liability","impac.widget.account_balance_sheets.equity":"Equity","impac.widget.account_balance_sheets.accounts":"Accounts","impac.widget.account_balance_sheets.balance":"Balance","impac.widget.account_cash_smry.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_cash_smry.save":"@:impac.common.action.save","impac.widget.account_cash_smry.cancel":"@:impac.common.action.cancel","impac.widget.account_cash_smry.cash_flow":"Cash Flow","impac.widget.account_cash_smry.cash_flow.daily":"Daily Cash Flow","impac.widget.account_cash_smry.cash_flow.weekly":"Weekly Cash Flow","impac.widget.account_cash_smry.cash_flow.monthly":"Monthly Cash Flow","impac.widget.account_cash_smry.cash_flow.quarterly":"Quarterly Cash Flow","impac.widget.account_cash_smry.cash_flow.yearly":"Yearly Cash Flow","impac.widget.account_cash_smry.select.description":"Select an account or an account type to display the corresponding cash evolution.","impac.widget.account_cash_smry.vs":"vs ","impac.widget.account_cash_smry.summary.total_operating":"Total Operating","impac.widget.account_cash_smry.summary.total_non_operating":"Total Non Operating","impac.widget.account_cash_smry.summary.gst_movements":"Gst Movements","impac.widget.account_cash_smry.summary.net_cash_flow":"Net Cash Flow","impac.widget.account_class_comp.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_class_comp.save":"@:impac.common.action.save","impac.widget.account_class_comp.cancel":"@:impac.common.action.cancel","impac.widget.account_class_comp.klass.liability":"liability","impac.widget.account_class_comp.klass.asset":"asset","impac.widget.account_class_comp.klass.expense":"expense","impac.widget.account_class_comp.klass.revenue":"revenue","impac.widget.account_class_comp.klass.equity":"equity","impac.widget.account_comp.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_comp.save":"@:impac.common.action.save","impac.widget.account_comp.cancel":"@:impac.common.action.cancel","impac.widget.account_comp.account.select":"Select the accounts you wish to compare.","impac.widget.account_comp.account.not_found":"No comparable accounts found.","impac.widget.account_comp.account.add":"+ ADD ACCOUNT","impac.widget.account_comp.compare_mode_opt":"Compare matching accounts across your companies","impac.widget.account_cust_calc.title":"Create a custom calculation","impac.widget.account_cust_calc.formula.save":"@:impac.common.action.save","impac.widget.account_cust_calc.formula.cancel":"@:impac.common.action.cancel","impac.widget.account_cust_calc.formula.title":"Custom Calculation","impac.widget.account_cust_calc.formula.legend":"Legend: {legend}","impac.widget.account_cust_calc.formula.result":"Result: {result}","impac.widget.account_cust_calc.formula.type_here":"Type your formula just below:","impac.widget.account_cust_calc.formula.data_retrieved":"Your data is being retrieved...","impac.widget.account_cust_calc.formula.explanations":"Make a custom equation with your accounts, and save it as a widget. To create an equation, simply select your accounts in the list, and use the classical operators (example: {example}","impac.widget.account_det_class.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_det_class.save":"@:impac.common.action.save","impac.widget.account_det_class.cancel":"@:impac.common.action.cancel","impac.widget.account_det_class.acc_classifications":"{name} - Accounts classifications","impac.widget.account_det_class.account_classifications":"Account Classifications","impac.widget.account_det_class.amounts":"Amounts","impac.widget.account_expense_weight.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_expense_weight.save":"@:impac.common.action.save","impac.widget.account_expense_weight.cancel":"@:impac.common.action.cancel","impac.widget.account_expense_weight.comparator.turnover":"turnover","impac.widget.account_expense_weight.comparator.total_exp":"total expenses","impac.widget.accounts_profit_and_loss.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounts_profit_and_loss.save":"@:impac.common.action.save","impac.widget.accounts_profit_and_loss.cancel":"@:impac.common.action.cancel","impac.widget.accounts_profit_and_loss.accounts":"Accounts","impac.widget.accounts_profit_and_loss.prof_loss":"Profit/Loss","impac.widget.accounts_profit_and_loss.prof_and_loss":"Profit and Loss","impac.widget.accounts_profit_and_loss.no_elements_selected":"Select one or several account(s) or account(s) type(s) to display the corresponding PnL.","impac.widget.accounts_profit_and_loss.last_period":"Last period","impac.widget.accounts_profit_and_loss.total_for_period":"Total for period","impac.widget.accounts_payable_receivable.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounts_payable_receivable.save":"@:impac.common.action.save","impac.widget.accounts_payable_receivable.cancel":"@:impac.common.action.cancel","impac.widget.accounts_payable_receivable.receivables.title":"Accounts Receivable","impac.widget.accounts_payable_receivable.payables.title":"Accounts Payable","impac.widget.accounts_payable_receivable.payable":"Payable","impac.widget.accounts_payable_receivable.receivable":"Receivable","impac.widget.hr_employee_details.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_employee_details.save":"@:impac.common.action.save","impac.widget.hr_employee_details.cancel":"@:impac.common.action.cancel","impac.widget.hr_employee_details.label.job_title":"@:impac.common.label.job_title","impac.widget.hr_employee_details.label.company":"@:impac.common.label.company","impac.widget.hr_employee_details.label.phone":"@:impac.common.label.phone","impac.widget.hr_employee_details.label.email":"@:impac.common.label.email","impac.widget.hr_employee_details.label.date_of_birth":"@:impac.common.label.date_of_birth","impac.widget.hr_employee_details.label.gender":"@:impac.common.label.gender","impac.widget.hr_employee_details.label.salary":"@:impac.common.label.salary","impac.widget.hr_employee_details.label.address":"@:impac.common.label.address","impac.widget.hr_employee_details.label.job_location":"@:impac.common.label.job_location","impac.widget.hr_employee_details.label.supervisor":"@:impac.common.label.supervisor","impac.widget.hr_employee_details.label.status":"@:impac.common.label.status","impac.widget.hr_employee_details.label.note":"@:impac.common.label.note","impac.widget.hr_employee_details.legend":"Salary calculation period:","impac.widget.hr_employees_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_employees_list.save":"@:impac.common.action.save","impac.widget.hr_employees_list.cancel":"@:impac.common.action.cancel","impac.widget.hr_employees_list.label.company":"@:impac.common.label.company","impac.widget.hr_employees_list.label.employee":"@:impac.common.label.employee","impac.widget.hr_employees_list.label.title":"@:impac.common.label.title","impac.widget.hr_employees_list.label.phone":"@:impac.common.label.phone","impac.widget.hr_employees_list.label.salary":"@:impac.common.label.salary","impac.widget.hr_employees_list.legend.average":" - Average salary rate","impac.widget.hr_employees_list.legend.employee":"{num_employee, plural, =1{employee} other{employees}}","impac.widget.hr_leaves_balance.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_leaves_balance.save":"@:impac.common.action.save","impac.widget.hr_leaves_balance.cancel":"@:impac.common.action.cancel","impac.widget.hr_leaves_balance.vacation_leaves":"Vacation leaves","impac.widget.hr_leaves_balance.sick_leaves":"Sick leaves","impac.widget.hr_leaves_balance.balance":"balance","impac.widget.hr_leaves_schedule.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_leaves_schedule.save":"@:impac.common.action.save","impac.widget.hr_leaves_schedule.cancel":"@:impac.common.action.cancel","impac.widget.hr_payroll_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_payroll_summary.save":"@:impac.common.action.save","impac.widget.hr_payroll_summary.cancel":"@:impac.common.action.cancel","impac.widget.hr_payroll_summary.payroll_summary":"Payroll Summary","impac.widget.hr_payroll_summary.from":"@:impac.common.text.from","impac.widget.hr_payroll_summary.to":"@:impac.common.text.to","impac.widget.hr_payroll_summary.no_elements":"Select one or several employee(s) or category(ies) to display the corresponding summary.","impac.widget.hr_payroll_summary.total_leaves":"Total Leaves Accruals","impac.widget.hr_payroll_summary.total_superannuation":"Total Superannuation Accruals","impac.widget.hr_payroll_summary.total_reimbursements":"Total Reimbursements","impac.widget.hr_payroll_summary.total_taxes":"Total Taxes","impac.widget.hr_payroll_summary.total_time_off":"Total Time Off","impac.widget.hr_payroll_summary.total":"Total","impac.widget.hr_payroll_taxes.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_payroll_taxes.save":"@:impac.common.action.save","impac.widget.hr_payroll_taxes.cancel":"@:impac.common.action.cancel","impac.widget.hr_payroll_taxes.legend":"Taxes upon workforce costs","impac.widget.hr_payroll_taxes.payroll_taxes":"Payroll Taxes","impac.widget.hr_salaries_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_salaries_summary.save":"@:impac.common.action.save","impac.widget.hr_salaries_summary.cancel":"@:impac.common.action.cancel","impac.widget.hr_salaries_summary.average_rate":"Average Salary Rate","impac.widget.hr_salaries_summary.legend.employee":"{num_employee, plural, =1{employee} other{employees}}","impac.widget.hr_salaries_summary.legend.with":"with known salary","impac.widget.hr_salaries_summary.filter":"Filter:","impac.widget.hr_superannuation_accruals.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_superannuation_accruals.save":"@:impac.common.action.save","impac.widget.hr_superannuation_accruals.cancel":"@:impac.common.action.cancel","impac.widget.hr_superannuation_accruals.superannuation_balance":"Superannuation Balance","impac.widget.hr_timesheets.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_timesheets.save":"@:impac.common.action.save","impac.widget.hr_timesheets.cancel":"@:impac.common.action.cancel","impac.widget.hr_timesheets.total_worked":"Total Time Worked","impac.widget.hr_timesheets.total_off":"Total Time Off","impac.widget.hr_timesheets.activities_not_found":"Activities detail not found","impac.widget.hr_timesheets.from":"@:impac.common.text.from","impac.widget.hr_timesheets.to":"@:impac.common.text.to","impac.widget.hr_workforce_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_workforce_summary.save":"@:impac.common.action.save","impac.widget.hr_workforce_summary.cancel":"@:impac.common.action.cancel","impac.widget.hr_workforce_summary.total_workforce":"Total Workforce","impac.widget.hr_workforce_summary.legend.employee":"{num_employee, plural, =1{employee} other{employees}}","impac.widget.hr_workforce_summary.legend.with":"with known salary","impac.widget.hr_workforce_summary.filter":"@:impac.widget.hr_salaries_summary.filter","impac.widget.invoices_receivables.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.invoices_receivables.save":"@:impac.common.action.save","impac.widget.invoices_receivables.cancel":"@:impac.common.action.cancel","impac.widget.invoices_receivables.payables_and_receivables":"Payables & Receivables","impac.widget.invoices_receivables.total":"@:impac.widget.hr_payroll_summary.total","impac.widget.invoices_receivables.oldest":"Oldest","impac.widget.invoices_receivables.aged_payables":"Aged Payables","impac.widget.invoices_receivables.aged_receivables":"Aged Receivables","impac.widget.invoices_receivables.aged_payables_and_receivables":"Aged Payables and Receivables","impac.widget.invoices_receivables.your_opening_balance":"* Your opening-balance of receivables and/or payables for this period.","impac.widget.invoices_receivables.select_accounts":"Select one or several account(s) or category(ies) to display the payables/receivables evolution(s).","impac.widget.invoices_receivables.tooltip.oldest_invoice":"Oldest invoice:","impac.widget.invoices_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.invoices_list.save":"@:impac.common.action.save","impac.widget.invoices_list.cancel":"@:impac.common.action.cancel","impac.widget.invoices_list.paid":"Paid","impac.widget.invoices_list.due":"Due","impac.widget.invoices_list.invoiced":"Invoiced","impac.widget.invoices_list.no_invoice":"No {orderBy}invoice found for your {entityType}","impac.widget.invoices_list.total_paid":"- Total paid","impac.widget.invoices_list.total_due":"- Total due","impac.widget.invoices_list.total_invoiced":"- Total invoiced","impac.widget.invoices_list.limit_entries_label.creditors":"creditors","impac.widget.invoices_list.limit_entries_label.debtors":"debtors","impac.widget.invoices_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.invoices_summary.save":"@:impac.common.action.save","impac.widget.invoices_summary.cancel":"@:impac.common.action.cancel","impac.widget.sales_aged.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_aged.save":"@:impac.common.action.save","impac.widget.sales_aged.cancel":"@:impac.common.action.cancel","impac.widget.sales_aged.from":"@:impac.common.text.from","impac.widget.sales_aged.to":"@:impac.common.text.to","impac.widget.sales_aged.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_aged.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_aged.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_break_even.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_break_even.save":"@:impac.common.action.save","impac.widget.sales_break_even.cancel":"@:impac.common.action.cancel","impac.widget.sales_break_even.from":"@:impac.common.text.from","impac.widget.sales_break_even.to":"@:impac.common.text.to","impac.widget.sales_break_even.title.sales":"Sales to Date","impac.widget.sales_break_even.title.projection":"Projection to Break-Even","impac.widget.sales_break_even.target":"Target","impac.widget.sales_break_even.your_sales":"Your sales already exceed your target by:","impac.widget.sales_break_even.projected_date":"Projected date:","impac.widget.sales_break_even.opportunities_to_close":"Opportunities to close:","impac.widget.sales_break_even.eligible_opportunities":"eligible opportunities","impac.widget.sales_break_even.click_to_define":"Click to define your sales target","impac.widget.sales_comparison.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_comparison.save":"@:impac.common.action.save","impac.widget.sales_comparison.cancel":"@:impac.common.action.cancel","impac.widget.sales_comparison.legend.compare_by":"Compare by:","impac.widget.sales_comparison.legend.see":"See:","impac.widget.sales_comparison.total_sales_from":"Total sales from","impac.widget.sales_comparison.to":"@:impac.common.text.to","impac.widget.sales_comparison.total":"@:impac.widget.hr_payroll_summary.total","impac.widget.sales_comparison.select_sales_category":"Select one or several sales category(ies) to display the corresponding comparison.","impac.widget.sales_comparison.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_comparison.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_comparison.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_comparison.criteria_options.products":"products","impac.widget.sales_comparison.criteria_options.locations":"locations","impac.widget.sales_comparison.criteria_options.industries":"industries","impac.widget.sales_comparison.criteria_options.customers":"customers","impac.widget.sales_customer_details.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_customer_details.save":"@:impac.common.action.save","impac.widget.sales_customer_details.cancel":"@:impac.common.action.cancel","impac.widget.sales_customer_details.label.email":"@:impac.common.label.email","impac.widget.sales_customer_details.label.phone":"@:impac.common.label.phone","impac.widget.sales_customer_details.label.website":"@:impac.common.label.website","impac.widget.sales_customer_details.label.contact":"@:impac.common.label.contact","impac.widget.sales_customer_details.label.city":"@:impac.common.label.city","impac.widget.sales_customer_details.label.country":"@:impac.common.label.country","impac.widget.sales_customer_details.label.address":"@:impac.common.label.address","impac.widget.sales_customer_details.label.total_invoiced":"@:impac.common.label.total_invoiced","impac.widget.sales_customer_details.label.total_paid":"@:impac.common.label.total_paid","impac.widget.sales_customer_details.label.total_due":"@:impac.common.label.total_due","impac.widget.sales_customer_details.from":"@:impac.common.text.from","impac.widget.sales_customer_details.to":"@:impac.common.text.to","impac.widget.sales_cycle.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_cycle.save":"@:impac.common.action.save","impac.widget.sales_cycle.cancel":"@:impac.common.action.cancel","impac.widget.sales_cycle.your_sales_cycle":"Your sales cycle represents how much time your leads stay set to each status","impac.widget.sales_forecast.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_forecast.save":"@:impac.common.action.save","impac.widget.sales_forecast.cancel":"@:impac.common.action.cancel","impac.widget.sales_forecast.projection_on":"Projection on the next 6 months","impac.widget.sales_forecast.sales_performance":"Sales Performance","impac.widget.sales_growth.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_growth.save":"@:impac.common.action.save","impac.widget.sales_growth.cancel":"@:impac.common.action.cancel","impac.widget.sales_growth.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_growth.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_growth.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_growth.value_purchased_taxes":"@:impac.common.value_purchased_taxes","impac.widget.sales_growth.value_purchased_no_taxes":"@:impac.common.value_purchased_no_taxes","impac.widget.sales_growth.quantity_purchased":"@:impac.common.quantity_purchased","impac.widget.sales_growth.select_product":"SELECT PRODUCT","impac.widget.sales_growth.tooltip.total_for_period":"total for last period","impac.widget.sales_leads_funnel.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_leads_funnel.save":"@:impac.common.action.save","impac.widget.sales_leads_funnel.cancel":"@:impac.common.action.cancel","impac.widget.sales_leads_funnel.legend.your_leads":"Your leads sales funnel from","impac.widget.sales_leads_funnel.legend.to":"@:impac.common.text.to","impac.widget.sales_leads_funnel.select_a_status":"Select a status to display a list of the corresponding leads","impac.widget.sales_leads_funnel.status":"Status:","impac.widget.sales_leads_funnel.organization":"Organization:","impac.widget.sales_leads_funnel.opportunities":"Opportunities:","impac.widget.sales_leads_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_leads_list.save":"@:impac.common.action.save","impac.widget.sales_leads_list.cancel":"@:impac.common.action.cancel","impac.widget.sales_leads_list.status":"@:impac.widget.sales_leads_funnel.status","impac.widget.sales_leads_list.organization":"@:impac.widget.sales_leads_funnel.organization","impac.widget.sales_leads_list.opportunities":"@:impac.widget.sales_leads_funnel.opportunities","impac.widget.sales_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_list.save":"@:impac.common.action.save","impac.widget.sales_list.cancel":"@:impac.common.action.cancel","impac.widget.sales_list.products":"Products","impac.widget.sales_list.total":"@:impac.widget.hr_payroll_summary.total","impac.widget.sales_list.no_data_found":"No data found for this time range<br/> Please select another one","impac.widget.sales_list.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_list.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_list.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_list.value_purchased_taxes":"@:impac.common.value_purchased_taxes","impac.widget.sales_list.value_purchased_no_taxes":"@:impac.common.value_purchased_no_taxes","impac.widget.sales_list.quantity_purchased":"@:impac.common.quantity_purchased","impac.widget.sales_list.from":"@:impac.common.text.from","impac.widget.sales_list.to":"@:impac.common.text.to","impac.widget.sales_margin.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_margin.save":"@:impac.common.action.save","impac.widget.sales_margin.cancel":"@:impac.common.action.cancel","impac.widget.sales_margin.total_sold_and_purchased":"Total sold - Total purchased","impac.widget.sales_margin.including_taxes":"Including taxes","impac.widget.sales_margin.excluding_taxes":"Excluding taxes","impac.widget.sales_margin.gross_margin":"Gross margin","impac.widget.sales_net_sales.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_net_sales.save":"@:impac.common.action.save","impac.widget.sales_net_sales.cancel":"@:impac.common.action.cancel","impac.widget.sales_net_sales.title.sales":"Sales","impac.widget.sales_net_sales.title.returns":"Returns","impac.widget.sales_net_sales.title.net_result":"Net Result","impac.widget.sales_net_sales.no_transaction":"No transaction found for this time range<br/> Please select another one","impac.widget.sales_net_sales.total_amount":"Total amount","impac.widget.sales_net_sales.average_amount":"Average amount","impac.widget.sales_net_sales.volume":"Volume","impac.widget.sales_net_sales.tmpl.last_hours":"Last :hours:h","impac.widget.sales_net_sales.tmpl.last_days":"Last :days: days","impac.widget.sales_number_of_leads.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_number_of_leads.save":"@:impac.common.action.save","impac.widget.sales_number_of_leads.cancel":"@:impac.common.action.cancel","impac.widget.sales_number_of_leads.leads_for_this":"Leads for this","impac.widget.sales_number_of_leads.leads_in_total":"leads in total","impac.widget.sales_funnel.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_funnel.save":"@:impac.common.action.save","impac.widget.sales_funnel.cancel":"@:impac.common.action.cancel","impac.widget.sales_funnel.legend":"Your opportunities, sorted by sales stage","impac.widget.sales_funnel.select_a_sales":"Select a sales stage to display a list of the corresponding opportunities","impac.widget.sales_funnel.assignees_opportunities":"Assignees / Opportunities","impac.widget.sales_funnel.assignees_opportunities":"Potential per assignee","impac.widget.sales_performance.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_performance.save":"@:impac.common.action.save","impac.widget.sales_performance.cancel":"@:impac.common.action.cancel","impac.widget.sales_performance.from":"@:impac.common.text.from","impac.widget.sales_performance.to":"@:impac.common.text.to","impac.widget.sales_performance.win_ratio":"Win ratio","impac.widget.sales_performance.total_won":"Total won","impac.widget.sales_performance.select_an_employee":"Select an employee or team to display the corresponding opportunities won/lost.","impac.widget.sales_performance.pick_the_status":"Pick the status that should be considered as 'Closed Won' and 'Closed Lost' in your widget settings.","impac.widget.sales_performance.total_won":"Total won :","impac.widget.sales_performance.forecast":"Forecast","impac.widget.sales_performance.closed_won":"Closed Won","impac.widget.sales_performance.closed_lost":"Closed Lost","impac.widget.sales_performance.description.pick_the_status":"Pick the status that should be considered as 'Closed Won'","impac.widget.sales_performance.description.pick_the_status_lost":"Pick the status that should be considered as 'Closed Lost'","impac.widget.sales_turnover.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_turnover.save":"@:impac.common.action.save","impac.widget.sales_turnover.cancel":"@:impac.common.action.cancel","impac.widget.sales_turnover.filter":"@:impac.widget.hr_salaries_summary.filter","impac.widget.sales_turnover.average_price":"Average price range","impac.widget.sales_turnover.of_your_revenue":"of your revenue comes from products sold at an average price between","impac.widget.sales_turnover.and":"and","impac.widget.sales_turnover.gross_revenue":"Gross revenue (incl. taxes)","impac.widget.sales_turnover.net_revenue":"Net revenue (excl. taxes)","impac.widget.sales_turnover.analysis.less":"Your less expensive products bring you most of your revenue.","impac.widget.sales_turnover.analysis.must":"Your most expensive products bring you most of your revenue.","impac.widget.sales_turnover.analysis.revenue":"Your revenue is balanced between your different products segments.","impac.widget.sales_turnover.tooltip.widget_segment":"This widget segments your revenue by products average price range and propose an analysis of its composition","impac.widget.sales_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_summary.save":"@:impac.common.action.save","impac.widget.sales_summary.cancel":"@:impac.common.action.cancel","impac.widget.sales_summary.no_data_found":"No data found in this time range<br/> Please select another one","impac.widget.sales_summary.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_summary.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_summary.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_summary.value_purchased_taxes":"@:impac.common.value_purchased_taxes","impac.widget.sales_summary.value_purchased_no_taxes":"@:impac.common.value_purchased_no_taxes","impac.widget.sales_summary.quantity_purchased":"@:impac.common.quantity_purchased","impac.widget.sales_summary.to":"@:impac.common.text.to","impac.widget.sales_opportunities.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_opportunities.save":"@:impac.common.action.save","impac.widget.sales_opportunities.cancel":"@:impac.common.action.cancel","impac.widget.sales_opportunities.total_potential":"Total potential:","impac.widget.sales_opportunities.eligible_opportunities":"eligible opportunities","impac.widget.sales_opportunities.proba":"proba","impac.widget.editable_title.tooltip_text":"(click to edit name)","impac.widget.editable_title.incorrect_name":"Incorrect name","impac.dashboard.create.create_new_dashboard":"Create New Dashboard","impac.dashboard.create.name":"Name","impac.dashboard.create.type":"Type","impac.dashboard.create.current_company":"Current Company","impac.dashboard.create.multi_company":"Multi Company","impac.dashboard.create.now_access_text":"Oops! Only Admins and Super Admins can create dashboards for company","impac.dashboard.create.select_multi_company":'Please select a "Multi Company" dashboard to select data from other companies.',"impac.dashboard.create.companies":"Companies","impac.dashboard.create.tooltip.access":"Only Admins and Super Admins can access analytics data for this company","impac.dashboard.create.cancel":"@:impac.common.action.cancel","impac.dashboard.create.add":"Add","impac.dashboard.create.placeholder.cash_accounts":"E.g: Cash Accounts Monitoring","impac.dashboard.change_logo":"Change logo","impac.dashboard.it_looks_like":"It looks like you are using MYOB Essentials...","impac.dashboard.unfortunately_information":"Unfortunately, all the information required by Impac! is not exposed by MYOB Essentials API <strong>yet</strong>. Consequently, most of the accounting widgets provided by Impac! won't find a valid source of data to display their content.","impac.dashboard.myob_message.part_1":"Maybe you should consider switching to","impac.dashboard.myob_message.part_2":"MYOB AccountRight","impac.dashboard.myob_message.part_3":", the other MYOB accounting solution?","impac.dashboard.widget_added":"Widget added!","impac.dashboard.select_the_widgets":"Select the widgets you want to add to your dashboard.","impac.dashboard.all_categories":"All categories","impac.dashboard.accounting":"Accounting","impac.dashboard.invoicing":"Invoicing","impac.dashboard.hr_or_payroll":"HR / Payroll","impac.dashboard.sales":"Sales","impac.dashboard.can_not_find":"Can't find the widget you're looking for?","impac.dashboard.give_us":"Give us your suggestions here!","impac.dashboard.create_a_dashboard":"Create a Dashboard!","impac.dashboard.add_new_widget":"Add a new Widget","impac.dashboard.plus_chart":"+ chart","impac.dashboard.refresh":"Refresh","impac.dashboard.category_name.accounting":"Accounting","impac.dashboard.category_name.invoicing":"Invoicing","impac.dashboard.category_name.hr_or_payroll":"HR / Payroll","impac.dashboard.category_name.sales":"Sales","impac.dashboard.widget_suggestion.suggest_a_widget":"Suggest a widget","impac.dashboard.widget_suggestion.widget_name":"What would you name your widget?","impac.dashboard.widget_suggestion.kind_of_information":"What kind of information would your widget display?","impac.dashboard.widget_suggestion.helping":"thanks a lot for helping us improve Impac!&trade;","impac.dashboard.widget_suggestion.unable_to_send":"Unable to send suggestions request, please try again or contact technical support.","impac.dashboard.widget_suggestion.cancel":"@:impac.common.action.cancel","impac.dashboard.widget_suggestion.send_your_suggestion":"Send your suggestion","impac.widget.accounts_expenses_revenue.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounts_expenses_revenue.save":"@:impac.common.action.save","impac.widget.accounts_expenses_revenue.cancel":"@:impac.common.action.cancel","impac.widget.accounts_expenses_revenue.expenses":"Expenses","impac.widget.accounts_expenses_revenue.revenue":"@:impac.widget.classification_summary.revenue","impac.widget.accounts_expenses_revenue.net_profit":"Net Profit","impac.widget.accounts_expenses_revenue.show_net_profit":"Show net profit","impac.widget.sales_new_vs_existing.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_new_vs_existing.save":"@:impac.common.action.save","impac.widget.sales_new_vs_existing.cancel":"@:impac.common.action.cancel","impac.widget.sales_new_vs_existing.new_customers":"New Customers:","impac.widget.sales_new_vs_existing.existing_customers":"Existing Customers:","impac.widget.sales_new_vs_existing.total":"Total:","impac.widget.sales_new_vs_existing.no_data_found":"No data found for this time range<br/> Please select another one","impac.widget.sales_new_vs_existing.customers":"Customers","impac.widget.sales_new_vs_existing.total_sales":"Total Sales","impac.widget.sales_new_vs_existing.transactions":"Transactions","impac.widget.sales_new_vs_existing.tmpl.last_hours":"Last :hours:h","impac.widget.sales_new_vs_existing.tmpl.last_days":"Last :days: days","impac.widget.sales_top_customers.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_top_customers.save":"@:impac.common.action.save","impac.widget.sales_top_customers.cancel":"@:impac.common.action.cancel","impac.widget.sales_top_customers.no_sales":"No sales data found for your customers","impac.widget.sales_top_customers.customer_name":"Customer name","impac.widget.sales_top_customers.top":"TOP - :number:","impac.widget.sales_top_customers.total_sales":"Total sales","impac.widget.sales_top_customers.transactions":"Transactions","impac.widget.sales_top_customers.avg_sales":"Avg sales","impac.widget.sales_top_customers.last_sale":"Last sale","impac.widget.sales_top_customers.show":"Show","impac.widget.sales_top_customers.hide":"Hide","impac.widget.sales_top_customers.details":"details","impac.widget.info_panel.information":"Information on widget","impac.widget.formula.invalid_expression":"invalid expression","impac.widget.formula.infinity":"Infinity","impac.widget.formula.minus_infinity":"-Infinity","impac.widget.alerts_config.over":"over","impac.widget.alerts_config.below":"below","impac.components.currency.choose_currency":"Choose currency...","impac.components.pdf_mode.print":"Print","impac.components.pdf_mode.cancel":"@:impac.common.action.cancel","impac.components.sync_apps.syncing":"Syncing...","impac.components.sync_apps.show_sync_status":"Show sync status","impac.components.sync_apps.tooltip.sync_data":"Sync data and refresh dashboard","impac.components.sync_apps.status.synced_at":"Synced at","impac.components.sync_apps.status.sync_will_run":"Sync will run in a few minutes.","impac.components.sync_apps.status.syncing_in_progres":"Syncing in progress...","impac.components.sync_apps.status.sync_failed":"Sync failed. Please contact support.","impac.components.sync_apps.status.please_link":"Please link your application.","impac.components.sync_apps.status.could_not_retrieve":"Couldn't retrieve sync status.","impac.components.sync_apps.all":"All","impac.components.sync_apps.applications_are_synced":"applications are synced in real-time.","impac.components.sync_apps.synchronization_status":"Synchronization status","impac.components.sync_apps.ok":"OK"}),e.translations("zh-HK",{hello_world:"你好 你好","workspace.title":"你好! 你好 你好","impac.common.action.cancel":"你好","impac.common.action.save":"你好","impac.common.action.delete":"你好","impac.common.action.calendar.left":"你好","impac.common.action.calendar.center":"你好","impac.common.action.calendar.right":"你好","impac.common.title.widget.settings.title":"你好 你好","impac.common.measure.unit.days":"{QTY, plural, =0{你好} one{你好} other{你好}}","impac.common.measure.unit.percentage":"%","impac.common.term.accounting.asset.one":"你好你","impac.common.term.accounting.asset.many":"你好你","impac.common.term.accounting.liability.one":"好你你","impac.common.term.accounting.liability.many":"好你你","impac.common.period.period_in_words.last_x_days.one":"你好 你好","impac.common.period.period_in_words.last_x_days.other":"你好 {count} 你好","impac.common.period.period_in_words.last_x_weeks.one":"你好 你好","impac.common.period.period_in_words.last_x_weeks.other":"你好 {count} 你好","impac.common.period.period_in_words.last_x_months.one":"你好 你好","impac.common.period.period_in_words.last_x_months.other":"你好 {count} 你好","impac.common.period.period_in_words.last_x_quarters.one":"你好 你好","impac.common.period.period_in_words.last_x_quarters.other":"你好 {count} 你好","impac.common.period.period_in_words.last_x_years.one":"你好 你好","impac.common.period.period_in_words.last_x_years.other":"你好 {count} 你好","impac.common.period.period_in_words.last_x_financial_years.one":"你好 你好 你好","impac.common.period.period_in_words.last_x_financial_years.other":"你好 {count} 你好 你好","impac.common.period.preset_in_words.calendar_year_to_date":"年初至今","impac.common.period.preset_in_words.financial_year_to_date":"财政年至今","impac.common.period.preset_in_words.previous_financial_year":"上一财政年","impac.common.period.preset_in_words.last_6_months":"最近6个月","impac.common.period.preset_in_words.last_4_quarters":"最近4个季度","impac.common.period.preset_in_words.last_4_weeks":"最近4周","impac.common.period.preset_in_words.choose_period":"你好 你好...","impac.common.period.preset_in_words.choose_dates":"你好 你好...","impac.common.label.job_title":"你好 你好","impac.common.label.company":"你好","impac.common.label.phone":"你好","impac.common.label.email":"你好","impac.common.label.date_of_birth":"你好 你好 你好","impac.common.label.gender":"你好","impac.common.label.salary":"你好","impac.common.label.address":"你好","impac.common.label.job_location":"你好 你好","impac.common.label.supervisor":"你好","impac.common.label.status":"你好","impac.common.label.employee":"你好","impac.common.label.title":"你好","impac.common.label.note":"你好","impac.common.label.age_range":"你好 你好","impac.common.label.salary_range":"你好 你好","impac.common.label.website":"你好","impac.common.label.contact":"你好","impac.common.label.city":"你好","impac.common.label.country":"你好","impac.common.label.total_invoiced":"你好 你好","impac.common.label.total_paid":"你好 你好","impac.common.label.total_due":"你好 你好","impac.common.text.from":"你好","impac.common.text.to":"你好","impac.common.value_sold_taxes":"你好 你好 (你好. 你好)","impac.common.value_sold_no_taxes":"你好 你好 (你好. 你好)","impac.common.quantity_sold":"你好 你好","impac.common.value_purchased_taxes":"你好 你好 (你好. 你好)","impac.common.value_purchased_no_taxes":"你好 你好 (你好. 你好)","impac.common.quantity_purchased":"你好 你好","impac.common.reduce":"你好","impac.common.expand":"你好","impac.data_not_found_config.main_message":"你好 你好 你好","impac.data_not_found_config.link_message":"你好 你好 你好 你好 你好?","impac.data_not_found_config.find_why":"你好 你好 你好","impac.widget.settings.hist.history":"你好","impac.widget.settings.time_period.title":"你好 你好 你好","impac.widget.settings.time_period.time_range":"你好 你好:","impac.widget.settings.time_period.chart_interval":"你好 你好:","impac.widget.settings.time_period.chart_note":"你好: 你好 你好 你好 你好 {nbOfPeriods} 你好:","impac.widget.settings.time_period.period.hourly":"你好","impac.widget.settings.time_period.period.daily":"你好","impac.widget.settings.time_period.period.weekly":"你好","impac.widget.settings.time_period.period.monthly":"你好","impac.widget.settings.time_period.period.quarterly":"你好","impac.widget.settings.time_period.period.yearly":"你好","impac.widget.settings.time_period.yearly_financial":"你好 (你好)","impac.widget.settings.time_period.period.days":"你好","impac.widget.settings.time_period.period.weeks":"你好","impac.widget.settings.time_period.period.months":"你好","impac.widget.settings.time_period.period.quarters":"你好","impac.widget.settings.time_period.period.years":"你好","impac.widget.settings.time_period.period.year":"你好","impac.widget.settings.time_period.period.quarter":"你好","impac.widget.settings.time_period.period.month":"你好","impac.widget.settings.time_period.period.week":"你好","impac.widget.settings.time_period.period.day":"你好","impac.widget.settings.dates_picker.title":"你好 你好","impac.widget.settings.dates_picker.from":"你好","impac.widget.settings.dates_picker.to":"你好","impac.widget.settings.dates_picker.tooltip.apply_changes":"你好 你好","impac.widget.settings.time_slider.show_last":"你好 {formatPeriod}","impac.widget.settings.organizations.select_companies":"你好 你好","impac.widget.settings.chart_filters.title":"你好 你好 你好 你好","impac.widget.settings.chart_filters.filter_number":"你好 你好 {number} {entityType}","impac.widget.settings.chart_filters.filter_percentage":"你好 你好 {percentage}% {entityType}","impac.widget.settings.account.label":"你好 你好 你好","impac.widget.settings.account.label.accounting_behaviour":"你好 你好","impac.widget.settings.accounting_behaviour.balance_sheet":"你好 你好","impac.widget.settings.accounting_behaviour.p_and_l":"你好 & 你好","impac.widget.settings.attach_kpis.attach_an_alert":"你好 你好 你好","impac.widget.settings.attach_kpis.keep_the":"你好 你好","impac.widget.settings.attach_kpis.of":"你好","impac.widget.settings.attach_kpis.kpi_target_require":"你好 你好 你好 你好","impac.widget.settings.attach_kpis.kpi_target_number":"你好 你好 你好 你好 你好 你好","impac.widget.settings.attach_kpis.attached_alerts":"你好 你好","impac.widget.settings.attach_kpis.keep":"你好","impac.widget.settings.attach_kpis.over":"你好","impac.widget.settings.attach_kpis.below":"你好","impac.widget.settings.width.reduce":"@:impac.common.reduce","impac.widget.settings.width.expand":"@:impac.common.expand","impac.widget.settings.params-picker.description":"你好 你好 你好 你好 你好 你好 你好 你好 你好 (你好/你好 你好 你好):","impac.widget.settings.params-picker.apply_to_all":"你好 你好 你好 你好 你好","impac.widget.settings.params-picker.status_selection":"你好 你好","impac.widget.settings.limit_entries.top":"你好","impac.widget.settings.limit_entries.display":"你好","impac.widget.settings.limit_entries.entries":"你好","impac.dashboard_selector.delete_widget.description":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好?","impac.dashboard_selector.bootstrap_tabs.add_widget":"你好 你好","impac.dashboard_selector.bootstrap_tabs.source":"你好:","impac.dashboard_selector.delete.delete_dashboard":"你好 你好","impac.dashboard_selector.delete.delete":"你好","impac.dashboard_selector.delete.cancel":"@:impac.common.action.cancel","impac.dashboard_selector.dropdown.source":"你好:","impac.dashboard_selector.dropdown.tooltip.change_name":"你好 你好","impac.dashboard_selector.dropdown.create_dashboard":"你好 你好","impac.dashboard_selector.dropdown.change_dashboard_name":"你好 你好 你好:","impac.dashboard_selector.dropdown.cancel":"@:impac.common.action.cancel","impac.dashboard_selector.dropdown.confirm":"你好","impac.dashboard_selector.dropdown.add_widget":"@:impac.dashboard_selector.bootstrap_tabs.add_widget","impac.dashboard_selector.dropdown.tooltip":"你好 你好","impac.widget.common.top_buttons.delete.title":"你好 你好 你好 你好 你好 你好 你好 你好?","impac.widget.common.top_buttons.delete.explanation":"(你好 你好 你好 你好 你好)","impac.widget.common.top_buttons.delete.cancel":"@:impac.common.action.cancel","impac.widget.common.top_buttons.delete.delete":"@:impac.common.action.delete","impac.widget.common.top_buttons.info_popup.delete":"你好 你好 你好 你好","impac.widget.common.top_buttons.info_popup.edit":"你好 你好 你好 你好","impac.widget.common.top_buttons.info_popup.refresh":"你好 你好 你好 你好","impac.widget.common.top_buttons.info_popup.info":"你好 你好 你好 你好","impac.widget.common.time_period_info.to":"你好 你好 {dateTo}","impac.widget.common.time_period_info.from_to":"你好 {dateFrom} 你好 {dateTo}","impac.widget.common.error_config.first_time_created.first":"你好's 你好 你好 你好 你好 你好 你好!","impac.widget.common.error_config.first_time_created.second":"你好 2 你好, 你好'll 你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.widget.common.error_config.first_time_created.note":"你好: 你好 你好 你好 你好 你好 你好 你好 你好 你好. 你好 你好 你好 你好 你好 你好 你好 你好.","impac.widget.common.error_config.empty.first":"你好 你好's 你好 你好 你好 你好 你好 你好 你好 你好 你好!","impac.widget.common.error_config.empty.second":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好!™ 你好 你好 你好.","impac.widget.common.error_config.failed.first":"你好! 你好 你好 你好, 你好 你好 你好 你好 你好 你好?","impac.widget.common.error_config.failed.second":"你好 你好 你好 你好 你好, 你好 你好 你好 你好 你好 你好 你好.","impac.widget.common.sub_menu_config.check_this_app":">> 你好 你好 你好 你好 你好 你好","impac.widget.theming.hist.default":"你好","impac.widget.theming.hist.default.live":"@:impac.widget.theming.hist.default","impac.widget.theming.hist.bls":"你好","impac.widget.theming.hist.bls.live":"你好 你好","impac.widget.theming.hist.pnl":"你好 你好","impac.widget.theming.hist.pnl.live":"@:impac.widget.theming.hist.pnl","impac.widget.include_pdf":"你好 你好 你好 你好 你好","impac.widget.loader":"你好 你好 你好 你好 你好...","impac.widget.type.revenue_asset":"你好 / 你好","impac.widget.currency.ratio":"你好","impac.widget.classification_summary.liability":"你好","impac.widget.classification_summary.revenue":"你好","impac.widget.classification_summary.expense":"你好","impac.widget.classification_summary.asset":"你好","impac.widget.classification_summary.equity":"你好","impac.kpi.alerts.title":"你好 你好","impac.kpi.alerts.explanation":"你好 你好 你好 <strong>{name} ({element_watched})</strong> 你好","impac.kpi.alerts.service.inapp":"你好 你好-你好 你好","impac.kpi.alerts.service.email":"你好 你好 你好 你好 你好 {EMAIL, select, hasEmail{ 你好 {email}} other{}}","impac.kpi.alerts.target":"{TARGET, select, below{你好} over{你好} other{}} {value} {unit}","impac.kpi.alerts.cancel":"@:impac.common.action.cancel","impac.kpi.alerts.save":"@:impac.common.action.save","impac.kpi.current":"你好","impac.kpi.kpi_target_require":"@:impac.widget.settings.attach_kpis.kpi_target_require","impac.kpi.kpi_target_number":"@:impac.widget.settings.attach_kpis.kpi_target_number","impac.kpi.over":"@:impac.widget.settings.attach_kpis.over","impac.kpi.below":"@:impac.widget.settings.attach_kpis.below","impac.kpi.extra_param_label.verb":"你好","impac.kpi_bar.you_can_now":"你好 你好 你好 你好 你好 你好 你好 你好","impac.kpi_bar.no_kpis":"你好 你好 你好 你好 你好 你好 你好","impac.kpi_bar.add_to_dashboard":"你好 你好 你好","impac.kpi_bar.new":"你好!","impac.widget.accounting_values.turnover.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounting_values.turnover.save":"@:impac.common.action.save","impac.widget.accounting_values.turnover.cancel":"@:impac.common.action.cancel","impac.widget.accounting_values.turnover.type":"你好 你好","impac.widget.accounting_values.turnover.legend":"你好 / 你好","impac.widget.accounting_values.turnover.currency":"(你好)","impac.widget.acc_ass_liab_smry.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.acc_ass_liab_smry.save":"@:impac.common.action.save","impac.widget.acc_ass_liab_smry.cancel":"@:impac.common.action.cancel","impac.widget.acc_ass_liab_smry.asset.one":"你好","impac.widget.acc_ass_liab_smry.asset.many":"你好你","impac.widget.acc_ass_liab_smry.liability.one":"你好","impac.widget.acc_ass_liab_smry.liability.many":"你好你","impac.widget.acc_ass_liab_smry.accounts.asset":"你好 你好","impac.widget.acc_ass_liab_smry.accounts.liability":"你好 你好","impac.widget.acc_ass_smry.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.acc_ass_smry.save":"@:impac.common.action.save","impac.widget.acc_ass_smry.cancel":"@:impac.common.action.cancel","impac.widget.acc_ass_smry.asset.many":"@:impac.common.term.accounting.asset.many","impac.widget.acc_ass_smry.liability.many":"@:impac.common.term.accounting.liability.many","impac.widget.acc_ass_vs_liab.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.acc_ass_vs_liab.save":"@:impac.common.action.save","impac.widget.acc_ass_vs_liab.cancel":"@:impac.common.action.cancel","impac.widget.acc_ass_vs_liab.asset.one":"@:impac.common.term.accounting.asset.one","impac.widget.acc_ass_vs_liab.asset.many":"@:impac.common.term.accounting.asset.many","impac.widget.acc_ass_vs_liab.liability.many":"@:impac.common.term.accounting.liability.many","impac.widget.acc_ass_vs_liab.liability.one":"@:impac.common.term.accounting.liability.one","impac.widget.account_balance.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_balance.save":"@:impac.common.action.save","impac.widget.account_balance.cancel":"@:impac.common.action.cancel","impac.widget.account_balance_sheets.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_balance_sheets.save":"@:impac.common.action.save","impac.widget.account_balance_sheets.cancel":"@:impac.common.action.cancel","impac.widget.account_balance_sheets.not_found":"你好 你好 你好 你好 你好 你好 你好 {fromDate} 你好 {toDate} <br/> 你好 你好 你好 你好","impac.widget.account_balance_sheets.compare_balances":"你好 你好 你好 你好:","impac.widget.account_balance_sheets.asset":"你好","impac.widget.account_balance_sheets.liability":"好你好","impac.widget.account_balance_sheets.equity":"你好好","impac.widget.account_balance_sheets.accounts":"你好","impac.widget.account_balance_sheets.balance":"你好","impac.widget.account_cash_smry.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_cash_smry.save":"@:impac.common.action.save","impac.widget.account_cash_smry.cancel":"@:impac.common.action.cancel","impac.widget.account_cash_smry.cash_flow":"你好 你好","impac.widget.account_cash_smry.cash_flow.daily":"你好 你好 你你好","impac.widget.account_cash_smry.cash_flow.weekly":"你好 你你好 你好","impac.widget.account_cash_smry.cash_flow.monthly":"你好 你好 你好","impac.widget.account_cash_smry.cash_flow.quarterly":"你你好 你好 你好","impac.widget.account_cash_smry.cash_flow.yearly":"你好 你你好 你好","impac.widget.account_cash_smry.select.description":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.widget.account_cash_smry.vs":"你好 ","impac.widget.account_cash_smry.summary.total_operating":"你好 你好","impac.widget.account_cash_smry.summary.total_non_operating":"你好 你好 你好","impac.widget.account_cash_smry.summary.gst_movements":"你好 你好","impac.widget.account_cash_smry.summary.net_cash_flow":"你好 你好 你好","impac.widget.account_class_comp.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_class_comp.save":"@:impac.common.action.save","impac.widget.account_class_comp.cancel":"@:impac.common.action.cancel","impac.widget.account_class_comp.klass.liability":"你好","impac.widget.account_class_comp.klass.asset":"你好","impac.widget.account_class_comp.klass.expense":"你好","impac.widget.account_class_comp.klass.revenue":"你好","impac.widget.account_class_comp.klass.equity":"你好","impac.widget.account_comp.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_comp.save":"@:impac.common.action.save","impac.widget.account_comp.cancel":"@:impac.common.action.cancel","impac.widget.account_comp.account.select":"你好 你好 你好 你好 你好 你好 你好.","impac.widget.account_comp.account.not_found":"你好 你好 你好 你好.","impac.widget.account_comp.account.add":"+ 你好 你好","impac.widget.account_comp.compare_mode_opt":"你好 你好 你好 你好 你好 你好","impac.widget.account_cust_calc.title":"你好 你好 你好 你好","impac.widget.account_cust_calc.formula.save":"@:impac.common.action.save","impac.widget.account_cust_calc.formula.cancel":"@:impac.common.action.cancel","impac.widget.account_cust_calc.formula.title":"你好 你好","impac.widget.account_cust_calc.formula.legend":"你好: {legend}","impac.widget.account_cust_calc.formula.result":"你好: {result}","impac.widget.account_cust_calc.formula.type_here":"你好 你好 你好 你好 你好:","impac.widget.account_cust_calc.formula.data_retrieved":"你好 你好 你好 你好 你好...","impac.widget.account_cust_calc.formula.explanations":"你好 你好 你好 你好 你好 你好 你好, 你好 你好 你好 你好 你好 你好. 你好 你好 你好 你好, 你好 你好 你好 你好 你好 你好 你好, 你好 你好 你好 你好 你好 (你好: {example}","impac.widget.account_det_class.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_det_class.save":"@:impac.common.action.save","impac.widget.account_det_class.cancel":"@:impac.common.action.cancel","impac.widget.account_det_class.acc_classifications":"{name} - 你好 你好","impac.widget.account_det_class.account_classifications":"你好 你好","impac.widget.account_det_class.amounts":"你好","impac.widget.account_expense_weight.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.account_expense_weight.save":"@:impac.common.action.save","impac.widget.account_expense_weight.cancel":"@:impac.common.action.cancel","impac.widget.account_expense_weight.comparator.turnover":"你好","impac.widget.account_expense_weight.comparator.total_exp":"你好 你好","impac.widget.accounts_profit_and_loss.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounts_profit_and_loss.save":"@:impac.common.action.save","impac.widget.accounts_profit_and_loss.cancel":"@:impac.common.action.cancel","impac.widget.accounts_profit_and_loss.accounts":"你好","impac.widget.accounts_profit_and_loss.prof_loss":"你好/你好","impac.widget.accounts_profit_and_loss.prof_and_loss":"你好 你好 你好","impac.widget.accounts_profit_and_loss.no_elements_selected":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.widget.accounts_profit_and_loss.last_period":"你好 你好","impac.widget.accounts_profit_and_loss.total_for_period":"你好 你好 你好","impac.widget.accounts_payable_receivable.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounts_payable_receivable.save":"@:impac.common.action.save","impac.widget.accounts_payable_receivable.cancel":"@:impac.common.action.cancel","impac.widget.accounts_payable_receivable.receivables.title":"你好 你好","impac.widget.accounts_payable_receivable.payables.title":"你好 你好","impac.widget.accounts_payable_receivable.payable":"你好","impac.widget.accounts_payable_receivable.receivable":"你好","impac.widget.hr_employee_details.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_employee_details.save":"@:impac.common.action.save","impac.widget.hr_employee_details.cancel":"@:impac.common.action.cancel","impac.widget.hr_employee_details.label.job_title":"@:impac.common.label.job_title","impac.widget.hr_employee_details.label.company":"@:impac.common.label.company","impac.widget.hr_employee_details.label.phone":"@:impac.common.label.phone","impac.widget.hr_employee_details.label.email":"@:impac.common.label.email","impac.widget.hr_employee_details.label.date_of_birth":"@:impac.common.label.date_of_birth","impac.widget.hr_employee_details.label.gender":"@:impac.common.label.gender","impac.widget.hr_employee_details.label.salary":"@:impac.common.label.salary","impac.widget.hr_employee_details.label.address":"@:impac.common.label.address","impac.widget.hr_employee_details.label.job_location":"@:impac.common.label.job_location","impac.widget.hr_employee_details.label.supervisor":"@:impac.common.label.supervisor","impac.widget.hr_employee_details.label.status":"@:impac.common.label.status","impac.widget.hr_employee_details.label.note":"@:impac.common.label.note","impac.widget.hr_employee_details.legend":"你好 你好 你好:","impac.widget.hr_employees_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_employees_list.save":"@:impac.common.action.save","impac.widget.hr_employees_list.cancel":"@:impac.common.action.cancel","impac.widget.hr_employees_list.label.company":"@:impac.common.label.company","impac.widget.hr_employees_list.label.employee":"@:impac.common.label.employee","impac.widget.hr_employees_list.label.title":"@:impac.common.label.title","impac.widget.hr_employees_list.label.phone":"@:impac.common.label.phone","impac.widget.hr_employees_list.label.salary":"@:impac.common.label.salary","impac.widget.hr_employees_list.legend.average":" - 你好 你好 你好","impac.widget.hr_employees_list.legend.employee":"{num_employee, plural, =1{你好} other{你好s}}","impac.widget.hr_leaves_balance.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_leaves_balance.save":"@:impac.common.action.save","impac.widget.hr_leaves_balance.cancel":"@:impac.common.action.cancel","impac.widget.hr_leaves_balance.vacation_leaves":"你好 你好","impac.widget.hr_leaves_balance.sick_leaves":"你好 你好","impac.widget.hr_leaves_balance.balance":"你好","impac.widget.hr_leaves_schedule.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_leaves_schedule.save":"@:impac.common.action.save","impac.widget.hr_leaves_schedule.cancel":"@:impac.common.action.cancel","impac.widget.hr_payroll_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_payroll_summary.save":"@:impac.common.action.save","impac.widget.hr_payroll_summary.cancel":"@:impac.common.action.cancel","impac.widget.hr_payroll_summary.payroll_summary":"你好 你好","impac.widget.hr_payroll_summary.from":"@:impac.common.text.from","impac.widget.hr_payroll_summary.to":"@:impac.common.text.to","impac.widget.hr_payroll_summary.no_elements":"你好 你好 你好 你好 你好(s) 你好 你好(ies) 你好 你好 你好 你好 你好.","impac.widget.hr_payroll_summary.total_leaves":"你好 你好 你好","impac.widget.hr_payroll_summary.total_superannuation":"你好 你好 你好","impac.widget.hr_payroll_summary.total_reimbursements":"你好 你好","impac.widget.hr_payroll_summary.total_taxes":"你好 你好","impac.widget.hr_payroll_summary.total_time_off":"你好 你好 你好","impac.widget.hr_payroll_summary.total":"你好","impac.widget.hr_payroll_taxes.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_payroll_taxes.save":"@:impac.common.action.save","impac.widget.hr_payroll_taxes.cancel":"@:impac.common.action.cancel","impac.widget.hr_payroll_taxes.legend":"你好 你好 你好 你好","impac.widget.hr_payroll_taxes.payroll_taxes":"你好 你好","impac.widget.hr_salaries_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_salaries_summary.save":"@:impac.common.action.save","impac.widget.hr_salaries_summary.cancel":"@:impac.common.action.cancel","impac.widget.hr_salaries_summary.average_rate":"你好 你好 你好","impac.widget.hr_salaries_summary.legend.employee":"{num_employee, plural, =1{你好} other{你好s}}","impac.widget.hr_salaries_summary.legend.with":"你好 你好 你好","impac.widget.hr_salaries_summary.filter":"你好:","impac.widget.hr_superannuation_accruals.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_superannuation_accruals.save":"@:impac.common.action.save","impac.widget.hr_superannuation_accruals.cancel":"@:impac.common.action.cancel","impac.widget.hr_superannuation_accruals.superannuation_balance":"你好 你好","impac.widget.hr_timesheets.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_timesheets.save":"@:impac.common.action.save","impac.widget.hr_timesheets.cancel":"@:impac.common.action.cancel","impac.widget.hr_timesheets.total_worked":"你好 你好 你好","impac.widget.hr_timesheets.total_off":"你好 你好 你好","impac.widget.hr_timesheets.activities_not_found":"你好 你好 你好 你好","impac.widget.hr_timesheets.from":"@:impac.common.text.from","impac.widget.hr_timesheets.to":"@:impac.common.text.to","impac.widget.hr_workforce_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.hr_workforce_summary.save":"@:impac.common.action.save","impac.widget.hr_workforce_summary.cancel":"@:impac.common.action.cancel","impac.widget.hr_workforce_summary.total_workforce":"你好 你好","impac.widget.hr_workforce_summary.legend.employee":"{num_employee, plural, =1{你好} other{你好s}}","impac.widget.hr_workforce_summary.legend.with":"你好 你好 你好","impac.widget.hr_workforce_summary.filter":"@:impac.widget.hr_salaries_summary.filter","impac.widget.invoices_receivables.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.invoices_receivables.save":"@:impac.common.action.save","impac.widget.invoices_receivables.cancel":"@:impac.common.action.cancel","impac.widget.invoices_receivables.payables_and_receivables":"你好 & 你好","impac.widget.invoices_receivables.total":"@:impac.widget.hr_payroll_summary.total","impac.widget.invoices_receivables.oldest":"你好","impac.widget.invoices_receivables.aged_payables":"你好 你好","impac.widget.invoices_receivables.aged_receivables":"你好 你好","impac.widget.invoices_receivables.aged_payables_and_receivables":"你好 你好 你好 你好","impac.widget.invoices_receivables.your_opening_balance":"* 你好 你好-你好 你好 你好 你好/你好 你好 你好 你好 你好.","impac.widget.invoices_receivables.select_accounts":"你好 你好 你好 你好 你好(s) 你好 你好(ies) 你好 你好 你好 你好/你好 你好(s).","impac.widget.invoices_receivables.tooltip.oldest_invoice":"你好 你好:","impac.widget.invoices_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.invoices_list.save":"@:impac.common.action.save","impac.widget.invoices_list.cancel":"@:impac.common.action.cancel","impac.widget.invoices_list.paid":"你好","impac.widget.invoices_list.due":"你好","impac.widget.invoices_list.invoiced":"你好","impac.widget.invoices_list.no_invoice":"你好 {orderBy}你好 你好 你好 你好 {entityType}","impac.widget.invoices_list.total_paid":"- 你好 你好","impac.widget.invoices_list.total_due":"- 你好 你好","impac.widget.invoices_list.total_invoiced":"- 你好 你好","impac.widget.invoices_list.limit_entries_label.creditors":"你好","impac.widget.invoices_list.limit_entries_label.debtors":"你好","impac.widget.invoices_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.invoices_summary.save":"@:impac.common.action.save","impac.widget.invoices_summary.cancel":"@:impac.common.action.cancel","impac.widget.sales_aged.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_aged.save":"@:impac.common.action.save","impac.widget.sales_aged.cancel":"@:impac.common.action.cancel","impac.widget.sales_aged.from":"@:impac.common.text.from","impac.widget.sales_aged.to":"@:impac.common.text.to","impac.widget.sales_aged.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_aged.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_aged.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_break_even.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_break_even.save":"@:impac.common.action.save","impac.widget.sales_break_even.cancel":"@:impac.common.action.cancel","impac.widget.sales_break_even.from":"@:impac.common.text.from","impac.widget.sales_break_even.to":"@:impac.common.text.to","impac.widget.sales_break_even.title.sales":"你好 你好 你好","impac.widget.sales_break_even.title.projection":"你好 你好 你好-你好","impac.widget.sales_break_even.target":"你好","impac.widget.sales_break_even.your_sales":"你好 你好 你好 你好 你好 你好 你好:","impac.widget.sales_break_even.projected_date":"你好 你好:","impac.widget.sales_break_even.opportunities_to_close":"你好 你好 你好:","impac.widget.sales_break_even.eligible_opportunities":"你好 你好","impac.widget.sales_break_even.click_to_define":"你好 你好 你好 你好 你好 你好","impac.widget.sales_comparison.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_comparison.save":"@:impac.common.action.save","impac.widget.sales_comparison.cancel":"@:impac.common.action.cancel","impac.widget.sales_comparison.legend.compare_by":"你好 你好:","impac.widget.sales_comparison.legend.see":"你好:","impac.widget.sales_comparison.total_sales_from":"你好 你好 你好","impac.widget.sales_comparison.to":"@:impac.common.text.to","impac.widget.sales_comparison.total":"@:impac.widget.hr_payroll_summary.total","impac.widget.sales_comparison.select_sales_category":"你好 你好 你好 你好 你好 你好(ies) 你好 你好 你好 你好 你好.","impac.widget.sales_comparison.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_comparison.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_comparison.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_comparison.criteria_options.products":"你好","impac.widget.sales_comparison.criteria_options.locations":"你好","impac.widget.sales_comparison.criteria_options.industries":"你好","impac.widget.sales_comparison.criteria_options.customers":"你好","impac.widget.sales_customer_details.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_customer_details.save":"@:impac.common.action.save","impac.widget.sales_customer_details.cancel":"@:impac.common.action.cancel","impac.widget.sales_customer_details.label.email":"@:impac.common.label.email","impac.widget.sales_customer_details.label.phone":"@:impac.common.label.phone","impac.widget.sales_customer_details.label.website":"@:impac.common.label.website","impac.widget.sales_customer_details.label.contact":"@:impac.common.label.contact","impac.widget.sales_customer_details.label.city":"@:impac.common.label.city","impac.widget.sales_customer_details.label.country":"@:impac.common.label.country","impac.widget.sales_customer_details.label.address":"@:impac.common.label.address","impac.widget.sales_customer_details.label.total_invoiced":"@:impac.common.label.total_invoiced","impac.widget.sales_customer_details.label.total_paid":"@:impac.common.label.total_paid","impac.widget.sales_customer_details.label.total_due":"@:impac.common.label.total_due","impac.widget.sales_customer_details.from":"@:impac.common.text.from","impac.widget.sales_customer_details.to":"@:impac.common.text.to","impac.widget.sales_cycle.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_cycle.save":"@:impac.common.action.save","impac.widget.sales_cycle.cancel":"@:impac.common.action.cancel","impac.widget.sales_cycle.your_sales_cycle":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好","impac.widget.sales_forecast.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_forecast.save":"@:impac.common.action.save","impac.widget.sales_forecast.cancel":"@:impac.common.action.cancel","impac.widget.sales_forecast.projection_on":"你好 你好 你好 你好 6 你好","impac.widget.sales_forecast.sales_performance":"你好 你好","impac.widget.sales_growth.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_growth.save":"@:impac.common.action.save","impac.widget.sales_growth.cancel":"@:impac.common.action.cancel","impac.widget.sales_growth.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_growth.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_growth.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_growth.value_purchased_taxes":"@:impac.common.value_purchased_taxes","impac.widget.sales_growth.value_purchased_no_taxes":"@:impac.common.value_purchased_no_taxes","impac.widget.sales_growth.quantity_purchased":"@:impac.common.quantity_purchased","impac.widget.sales_growth.select_product":"你好 你好","impac.widget.sales_growth.tooltip.total_for_period":"你好 你好 你好 你好","impac.widget.sales_leads_funnel.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_leads_funnel.save":"@:impac.common.action.save","impac.widget.sales_leads_funnel.cancel":"@:impac.common.action.cancel","impac.widget.sales_leads_funnel.legend.your_leads":"你好 你好 你好 你好 你好","impac.widget.sales_leads_funnel.legend.to":"@:impac.common.text.to","impac.widget.sales_leads_funnel.select_a_status":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好","impac.widget.sales_leads_funnel.status":"你好:","impac.widget.sales_leads_funnel.organization":"你好:","impac.widget.sales_leads_funnel.opportunities":"你好:","impac.widget.sales_leads_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_leads_list.save":"@:impac.common.action.save","impac.widget.sales_leads_list.cancel":"@:impac.common.action.cancel","impac.widget.sales_leads_list.status":"@:impac.widget.sales_leads_funnel.status","impac.widget.sales_leads_list.organization":"@:impac.widget.sales_leads_funnel.organization","impac.widget.sales_leads_list.opportunities":"@:impac.widget.sales_leads_funnel.opportunities","impac.widget.sales_list.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_list.save":"@:impac.common.action.save","impac.widget.sales_list.cancel":"@:impac.common.action.cancel","impac.widget.sales_list.products":"你好","impac.widget.sales_list.total":"@:impac.widget.hr_payroll_summary.total","impac.widget.sales_list.no_data_found":"你好 你好 你好 你好 你好 你好 你好<br/> 你好 你好 你好 你好","impac.widget.sales_list.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_list.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_list.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_list.value_purchased_taxes":"@:impac.common.value_purchased_taxes","impac.widget.sales_list.value_purchased_no_taxes":"@:impac.common.value_purchased_no_taxes","impac.widget.sales_list.quantity_purchased":"@:impac.common.quantity_purchased","impac.widget.sales_list.from":"@:impac.common.text.from","impac.widget.sales_list.to":"@:impac.common.text.to","impac.widget.sales_margin.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_margin.save":"@:impac.common.action.save","impac.widget.sales_margin.cancel":"@:impac.common.action.cancel","impac.widget.sales_margin.total_sold_and_purchased":"你好 你好 - 你好 你好","impac.widget.sales_margin.including_taxes":"你好 你好","impac.widget.sales_margin.excluding_taxes":"你好 你好","impac.widget.sales_margin.gross_margin":"你好 你好","impac.widget.sales_net_sales.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_net_sales.save":"@:impac.common.action.save","impac.widget.sales_net_sales.cancel":"@:impac.common.action.cancel","impac.widget.sales_net_sales.title.sales":"你好","impac.widget.sales_net_sales.title.returns":"你好","impac.widget.sales_net_sales.title.net_result":"你好 你好","impac.widget.sales_net_sales.no_transaction":"你好 你好 你好 你好 你好 你好 你好<br/> 你好 你好 你好 你好","impac.widget.sales_net_sales.total_amount":"你好 你好","impac.widget.sales_net_sales.average_amount":"你好 你好","impac.widget.sales_net_sales.volume":"你好","impac.widget.sales_net_sales.tmpl.last_hours":"你好 :hours:你好","impac.widget.sales_net_sales.tmpl.last_days":"你好 :days: 你好","impac.widget.sales_number_of_leads.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_number_of_leads.save":"@:impac.common.action.save","impac.widget.sales_number_of_leads.cancel":"@:impac.common.action.cancel","impac.widget.sales_number_of_leads.leads_for_this":"你好 你好 你好","impac.widget.sales_number_of_leads.leads_in_total":"你好 你好 你好","impac.widget.sales_funnel.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_funnel.save":"@:impac.common.action.save","impac.widget.sales_funnel.cancel":"@:impac.common.action.cancel","impac.widget.sales_funnel.legend":"你好 你好, 你好 你好 你好 你好","impac.widget.sales_funnel.select_a_sales":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好","impac.widget.sales_funnel.assignees_opportunities":"你好 / 你好","impac.widget.sales_funnel.assignees_opportunities":"你好 你好 你好","impac.widget.sales_performance.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_performance.save":"@:impac.common.action.save","impac.widget.sales_performance.cancel":"@:impac.common.action.cancel","impac.widget.sales_performance.from":"@:impac.common.text.from","impac.widget.sales_performance.to":"@:impac.common.text.to","impac.widget.sales_performance.win_ratio":"你好 你好","impac.widget.sales_performance.total_won":"你好 你好","impac.widget.sales_performance.select_an_employee":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好/你好.","impac.widget.sales_performance.pick_the_status":"你好 你好 你好 你好 你好 你好 你好 你好 '你好 你好' 你好 '你好 你好' 你好 你好 你好 你好.","impac.widget.sales_performance.total_won":"你好 你好 :","impac.widget.sales_performance.forecast":"你好","impac.widget.sales_performance.closed_won":"你好 你好","impac.widget.sales_performance.closed_lost":"你好 你好","impac.widget.sales_performance.description.pick_the_status":"你好 你好 你好 你好 你好 你好 你好 你好 '你好 你好'","impac.widget.sales_performance.description.pick_the_status_lost":"你好 你好 你好 你好 你好 你好 你好 你好 '你好 你好'","impac.widget.sales_turnover.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_turnover.save":"@:impac.common.action.save","impac.widget.sales_turnover.cancel":"@:impac.common.action.cancel","impac.widget.sales_turnover.filter":"@:impac.widget.hr_salaries_summary.filter","impac.widget.sales_turnover.average_price":"你好 你好 你好","impac.widget.sales_turnover.of_your_revenue":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好","impac.widget.sales_turnover.and":"你好","impac.widget.sales_turnover.gross_revenue":"你好 你好 (你好. 你好)","impac.widget.sales_turnover.net_revenue":"你好 你好 (你好. 你好)","impac.widget.sales_turnover.analysis.less":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.widget.sales_turnover.analysis.must":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.widget.sales_turnover.analysis.revenue":"你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.widget.sales_turnover.tooltip.widget_segment":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好","impac.widget.sales_summary.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_summary.save":"@:impac.common.action.save","impac.widget.sales_summary.cancel":"@:impac.common.action.cancel","impac.widget.sales_summary.no_data_found":"你好 你好 你好 你好 你好 你好 你好<br/> 你好 你好 你好 你好","impac.widget.sales_summary.value_sold_taxes":"@:impac.common.value_sold_taxes","impac.widget.sales_summary.value_sold_no_taxes":"@:impac.common.value_sold_no_taxes","impac.widget.sales_summary.quantity_sold":"@:impac.common.quantity_sold","impac.widget.sales_summary.value_purchased_taxes":"@:impac.common.value_purchased_taxes","impac.widget.sales_summary.value_purchased_no_taxes":"@:impac.common.value_purchased_no_taxes","impac.widget.sales_summary.quantity_purchased":"@:impac.common.quantity_purchased","impac.widget.sales_summary.to":"@:impac.common.text.to","impac.widget.sales_opportunities.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_opportunities.save":"@:impac.common.action.save","impac.widget.sales_opportunities.cancel":"@:impac.common.action.cancel","impac.widget.sales_opportunities.total_potential":"你好 你好:","impac.widget.sales_opportunities.eligible_opportunities":"你好 你好","impac.widget.sales_opportunities.proba":"你好","impac.widget.editable_title.tooltip_text":"(你好 你好 你好 你好)","impac.widget.editable_title.incorrect_name":"你好 你好","impac.dashboard.create.create_new_dashboard":"你好 你好 你好","impac.dashboard.create.name":"你好","impac.dashboard.create.type":"你好","impac.dashboard.create.current_company":"你好 你好","impac.dashboard.create.multi_company":"你好 你好","impac.dashboard.create.now_access_text":"你好! 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好","impac.dashboard.create.select_multi_company":'你好 你好 你好 "你好 你好" 你好 你好 你好 你好 你好 你好 你好.',"impac.dashboard.create.companies":"你好","impac.dashboard.create.tooltip.access":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好","impac.dashboard.create.cancel":"@:impac.common.action.cancel","impac.dashboard.create.add":"你好","impac.dashboard.create.placeholder.cash_accounts":"你好.你好: 你好 你好 你好","impac.dashboard.change_logo":"你好 你好","impac.dashboard.it_looks_like":"你好 你好 你好 你好 你好 你好 你好 你好...","impac.dashboard.unfortunately_information":"你好, 你好 你好 你好 你好 你好 你好! 你好 你好 你好 你好 你好 你好 你好 <strong>你好</strong>. 你好, 你好 你好 你好 你好 你好 你好 你好 你好! 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.dashboard.myob_message.part_1":"你好 你好 你好 你好 你好 你好","impac.dashboard.myob_message.part_2":"你好 你好","impac.dashboard.myob_message.part_3":", 你好 你好 你好 你好 你好?","impac.dashboard.widget_added":"你好 你好!","impac.dashboard.select_the_widgets":"你好 你好 你好 你好 你好 你好 你好 你好 你好 你好.","impac.dashboard.all_categories":"你好 你好","impac.dashboard.accounting":"你好","impac.dashboard.invoicing":"你好","impac.dashboard.hr_or_payroll":"你好 / 你好","impac.dashboard.sales":"你好","impac.dashboard.can_not_find":"你好 你好 你好 你好 你好 你好 你好?","impac.dashboard.give_us":"你好 你好 你好 你好 你好!","impac.dashboard.create_a_dashboard":"你好 你好 你好!","impac.dashboard.add_new_widget":"你好 你好 你好 你好","impac.dashboard.plus_chart":"+ 你好","impac.dashboard.refresh":"你好","impac.dashboard.category_name.accounting":"你好","impac.dashboard.category_name.invoicing":"你好","impac.dashboard.category_name.hr_or_payroll":"你好 / 你好","impac.dashboard.category_name.sales":"你好","impac.dashboard.widget_suggestion.suggest_a_widget":"你好 你好 你好","impac.dashboard.widget_suggestion.widget_name":"你好 你好 你好 你好 你好 你好?","impac.dashboard.widget_suggestion.kind_of_information":"你好 你好 你好 你好 你好 你好 你好 你好?","impac.dashboard.widget_suggestion.helping":"你好 你好 你好 你好 你好 你好 你好 你好!&trade;","impac.dashboard.widget_suggestion.unable_to_send":"你好 你好 你好 你好 你好, 你好 你好 你好 你好 你好 你好 你好.","impac.dashboard.widget_suggestion.cancel":"@:impac.common.action.cancel","impac.dashboard.widget_suggestion.send_your_suggestion":"你好 你好 你好","impac.widget.accounts_expenses_revenue.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.accounts_expenses_revenue.save":"@:impac.common.action.save","impac.widget.accounts_expenses_revenue.cancel":"@:impac.common.action.cancel","impac.widget.accounts_expenses_revenue.expenses":"你好","impac.widget.accounts_expenses_revenue.revenue":"@:impac.widget.classification_summary.revenue","impac.widget.accounts_expenses_revenue.net_profit":"你好 你好","impac.widget.accounts_expenses_revenue.show_net_profit":"你好 你好 你好","impac.widget.sales_new_vs_existing.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_new_vs_existing.save":"@:impac.common.action.save","impac.widget.sales_new_vs_existing.cancel":"@:impac.common.action.cancel","impac.widget.sales_new_vs_existing.new_customers":"你好 你好:","impac.widget.sales_new_vs_existing.existing_customers":"你好 你好:","impac.widget.sales_new_vs_existing.total":"你好:","impac.widget.sales_new_vs_existing.no_data_found":"你好 你好 你好 你好 你好 你好 你好<br/> 你好 你好 你好 你好","impac.widget.sales_new_vs_existing.customers":"你好","impac.widget.sales_new_vs_existing.total_sales":"你好 你好","impac.widget.sales_new_vs_existing.transactions":"你好","impac.widget.sales_new_vs_existing.tmpl.last_hours":"你好 :hours:你好","impac.widget.sales_new_vs_existing.tmpl.last_days":"你好 :days: 你好","impac.widget.sales_top_customers.settings.title":"@:impac.common.title.widget.settings.title","impac.widget.sales_top_customers.save":"@:impac.common.action.save","impac.widget.sales_top_customers.cancel":"@:impac.common.action.cancel","impac.widget.sales_top_customers.no_sales":"你好 你好 你好 你好 你好 你好 你好","impac.widget.sales_top_customers.customer_name":"你好 你好","impac.widget.sales_top_customers.top":"你好 - :number:","impac.widget.sales_top_customers.total_sales":"你好 你好","impac.widget.sales_top_customers.transactions":"你好","impac.widget.sales_top_customers.avg_sales":"你好 你好","impac.widget.sales_top_customers.last_sale":"你好 你好","impac.widget.sales_top_customers.show":"你好","impac.widget.sales_top_customers.hide":"你好","impac.widget.sales_top_customers.details":"你好","impac.widget.info_panel.information":"你好 你好 你好","impac.widget.formula.invalid_expression":"你好 你好","impac.widget.formula.infinity":"你好","impac.widget.formula.minus_infinity":"-你好","impac.widget.alerts_config.over":"你好","impac.widget.alerts_config.below":"你好","impac.components.currency.choose_currency":"你好 你好...","impac.components.pdf_mode.print":"你好","impac.components.pdf_mode.cancel":"@:impac.common.action.cancel","impac.components.sync_apps.syncing":"你好...","impac.components.sync_apps.show_sync_status":"你好 你好 你好","impac.components.sync_apps.tooltip.sync_data":"你好 你好 你好 你好 你好","impac.components.sync_apps.status.synced_at":"你好 你好","impac.components.sync_apps.status.sync_will_run":"你好 你好 你好 你好 你好 你好 你好.","impac.components.sync_apps.status.syncing_in_progres":"你好 你好 你好...","impac.components.sync_apps.status.sync_failed":"你好 你好. 你好 你好 你好.","impac.components.sync_apps.status.please_link":"你好 你好 你好 你好.","impac.components.sync_apps.status.could_not_retrieve":"你好'你好 你好 你好 你好.","impac.components.sync_apps.all":"你好","impac.components.sync_apps.applications_are_synced":"你好 你好 你好 你好 你好-你好.","impac.components.sync_apps.synchronization_status":"你好 你好","impac.components.sync_apps.ok":"你好"})
}]),function(){var e;e=angular.module("impac.run",[]),e.run(["ImpacAlerts",function(){}])}.call(this),function(){console.info("Impac! Front-End Library - v1.5.0-rc3"),window.impac={version:"1.5.0-rc3"}}.call(),function(){angular.module("impac.filters.mno-date",[]).filter("mnoDate",["$filter",function(e){return function(t,i){var a;if(a=["DAILY","WEEKLY","MONTHLY","QUARTERLY","YEARLY"],null==t)return"";switch(null!=i&&_.includes(a,i.toUpperCase())||(i="MONTHLY"),i.toUpperCase()){case"DAILY":return e("date")(t,"dd MMM");case"WEEKLY":return e("date")(t,"dd MMM");case"MONTHLY":return e("date")(t,"MMM yyyy");case"QUARTERLY":return e("date")(t,"MMM yyyy");case"YEARLY":return e("date")(t,"yyyy")}}}])}.call(this),function(){angular.module("impac.filters.titleize",[]).filter("titleize",function(){return function(e){return e=void 0===e||null===e?"":e,e.toString().toLowerCase().replace(/\b([a-z])/g,function(e){return e.toUpperCase()})}})}.call(this),function(){angular.module("impac.filters.truncate",[]).filter("truncate",function(){return function(e,t,i,a){var n;return e?(t=parseInt(t,10))?e.length<=t?e:(e=e.substr(0,t),a&&(n=e.lastIndexOf(" "),-1!==n&&(e=e.substr(0,n))),e+(i||"…")):e:""}})}.call(this),function(){var e;e=angular.module("impac.components.alerts-config",[]),e.directive("alertsConfig",["$uibModal","$templateCache","$compile","ImpacKpisSvc","ImpacMainSvc",function(e,t,i,a,n){return{restrict:"EA",scope:{kpi:"=",buttonHtml:"@",afterSaveCallback:"=?"},template:t.get("alerts-config/alerts-config.tmpl.html"),link:function(e,t){var a,n;return n=e.buttonHtml?e.buttonHtml:"<i class='fa fa-bell-o' />",a=t.find(".alerts-config"),a.html(n).show(),i(a.contents())(e)},controller:["$scope",function(i){var s;return n.load().then(function(e){return i.alerts={inapp:{service:"inapp"},email:{service:"email"}},$translate("impac.kpi.alerts.service.inapp").then(function(e){return i.alerts.inapp.label=e}),null!=e.userData&&e.userData.email?$translate("impac.kpi.alerts.service.email",{EMAIL:"hasEmail",email:e.userData.email}).then(function(e){return i.alerts.email.label=e}):$translate("impac.kpi.alerts.service.email").then(function(e){return i.alerts.email.label=e})}),i.save=function(e){return a.saveAlerts(i.kpi,e),i.modal.close(),i.afterSaveCallback?i.afterSaveCallback():void 0},i.toggleAlert=function(e){return e.active=!e.active},i.translateTarget=function(e){var t,i;return e.targets&&(i=e.targets[e.element_watched]),i&&i.length>0?(t=[],null!=i[0].max?t.push($translate.instant("impac.widget.alerts_config.over"),i[0].max):i[0].min&&t.push($translate.instant("impac.widget.alerts_config.below"),i[0].min),null!=e.data&&t.push(e.data[e.element_watched].unit),t.join(" ")):void 0},s={options:{backdrop:"static",template:t.get("alerts-config/alerts-config.modal.html"),scope:i}},i.showAlertsSettings=function(){var t,a,n,o;for(o=i.kpi.alerts,a=0,n=o.length;n>a;a++)t=o[a],i.alerts[t.service].active=!0;return i.modal=e.open(s.options)}}]}}])}.call(this),function(){angular.module("impac.components.chart",[]).directive("impacChart",["$log","$window",function(e,t){return{restrict:"A",scope:{drawTrigger:"=",deferred:"="},link:function(i,a){return i.draw=function(e){var t,i;return null==e.options.showXLabels||e.options.showXLabels||angular.merge(e.options,{scales:{xAxes:[{display:!1}]}}),a.children().length>0&&a.children().remove(0),a.append("<canvas></canvas>"),t=a.children()[0],i=t.getContext("2d"),new Chart(i,e)},i.drawTrigger.then(function(){return e.warn("chart promise has been resolved: use notify instead")},function(t){return e.error(t)},function(e){var n,s,o;return s=t.navigator.userAgent,o=!0,o?(n=function(){var t;return t=$(a).is(":visible"),t?i.draw(e):setTimeout(function(){return n()},100)},n()):i.draw(e)}),i.deferred.resolve("chart ready")}}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard",[]),e.controller("ImpacDashboardCtrl",["$scope","$http","$q","$filter","$uibModal","$log","$timeout","$templateCache","MsgBus","ImpacUtilities","ImpacAssets","ImpacTheming","ImpacRoutes","ImpacMainSvc","ImpacDashboardsSvc","ImpacWidgetsSvc","$translate",function(e,t,i,a,n,s,o,r,c,l,d,g,m,p,u,h,v){var f,w,b,y,x;return e.currentDhb=u.getCurrentDashboard(),e.widgetsTemplates=u.getWidgetsTemplates(),e.impacTitleLogo=d.get("impacTitleLogo"),e.impacDashboardBackground=d.get("impacDashboardBackground"),e.showDhbHeading=g.get().dhbConfig.showDhbHeading,e.dhbHeadingText=g.get().dhbConfig.dhbHeadingText,e.dhbErrorsConfig=g.get().dhbErrorsConfig,e.dhbSettingsConfig=g.get().dhbSettings,e.showKpisBar=function(){return u.areKpisEnabled()&&u.isThereADashboard()},e.showChooseDhbMsg=function(){return!u.isThereADashboard()},e.showNoWidgetsMsg=function(){return u.isCurrentDashboardEmpty()&&g.get().showNoWidgetMsg},e.starWizardModal={value:!1},c.publish("starWizardModal",e.starWizardModal),e.openStarWizard=function(){return e.starWizardModal.value=!0},e.marketplaceMyobLink=g.get().dhbSubMenuConfig.marketplaceMyobLink,e.showSubMenu=!1,e.displaySubMenu=function(){return e.showSubMenu=!0},e.hideSubMenu=function(){return e.showSubMenu=!1},e.myobMessageConfig=g.get().dhbSubMenuConfig.myobMessage,e.isLoading=!0,e.failedDashboardLoad=!1,b=function(){return e.activateTimer(),e.hasMyobEssentialsOnly=p.config.currentOrganization.has_myob_essentials_only},w=function(){return e.failedDashboardLoad=!0,e.isLoading=!1},u.load(!0).then(b,w),f=0,e.displaySecondMsg=!1,e.reloadDashboard=function(){return f++,f>=3&&(e.displaySecondMsg=!0),u.reload(!0).then(b,w)},u.dhbLoader().then(null,null,function(t){return t?e.isLoading=!0:e.activateTimer()}),e.activateTimer=function(){var t,i;return e.isLoading||(e.isLoading=!0),i=e.currentDhb.widgets,t=null!=i?Math.max(100*i.length,500):500,o(function(){return e.isLoading=!1},t)},e.createDashboardModal=e.$new(),e.createDashboardModal.config={backdrop:"static",template:r.get("dashboard/create.modal.html"),size:"md",windowClass:"inverse",scope:e.createDashboardModal},e.createDashboardModal.open=function(){var t;return t=e.createDashboardModal,t.locked?void 0:(t.model={name:""},t.errors="",t.isLoading=!1,t.instance=n.open(t.config),t.instance.rendered.then(function(){return t.locked=!0}),t.instance.result.then(function(){return t.locked=!1},function(){return t.locked=!1}),p.loadOrganizations().then(function(e){return t.organizations=e.organizations,t.currentOrganization=e.currentOrganization,t.selectMode("single")}))},e.createDashboardModal.proceed=function(){var t,i,a;return a=e.createDashboardModal,a.isLoading=!0,t={name:a.model.name},i=[],i="multi"===a.mode?_.select(a.organizations,function(e){return e.$selected}):[{id:p.config.currentOrganization.id}],i.length>0&&(t.organization_ids=_.pluck(i,"id")),u.create(t).then(function(){return a.errors="",a.instance.close()},function(e){return a.isLoading=!1,a.errors=l.processRailsError(e)})},e.createDashboardModal.isProceedDisabled=function(){var t,i,a;return a=e.createDashboardModal,i=_.select(a.organizations,function(e){return e.$selected}),t=_.isEmpty(a.model.name),t||(t=0===i.length),t||(t=0===_.select(i,function(e){return a.canAccessAnalyticsData(e)}).length),a.isLoading||t},e.createDashboardModal.btnBlassFor=function(t){var i;return i=e.createDashboardModal,t===i.mode?"btn btn-sm btn-warning active":"btn btn-sm btn-default"},e.createDashboardModal.selectMode=function(t){var i;return i=e.createDashboardModal,_.each(i.organizations,function(e){return e.$selected=!1}),i.currentOrganization.$selected="single"===t,i.mode=t},e.createDashboardModal.isSelectOrganizationShown=function(){return"multi"===e.createDashboardModal.mode},e.createDashboardModal.isCurrentOrganizationShown=function(){return"single"===e.createDashboardModal.mode},e.createDashboardModal.canAccessAnalyticsForCurrentOrganization=function(){var t;return t=e.createDashboardModal,t.canAccessAnalyticsData(t.currentOrganization)},e.createDashboardModal.isMultiCompanyAvailable=function(){return e.createDashboardModal.organizations.length>1&&e.createDashboardModal.multiOrganizationReporting},e.createDashboardModal.canAccessAnalyticsData=function(e){return e.current_user_role&&("Super Admin"===e.current_user_role||"Admin"===e.current_user_role)},e.customWidgetSelector=g.get().widgetSelectorConfig,e.forceShowWidgetSelector=!1,e.showCloseWidgetSelectorButton=function(){return!u.isCurrentDashboardEmpty()},e.displayWidgetSelector=function(t){return null==t&&(t=!0),e.forceShowWidgetSelector=t},e.showWidgetSelector=function(){return u.isThereADashboard()&&(e.forceShowWidgetSelector||u.isCurrentDashboardEmpty())},e.isAddChartEnabled=g.get().addChartTile.show,e.addChartTileOnClick=function(){var t;return t=g.get().addChartTile.onClickOptions.triggers,_.forEach(t,function(t){switch(t.type){case"objectProperty":return e[t.target][t.property]=t.value}})},e.selectedCategory="accounts",e.isCategorySelected=function(t){return null!=e.selectedCategory&&null!=t?e.selectedCategory===t:!1},e.selectCategory=function(t){return e.selectedCategory=t},e.getSelectedCategoryName=function(){if(null==e.selectedCategory)return!1;switch(e.selectedCategory){case"accounts":return v.instant("impac.dashboard.category_name.accounting");case"invoices":return v.instant("impac.dashboard.category_name.invoicing");case"hr":return v.instant("impac.dashboard.category_name.hr_or_payroll");case"sales":return v.instant("impac.dashboard.category_name.sales");default:return!1}},e.getSelectedCategoryTop=function(){if(null==e.selectedCategory)return!1;switch(e.selectedCategory){case"accounts":return{top:"33px"};case"invoices":return{top:"64px"};case"hr":return{top:"95px"};case"sales":return{top:"126px"};default:return{top:"9999999px"}}},e.getWidgetsForSelectedCategory=function(){return null!=e.selectedCategory&&null!=e.widgetsTemplates?_.select(e.widgetsTemplates,function(t){var i;return i=t.metadata&&t.metadata.template?t.metadata.template.split("/")[0]:t.endpoint.split("/")[0],i===e.selectedCategory}):[]},e.addWidget=function(t){var i;return i=_.pick(t,["endpoint","name","width","metadata"]),angular.element("#widget-selector").css("cursor","progress"),angular.element("#widget-selector .top-container .row.lines p").css("cursor","progress"),h.create(i).then(function(){return e.errors="",angular.element("#widget-selector").css("cursor","auto"),angular.element("#widget-selector .top-container .row.lines p").css("cursor","pointer"),angular.element("#widget-selector .badge.confirmation").fadeTo(250,1),o(function(){return angular.element("#widget-selector .badge.confirmation").fadeTo(700,0)},4e3)},function(t){return e.errors=l.processRailsError(t),angular.element("#widget-selector").css("cursor","auto"),angular.element("#widget-selector .top-container .row.lines p").css("cursor","pointer")})},e.triggerUpload=function(){var t;return t=angular.element("#fileInput"),t.on("change",function(t){var i,a;return i=t.target.files,i&&i[0]?(a=new FileReader,a.onload=function(t){return e.impacTitleLogo=t.target.result},a.readAsDataURL(i[0])):void 0}),t.trigger("click"),!0},e.widgetSuggestionModal=e.$new(),e.widgetSuggestionModal.widgetDetails={},e.widgetSuggestionModal.error=!1,e.widgetSuggestionModal.onSuccess=!1,e.widgetSuggestionModal.config={backdrop:"static",template:r.get("dashboard/widget-suggestion.modal.html"),size:"md",windowClass:"inverse impac-widget-suggestion",scope:e.widgetSuggestionModal,apiPath:m.widgets.suggest()},e.widgetSuggestionModal.open=function(){var t;return t=e.widgetSuggestionModal,t.locked?void 0:(p.loadUserData().then(function(e){return t.userName=e.name}),t.instance=n.open(t.config),t.instance.rendered.then(function(){return t.locked=!0}),t.instance.result.then(function(){return t.locked=!1},function(){return t.locked=!1}),t.isLoading=!1)},e.widgetSuggestionModal.proceed=function(){var i,a;return a=e.widgetSuggestionModal,a.isLoading=!0,i={widget_name:a.widgetDetails.name,widget_category:a.widgetDetails.category,widget_description:a.widgetDetails.description},null!=a.config.apiPath?t.post(a.config.apiPath,{template:"widget_suggestion",opts:i}).then(function(){return a.onSuccess=!0,o(function(){return a.instance.close(),a.widgetDetails={},a.isLoading=!1,a.onSuccess=!1},3e3)},function(e){return a.isLoading=!1,a.error=!0,s.error("impac-angular ERROR: Unable to POST widget_suggestion mailer: ",e)}):void 0},e.sortableOptions={stop:y=function(){var t;return t={widgets_order:_.pluck(e.currentDhb.widgets,"id")},u.update(e.currentDhb.id,t)},start:x=function(e,t){return t.placeholder.css("width",t.item.width()-1),t.placeholder.css("height",t.item.height())},cursorAt:{left:100,top:20},opacity:.5,delay:150,tolerance:"pointer",placeholder:"placeHolderBox",cursor:"move",revert:250,cancel:".unsortable,.editable-input",handle:".top-line",helper:"clone"}}]),e.directive("impacDashboard",["$templateCache","ImpacDashboardsSvc",function(e,t){return{restrict:"EA",scope:{forceLoad:"=load"},template:e.get("dashboard/dashboard.tmpl.html"),controller:"ImpacDashboardCtrl",link:function(e){return e.pdfMode=!1,t.pdfModeEnabled().then(null,null,function(){return e.pdfMode=!0}),t.pdfModeCanceled().then(null,null,function(){return e.pdfMode=!1})}}}])}.call(this),function(){angular.module("impac.components.dashboard-selector",[]).directive("dashboardSelector",["$log","$compile","$templateCache","$http","$timeout","$uibModal","ImpacTheming","ImpacDashboardsSvc","ImpacMainSvc","ImpacUtilities",function(e,t,i,a,n,s,o,r,c,l){return{restrict:"E",scope:{onCreateDashboard:"&",isWidgetSelectorShown:"&",onDisplayWidgetSelector:"&",onSelectDashboard:"&",pdfMode:"="},controller:["$scope",function(e){return e.organizationsNames=function(){return _.pluck(e.currentDhb.data_sources,"label").join(", ")},e.toggleShowDashboardsDropdown=function(){return e.showChangeDashboardNameBox?void 0:e.showDashboardsDropdown=r.areThereSeveralDashboards()||e.showCreateDashboardButton?!e.showDashboardsDropdown:!1},e.selectDashboard=function(t){return e.currentDhb.id!==t?(e.isLoading=!0,e.showDashboardsDropdown=!1,n(function(){return e.$apply(function(){return r.setCurrentDashboard(t),e.onSelectDashboard(),e.isLoading=!1})},50)):void 0},e.toggleChangeDashboardNameBox=function(t){var i;return i=angular.copy(t),e.dashboardToChange={},e.dashboardToChange.id=i.id,e.dashboardToChange.name=i.full_name,e.showChangeDashboardNameBox=!e.showChangeDashboardNameBox,n(function(){var e;return e=$("#changeDhbNameInput"),e.select(),e.focus()},100)},e.hideChangeDashboardNameBox=function(){return e.showChangeDashboardNameBox=!1},e.checkAndUpdateDashboardName=function(t){return 13===t.keyCode&&e.updateDashboardName(),27===t.keyCode?e.showChangeDashboardNameBox=!1:void 0},e.updateDashboardName=function(){return null==e.dashboardToChange||_.isEmpty(e.dashboardToChange.name)?void 0:r.update(e.dashboardToChange.id,{name:e.dashboardToChange.name}).then(function(){return e.showChangeDashboardNameBox=!1})},e.toggleAccessibilityMode=function(){return e.accessibilityMode=!e.accessibilityMode,angular.forEach(e.currentDhb.widgets,function(e){return e.loadContent()})},e.deleteDashboardModal=e.$new(),e.deleteDashboardModal.config={backdrop:"static",template:i.get("dashboard-selector/delete.modal.html"),size:"md",windowClass:"inverse",scope:e.deleteDashboardModal},e.deleteDashboardModal.open=function(){var t;return t=e.deleteDashboardModal,t.locked?void 0:(t.errors="",t.isLoading=!1,t.instance=s.open(t.config),t.instance.rendered.then(function(){return t.locked=!0}),t.instance.result.then(function(){return t.locked=!1},function(){return t.locked=!1}))},e.deleteDashboardModal.proceed=function(){var t;return t=e.deleteDashboardModal,t.isLoading=!0,r["delete"](e.currentDhb.id).then(function(){return t.errors="",t.instance.close()},function(e){return t.errors=l.processRailsError(e),t.isLoading=!1})},e}],link:function(n,s){var c,l,d,g,m,p,u;switch(n.currentDhb=r.getCurrentDashboard(),n.dashboardsList=r.getDashboards(),n.isThereADashboard=r.isThereADashboard,n.isCurrentDashboardEmpty=r.isCurrentDashboardEmpty,m=o.get().dhbSelectorConfig,n.isAccessibilityEnabled=m.accessibilityEnabled,n.isAddWidgetEnabled=m.addWidgetEnabled,n.isAddDhbEnabled=m.addDhbEnabled,n.isDeleteDhbEnabled=m.deleteDhbEnabled,n.showCreateDashboardButton=!0,n.showDashboardsDropdown=!1,n.showChangeDashboardNameBox=!1,n.accessibilityMode=!1,m.customTmplPath?l=m.customTmplPath:n.selectorType=m.selectorType,p=null,u=function(e){return p=e},n.selectorType){case"dropdown":u("dashboard-selector/dropdown.tmpl.html");break;case"tabs":u("dashboard-selector/bootstrap-tabs.tmpl.html");break;case"pills":u("dashboard-selector/bootstrap-tabs.tmpl.html");break;default:u(l)}return d=function(){return a.get(p,{cache:i}).then(function(t){return t&&t.data&&t.data.length||e.warn("dashboardSelector custom template: no content found"),c(t.data)},function(t){return e.error("Error retrieving custom template: ",t)})},g=function(){return c(i.get(p))},c=function(e){return s.html(e).show(),t(s.contents())(n)},l?d():g()}}}])}.call(this),function(){angular.module("impac.components.kpi",[]).directive("impacKpi",["$log","$timeout","$templateCache","ImpacKpisSvc","ImpacEvents","IMPAC_EVENTS","$translate",function(e,t,i,a,n,s,o){return{restrict:"EA",scope:{onDelete:"&",kpi:"=",editMode:"=",loadReady:"="},template:i.get("kpi/kpi.tmpl.html"),controller:["$scope","$element",function(e,i){var r,c,l,d,g,m;return l=function(){return a.show(e.kpi).then(function(t){var i,n;return angular.extend(e.kpi,t),i=a.getKpiTemplate(e.kpi.endpoint,e.kpi.element_watched),e.kpi.name=null!=i&&i.name,null!=i&&null!=i.extra_params&&(e.kpi.possibleExtraParams=i.extra_params,_.forIn(e.kpi.possibleExtraParams,function(t,i){var a;return t[0]?((a=e.kpi).extra_params||(a.extra_params={}))[i]=t[0].id:void 0})),n=!1,_.forEach(e.kpi.watchables,function(t){var i;return _.isEmpty(i=e.getTargets(t))?(e.addTargetToWatchable(t),n=!0):e.targets[t]=angular.copy(i)}),n?e.displayEditSettings():void 0})},m=function(t){return e.kpi.isEditing||t?e.updateSettings():void 0},d=function(){return r()},g=function(){return e.kpi["static"]?void 0:l()},c=function(){return _.forEach(e.kpi.watchables,function(t){var i,a;return i=e.getTargetPlaceholder(t),(a={})[i.mode]=i.value,e.targets[t]=[a]}),e.updateSettings(!0)},r=function(){var e;return(e=angular.element(i).find(".kpi-content"))?(e.animate({opacity:0},0),t(function(){return e.animate({opacity:1},150)},200)):void 0},e.kpiTemplates=a.getKpisTemplates(),e.possibleExtraParams=[],e.targets={},e.possibleTargets=[{label:o.instant("impac.kpi.below"),mode:"min"},{label:o.instant("impac.kpi.over"),mode:"max"}],e.kpi.isLoading=!0,e.loadReady.promise.then(function(){return e.kpi["static"]?e.kpi.isLoading=!1:l()["finally"](function(){return e.kpi.isLoading=!1})}),n.registerCb(s.kpisBarUpdateSettings,m),n.registerCb(s.kpisBarToggleSettings,d),n.registerCb(s.kpisBarUpdateDates,g),e.$on("$destroy",function(){return n.deregisterCb(s.kpisBarUpdateSettings,m),n.deregisterCb(s.kpisBarUpdateDates,g)}),e.addTargetToWatchable=function(t){var i,a;if(!_.has(e.targets,t))return(a={})[e.getTargetPlaceholder(t).mode]="",((i=e.targets)[t]||(i[t]=[])).push(a)},e.displayEditSettings=function(){return e.kpi.isEditing=!0},e.hideEditSettings=function(){return e.kpi.isEditing=!1},e.hasValidTargets=function(){return a.validateKpiTargets(e.targets)},e.hasContent=function(){return!!(e.kpi&&e.kpi.layout&&e.kpi.data)},e.showKpiContent=function(){return!e.isLoading()&&(e.hasContent()||e.kpi.isDraft)},e.isDataNotFound=function(){return!e.hasContent()&&!e.kpi.isDraft},e.isLoading=function(){return e.kpi.isLoading},e.updateSettings=function(i){var n,s,o,r;return o={},r=(n=e["kpi"+e.kpi.id+"SettingsForm"])&&n.$dirty,s=e.hasValidTargets(),r&&s||i?(o.targets=e.targets,_.isEmpty(e.kpi.extra_params)||(o.extra_params=e.kpi.extra_params),_.isEmpty(o)||a.update(e.kpi,o),n.$setPristine(),t(function(){return e.hideEditSettings()},200)):e.cancelUpdateSettings(s)},e.cancelUpdateSettings=function(){return _.isEmpty(e.kpi.targets)?c():e.targets=angular.copy(e.kpi.targets),t(function(){return e.hideEditSettings()},200)},e.deleteKpi=function(){return e.kpi["static"]?void 0:a["delete"](e.kpi).then(function(){return e.onDelete()})},e.isTriggered=function(){return null!=e.kpi.layout&&e.kpi.layout.triggered},e.isEditing=function(){return e.kpi.isEditing||e.editMode},e.getFormTargetValueInput=function(t,i){return e["kpi"+e.kpi.id+"SettingsForm"][t+"TargetValue"+i]},e.getTargets=function(t){return null!=e.kpi.targets&&e.kpi.targets[t]||[]},e.getTargetUnit=function(t){var i;return i=null!=e.kpi.data&&e.kpi.data[t].unit||e.getTargetPlaceholder(t).unit||"","currency"===i?a.getCurrentDashboard().currency:i},e.getTargetPlaceholder=function(t){return a.getKpiTargetPlaceholder(e.kpi.endpoint,t)},e.getRealValue=function(){var t,i,a;return t=e.kpi,_.isEmpty(t.data)?"":(a=t.data[t.watchables[0]].value,i=t.data[t.watchables[0]].unit,[a,i].join(" ").trim())},e.bindTargetInputPlaceholder=function(t,i){var a;return e[a=t+"TargetPlaceholder"+i]||(e[a]="")},e.setTargetInputPlaceholder=function(t,i){return e[t+"TargetPlaceholder"+i]=e.getTargetPlaceholder(t).value||""},e.resetTargetInputPlaceholder=function(t,i){return e[t+"TargetPlaceholder"+i]=""},e.onKeyPress=function(e){return 13===e.which?n.notifyCallbacks(s.kpiPressEnterButton):void 0}}]}}])}.call(this),function(){angular.module("impac.components.kpis-bar",[]).directive("kpisBar",["$templateCache","$q","$timeout","ImpacKpisSvc","ImpacDashboardsSvc","ImpacEvents","IMPAC_EVENTS",function(e,t,i,a,n,s,o){return{restrict:"E",scope:{kpis:"="},template:e.get("kpis-bar/kpis-bar.tmpl.html"),controller:["$scope","$log","$element",function(e,r,c){var l,d,g,m,p;return e.availableKpis={kpiSelectorHidden:!0,toggle:function(){return e.hasKpiAvailability()?e.availableKpis.kpiSelectorHidden=!e.availableKpis.kpiSelectorHidden:!1},list:[]},e.showKpisExpanded=!1,e.showEditMode=!1,e.isAddingKpi=!1,e.showContent=!0,a.load().then(function(){return g(),d()}),n.dashboardChanged().then(null,null,function(){return i(function(){return g(),d()})}),e.sortableOptions={stop:function(){var t;return t=_.pluck(e.kpis,"id"),a.updateKpisOrder(t)},cursorAt:{left:100,top:20},opacity:.5,delay:150,tolerance:"pointer",cursor:"move",revert:250,handle:".top-line",cancel:".unsortable",helper:"clone"},e.kpisDateRange={},e.kpiDatesDeferred=t.defer(),e.datesPickerDeferred=t.defer(),m=function(){return e.datesPickerDeferred.promise.then(function(t){return a.getKpisDateRange().then(function(t){return e.kpisDateRange.from=t.from,e.kpisDateRange.to=t.to,e.kpisDateRange.keepToday=t.keepToday})["finally"](function(){return e.kpiDatesDeferred.resolve(),t.initialize()})})},m(),n.dashboardChanged().then(null,null,function(e){return e?m():void 0}),s.registerCb(o.kpiPressEnterButton,function(){return e.toggleEditMode()}),e.addKpi=function(t){var i;if(!e.isAddingKpi)return e.isAddingKpi=!0,t.element_watched=t.watchables[0],i={},i.extra_watchables=_.filter(t.watchables,function(e){return e!==t.element_watched}),a.create(t.source||"impac",t.endpoint,t.element_watched,i).then(function(t){return e.kpis.push(t)},function(e){return r.error("Impac Kpis bar can't add a kpi",e)})["finally"](function(){return g(),e.isAddingKpi=!1})},e.removeKpi=function(t){return _.remove(e.kpis,function(e){return e.id===t}),g()},e.toggleEditModeLock=!1,e.toggleEditMode=function(){var t;if(!e.toggleEditModeLock)return e.toggleEditModeLock=!0,s.notifyCallbacks(o.kpisBarToggleSettings),p()&&!e.showEditMode?s.notifyCallbacks(o.kpisBarUpdateSettings):((t=e.showEditMode)&&s.notifyCallbacks(o.kpisBarUpdateSettings,t),e.showEditMode=!e.showEditMode),e.availableKpis.kpiSelectorHidden||e.showEditMode||e.availableKpis.toggle(),i(function(){return e.toggleEditModeLock=!1},450)},e.isEditing=function(){return e.showEditMode||p()},e.kpisBarUpdateDates=function(e){var t;if(_.isObject(e)&&!_.isEmpty(e))return t=n.getCurrentDashboard(),angular.merge(t.metadata,{kpis_hist_parameters:e}),n.update(t.id,{metadata:t.metadata}).then(function(){return s.notifyCallbacks(o.kpisBarUpdateDates)})},e.toggleShowContent=function(){return e.showContent=!e.showContent,l(),!0},e.hasKpiAvailability=function(){return e.availableKpis.list.length},p=function(){return _.includes(_.map(e.kpis,function(e){return e.isEditing}),!0)},g=function(){return e.availableKpis.list=_.select(a.getKpisTemplates(),function(t){return _.isEmpty(t.attachables)&&_.isEmpty(_.select(e.kpis,function(e){return e.endpoint===t.endpoint&&e.element_watched===t.watchables[0]}))}),_.isEmpty(e.availableKpis.list)?e.availableKpis.kpiSelectorHidden=!0:void 0},d=function(){return _.forEach(e.kpis,function(e){return a.buildKpiWatchables(e)})},l=function(){var e;return(e=angular.element(c).find(".kpis .content, .kpis .content-buttons"))?e.slideToggle(500):void 0}}]}}])}.call(this),function(){var e;e=angular.module("impac.components.widget",[]),e.controller("ImpacWidgetCtrl",["$scope","$log","$q","$timeout","ImpacWidgetsSvc","ImpacDashboardsSvc",function(e,t,i,a,n,s){var o;return o=e.widget||{},e.widgetDeferred=i.defer(),e.widgetDeferred.promise.then(function(a){return i.all(a).then(function(){return e.showWidget()},function(e){return o.isLoading=!1,t.error("widget "+o.id+" failed to render"),t.error(e)})}),e.showWidget=function(t){return null==t&&(t=!1),o.isLoading||(o.isLoading=!0),n.show(o,t).then(function(){return e.isAccessibility?(e.initialWidth=o.width,o.width=12):e.initialWidth?o.width=e.initialWidth:void 0})["finally"](function(){return o.isLoading=!1})},e.initSettings=function(){return n.initWidgetSettings(o)},e.updateSettings=function(e){return null==e&&(e=!0),n.updateWidgetSettings(o,e)},e.getColClass=function(){return"col-md-"+o.width},o.getCssClasses=function(){var t;return t=[e.getColClass()],e.pdfMode&&t.push("pdf-mode"),o.ticked||t.push("hidden-print"),t.join(" ")},s.pdfModeEnabled().then(null,null,function(){return e.pdfMode=!0,angular.isDefined(o.ticked)||(o.ticked=!0),e.widget.hasEditAbility=!1,e.initSettings()}),s.pdfModeCanceled().then(null,null,function(){return e.pdfMode=!1,e.widget.hasEditAbility=!0}),e.tick=function(){return o.ticked=!o.ticked,s.tick()}}]),e.directive("impacWidget",["$templateCache","ImpacUtilities",function(e,t){return{restrict:"A",scope:{parentDashboard:"=",widget:"=",isAccessibility:"=",onDisplayAlerts:"&"},controller:"ImpacWidgetCtrl",link:function(e){return e.widget.isLoading=!0,e.widget.settings=[],e.pdfMode=!1,e.widget.hasEditAbility=!0,e.widget.hasDeleteAbility=!0,e.cssClass=t.fetchWidgetCssClass(e.widget),e.templatePath=t.fetchWidgetTemplatePath(e.widget),e.showInfoPanel=!1,e.isInfoPanelDisplayed=function(){return e.showInfoPanel},e.toggleInfoPanel=function(){return e.showInfoPanel=!e.showInfoPanel},e.editTitle=!1,e.isTitleEdited=function(){return e.editTitle},e.toggleEditTitle=function(){return e.editTitle=!e.editTitle}},template:e.get("widget/widget.tmpl.html")}}])}.call(this),function(){angular.module("impac.filters.mno-currency",[]).filter("mnoCurrency",["$filter",function(e){return function(t,i,a){var n,s,o;return null==i&&(i=""),null==a&&(a=!0),n={USD:"$",AUD:"$",CAD:"$",CNY:"¥",EUR:"€",GBP:"£",HKD:"$",INR:"",JPY:"¥",NZD:"$",SGD:"$",PHP:"₱",AED:"",IDR:"Rp"},null==t?"":(o=!a&&_.has(n,i)?n[i]:"",s=e("currency")(t,o),s=s.replace("(","-"),s=s.replace(")",""),(i&&!i.match(/[A-Z]{3}/)||"%"===i||"(ratio)"===i)&&(s=s.replace(/,/g,""),"%"!==i&&"(ratio)"!==i)?parseInt(s):(a&&(s=s+" "+i),s))}}])}.call(this),function(){angular.module("impac.filters.url-helper",[]).filter("urlHelper",function(){return function(e,t){var i,a;if(e&&e.length)return i=function(){return e=[e,t.shift()].join("?"),e=[].concat.apply([],[e,t]).join("&")},a=function(){var e,a,n;for(a=0,e=[],n=Object.keys(t);a<n.length;)e.push(n[a]+"="+t[n[a]]),a++;return t=e,i()},Array.isArray(t)&&i(),"object"!=typeof t||Array.isArray(t)||a(),e}})}.call(this),function(){angular.module("impac.services.alerts",[]).service("ImpacAlerts",["$log","$q","$http","$httpParamSerializerJQLike","ImpacRoutes","ImpacMainSvc","ImpacEvents","IMPAC_EVENTS",function(e,t,i,a,n,s,o,r){var c;return c=this,this.config={},o.registerCb(r.impacNotificationsLoad,function(e){return c.getAlerts().then(function(t){return e(t)})}),this.getAlerts=function(){return i.get(n.kpis.alerts.index()).then(function(e){return e.data},function(t){return e.error("ImpacAlerts Service: cannot get alerts.",t),t})},this.create=function(e,t){return i.post(n.kpis.alerts.create(e),t)},this["delete"]=function(e){return i["delete"](n.kpis.alerts["delete"](e))},c}])}.call(this),function(){angular.module("impac.services.assets",[]).provider("ImpacAssets",function(){var e,t,i;return i=this,t={dataNotFound:"",defaultImagesPath:"/images",impacTitleLogo:":default/impac-title-logo.png",impacDashboardBackground:":default/impac-dashboard-background.png"},i.configure=function(e){return angular.extend(t,e),_.forIn(t,function(e,i){return t[i]=e.replace(":default",t.defaultImagesPath)})},e=function(){var e;return e=this,e.get=function(e){return t[e]},e},e.$inject=["$log"],i.$get=e,i})}.call(this),function(){angular.module("impac.services.chart-formatter",[]).service("ChartFormatterSvc",["ImpacTheming","$filter","$window","$document","ImpacDashboardsSvc",function(e,t,i,a,n){var s,o,r,c,l,d,g,m;o=this,s=e.get().chartColors,i.onblur=function(){return angular.element(a[0].getElementById("chartjs-tooltip")).remove()},this.getPositiveColor=function(){return s.positive},this.getNegativeColor=function(){return s.negative},this.getOthersColor=function(){return s.others},this.getColor=function(e){return s.array[e%s.array.length]},this.getLightenColor=function(e,t){var i;return i=s.array[e%s.array.length],i?m(i,t||.4):void 0},r=function(e){return e.replace(/#/,"")},d=function(e){return parseInt(r(e).substring(0,2),16)},l=function(e){return parseInt(r(e).substring(2,4),16)},c=function(e){return parseInt(r(e).substring(4,6),16)},g=function(e){return[d(e),l(e),c(e)].join(",")},m=function(e,t){return"rgba("+g(e)+","+t+")"},this.customTooltip=function(e){var t,i,a,n,s,o;return o=angular.element("#chartjs-tooltip"),o[0]||(angular.element("body").append('<div id="chartjs-tooltip"></div>'),o=angular.element("#chartjs-tooltip")),e.opacity?(o.removeClass("above below no-transform"),e.yAlign?o.addClass(e.yAlign):o.addClass("no-transform"),e.body&&(i=_.compact([(e.beforeTitle||[]).join("<br/>"),(e.title||[]).join("<br/>"),(e.afterTitle||[]).join("<br/>"),(e.beforeBody||[]).join("<br/>"),(e.body||[]).join("<br/>"),(e.afterBody||[]).join("<br/>"),(e.beforeFooter||[]).join("<br/>"),(e.footer||[]).join("<br/>"),(e.afterFooter||[]).join("<br/>")]),o.html(i.join("<br/>"))),t=angular.element(this._chart.canvas),n=t.offset(),t.bind("mouseleave",function(e){return"chartjs-tooltip"!==e.relatedTarget.id?o.remove():void 0}),o.bind("mouseleave",function(e){return"CANVAS"!==e.relatedTarget.tagName?o.remove():void 0}),o.css({"background-color":"#17262d",color:"white",opacity:1,transition:"opacity 0.5s, top 0.5s, left 0.5s",position:"absolute",width:null!=(s=e.width)?s:(a={},a[e.width+"px"]="auto",a),left:n.left+e.x+10+"px",top:n.top+e.y+10+"px",fontFamily:e._fontFamily,fontSize:e.fontSize,fontStyle:e._fontStyle,padding:e.yPadding+"px "+e.xPadding+"px","border-radius":"2px"})):(o.css({opacity:.5}),void 0)},angular.merge(Chart.defaults.global,{defaultColor:o.getColor(0),tooltips:{titleFontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",bodyFontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",footerFontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",enabled:!1,custom:o.customTooltip},elements:{point:{hitRadius:8,hoverRadius:8},line:{tension:0,borderWidth:2}},legend:{display:!1}}),angular.merge(Chart.defaults.scale,{ticks:{beginAtZero:!0,minRotation:0,fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif"},scaleLabel:{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif"}}),this.setTooltipsTextLayout=function(e,i){return null==i&&(i=!1),angular.merge(e,{tooltips:{callbacks:{title:function(e,t){var a;return i?(a=[t.labels[e[0].index]],t.datasets[e[0].datasetIndex].label&&a.push(t.datasets[e[0].datasetIndex].label),a.join(" | ")):t.labels[e[0].index]
},label:function(i,a){var s;return s=e.currency||n.getCurrentDashboard().currency,"hide"!==s?t("mnoCurrency")(a.datasets[i.datasetIndex].data[i.index],s):a.datasets[i.datasetIndex].data[i.index]}}}})},this.lineChart=function(e,t,i){var a,n,s;return null==t&&(t={}),null==i&&(i=!1),o.setTooltipsTextLayout(t,!0),a=0,n=1===e.length,s=!1,e[0].labels.length<2&&(s=!0,e[0].labels.push(e[0].labels[0])),(e.length>1||null!=t.pointDot&&!t.pointDot||s)&&angular.merge(t,{elements:{point:{radius:1e-4},line:{tension:.3}}}),{type:"line",options:t,data:{labels:e[0].labels,datasets:_.map(e,function(e){var t;return s&&e.values.push(e.values[0]),t=i?0===a?o.getNegativeColor():o.getPositiveColor():o.getColor(a),a++,{label:e.title,data:e.values,fill:n,backgroundColor:m(t,.3),borderColor:t,pointBorderColor:t,pointBackgroundColor:t,pointHoverBackgroundColor:"rgb(255,255,255)"}})}}},this.barChart=function(e,t,i){var a,n,s,r,c,l;for(null==t&&(t={}),null==i&&(i=!0),o.setTooltipsTextLayout(t),s=0,a=[],c=e.values,n=0,r=c.length;r>n;n++)l=c[n],i&&(e.values[s]=Math.abs(l)),a.push(o.getColor(s)),s++;return{type:"bar",options:t,data:{labels:e.labels,datasets:[{backgroundColor:a,data:e.values}]}}},this.combinedBarChart=function(e,t,i,a){var n,s;return null==t&&(t={}),null==i&&(i=!0),null==a&&(a=!1),o.setTooltipsTextLayout(t,!0),n=0,s={type:"bar",options:t,data:{labels:e.labels,datasets:_.map(e.datasets,function(e){var t,s,r,c,l;if(t=o.getColor(n),a&&(t=0===n?o.getNegativeColor():o.getPositiveColor()),n++,i)for(c=e.values,s=0,r=c.length;r>s;s++)l=c[s],l=Math.abs(l);return{label:e.title,data:e.values,backgroundColor:t}})}}},this.pieChart=function(e,t,i){var a,n,s,r,c,l,d;if(null==t&&(t={}),null==i&&(i=!1),o.setTooltipsTextLayout(t),r=0,a=[],i)for(a.push(o.getNegativeColor()),s=0,l=e.length;l>s;s++)n=e[s],0!==r&&a.push(o.getPositiveColor()),r++;else for(c=0,d=e.length;d>c;c++)n=e[c],a.push(o.getColor(r)),r++;return{type:"doughnut",options:t,data:{datasets:[{data:_.map(e,function(e){return Math.abs(e.value)}),backgroundColor:a}],labels:_.map(e,function(e){return e.label})}}}}])}.call(this),function(){angular.module("impac.services.dashboards",[]).service("ImpacDashboardsSvc",["$q","$http","$log","$timeout","ImpacMainSvc","ImpacRoutes","ImpacTheming","ImpacDeveloper","ImpacUtilities",function(e,t,i,a,n,s,o,r,c){var l,d,g,m,p;return l=this,this.config={},this.config.dashboards=[],this.getDashboards=function(){return l.config.dashboards},this.config.currentDashboard={},this.getCurrentDashboard=function(){return l.config.currentDashboard},this.config.widgetsTemplates=[],this.getWidgetsTemplates=function(){return l.config.widgetsTemplates},this.callbacks={},this.callbacks.dashboardChanged=e.defer(),this.dashboardChanged=function(){return l.callbacks.dashboardChanged.promise},this.callbacks.widgetAdded=e.defer(),this.widgetAdded=function(){return l.callbacks.widgetAdded.promise},this.callbacks.pdfModeEnabled=e.defer(),this.pdfModeEnabled=function(){return l.callbacks.pdfModeEnabled.promise},this.callbacks.pdfModeCanceled=e.defer(),this.pdfModeCanceled=function(){return l.callbacks.pdfModeCanceled.promise},this.togglePdfMode=function(e){return e?l.callbacks.pdfModeEnabled.notify():l.callbacks.pdfModeCanceled.notify()},this.callbacks.ticked=e.defer(),this.ticked=function(){return l.callbacks.ticked.promise},this.tick=function(){return l.callbacks.ticked.notify()},this.callbacks.dhbLoader=e.defer(),this.dhbLoader=function(){return l.callbacks.dhbLoader.promise},this.triggerDhbLoader=function(e){return null==e&&(e=!1),l.callbacks.dhbLoader.notify(e)},g=function(){return _.isEmpty(l.config.dashboards)||_.isEmpty(l.config.currentDashboard)},this.isThereADashboard=function(){return!_.isEmpty(l.config.currentDashboard)},this.areThereSeveralDashboards=function(){return l.config.dashboards.length>1},this.isCurrentDashboardEmpty=function(){return l.isThereADashboard()&&_.isEmpty(l.config.currentDashboard.widgets)},this.areKpisEnabled=function(){return o.get().dhbKpisConfig.enableKpis&&n.userIsKpiEnabled()},this.reload=function(t){var i;return null==t&&(t=!1),i=e.defer(),l.triggerDhbLoader(!0),l.load(t).then(function(){return i.resolve()},function(){return i.reject()})["finally"](function(){return l.triggerDhbLoader(!1)}),i.promise},this.loadLocked=!1,this.load=function(o){var r;return null==o&&(o=!1),r=e.defer(),l.loadLocked?(i.warn("Impac! - DashboardsSvc: Load locked. Trying again in 1s"),a(function(){return l.load(o).then(function(e){return r.resolve(e)},function(e){return r.reject(e)})},1e3)):(l.loadLocked=!0,g()||o?n.load(o).then(function(a){var n,c,d;return c=a.currentOrganization.id,n=t.get(s.dashboards.index(c)).then(function(e){return l.setDashboards(e.data).then(function(){return l.setCurrentDashboard()})},function(){return i.error("Impac! - DashboardsSvc: cannot retrieve dashboards list for org: "+c)}),d=t.get(p()).then(function(e){return l.setWidgetsTemplates(e.data.widgets)},function(){return i.error("Impac! - DashboardsSvc: cannot retrieve widgets templates",s.widgets.templates())}),e.all([n,d]).then(function(){return i.info("Impac! - DashboardsSvc: loaded (force="+o+")"),r.resolve(l.config)},function(){return r.reject(error)})["finally"](function(){return l.loadLocked=!1})},function(e){return i.error("Impac! - DashboardsSvc: cannot retrieve current organization"),l.loadLocked=!1,r.reject(e)}):(l.loadLocked=!1,r.resolve(l.config))),r.promise},p=function(){var e;return o.get().dhbWidgetsConfig.templates.defaultToFinancialYear?(e=n.getFinancialYearEndMonth(),s.widgets.templates()+"?financial_year_end_month="+e):s.widgets.templates()},m=function(){return null!=l.config.dashboards&&l.config.dashboards.length>0?(i.info("Impac! - DashboardsSvc: first dashboard set as current by default"),n.override(l.config.currentDashboard,l.config.dashboards[0]),l.initializeActiveTabs(),l.callbacks.dashboardChanged.notify(l.config.currentDashboard),!0):(i.warn("Impac! - DashboardsSvc: cannot set default current dashboard"),n.override(l.config.currentDashboard,{}),l.callbacks.dashboardChanged.notify(!1),!1)},this.setCurrentDashboard=function(e){var t;return null==e&&(e=null),null!=e?(t=_.find(l.config.dashboards,function(t){return e===t.id}),_.isEmpty(t)?(i.error("Impac! - DashboardsSvc: Dashboard "+e+" not found in dashboards list"),m()):(n.override(l.config.currentDashboard,t),l.initializeActiveTabs(),l.callbacks.dashboardChanged.notify(l.config.currentDashboard),!0)):m()},d=function(e,t){return _.includes(_.pluck(e.data_sources,"id"),t.id)},this.setDashboards=function(e){return null==e&&(e=[]),n.loadOrganizations().then(function(t){var i,a,n,s,o;for(i=t.currentOrganization,_.remove(l.config.dashboards,function(){return!0}),o=[],n=0,s=e.length;s>n;n++)a=e[n],d(a,i)?o.push(l.config.dashboards.push(a)):o.push(void 0);return o},function(){return i.error("Impac! - DashboardsSvc: Cannot load user's organizations")})},this.setWidgetsTemplates=function(e){var t,i,a,n;if(_.isEmpty(e))return!1;for(r.isEnabled()&&(e=r.stubWidgetsTemplates(e)),t=l.config.widgetsTemplates,t.length=0,i=0,a=e.length;a>i;i++)n=e[i],c.fetchWidgetTemplatePath(n)&&t.push(n);return t},this.initializeActiveTabs=function(){var e,t,i,a,n;for(a=l.config.dashboards,n=[],t=0,i=a.length;i>t;t++)e=a[t],n.push(_.merge(e,{active:l.config.currentDashboard.id===e.id}));return n},this.create=function(a){return l.load().then(function(){var o,r,c;return r=e.defer(),c=n.config.currentOrganization,null==a.currency&&(a.currency=c.currency||"USD"),o={dashboard:a},t.post(s.dashboards.create(c.id),o).then(function(e){return l.config.dashboards.push(e.data),l.setCurrentDashboard(e.data.id),r.resolve(e.data)},function(e){return i.error("Impac! - DashboardsSvc: Cannot create dashboard with parameters: "+angular.toJson(a),e),r.reject(e)}),r.promise})},this["delete"]=function(a){var n;return n=e.defer(),t["delete"](s.dashboards["delete"](a)).then(function(e){return _.remove(l.config.dashboards,function(e){return a===e.id}),l.setCurrentDashboard(),n.resolve(e)},function(e){return i.error("Impac! - DashboardsSvc: Cannot delete dashboard: "+a),n.reject(e)}),n.promise},this.update=function(a,n){var o,r;return r=e.defer(),o={dashboard:n},t.put(s.dashboards.update(a),o).then(function(e){return angular.merge(_.find(l.config.dashboards,function(e){return a===e.id}),e.data),a===l.config.currentDashboard.id&&angular.merge(l.config.currentDashboard,e.data),r.resolve(e.data)},function(e){return i.error("Impac! - DashboardsSvc: Cannot update dashboard: "+a+" with parameters: "+angular.toJson(n)),r.reject(e)}),r.promise},l}])}.call(this),function(){angular.module("impac.services.developer",[]).provider("ImpacDeveloper",function(){var e,t,i;return i=this,t={status:!1,widgetsTemplates:[]},i.configure=function(e){return angular.extend(t,e)},e=function(e){var i,a;return i={endpoint:"endpoint"},a=this,a.isEnabled=function(){return t.status},a.stubWidgetsTemplates=function(e){return e.concat(t.widgetsTemplates)},a.findTemplate=function(e,a,n){var s;return null==a&&(a=["endpoint","metadata"]),null==n&&(n=["template"]),s=_.mapKeys(e,function(e,t){return null!=i[t]?i[t]:t}),s.metadata&&(s.metadata=_.pick(s.metadata,n)),_.find(t.widgetsTemplates,function(e){return _.isEqual(_.pick(s,a),_.pick(e,a))})},a.isWidgetStubbed=function(e){return!_.isEmpty(a.findTemplate(e))},a.createWidgetStub=function(t,i){var n;return n=angular.copy(a.findTemplate(t)),e.resolve({data:{id:Math.random().toString(36).substr(2,9)+"-stubbed",name:n.name,endpoint:n.endpoint,width:n.width,metadata:angular.merge(n.metadata,{organization_ids:_.map(i.data_sources,function(e){return e.uid}),currency:i.currency})}})},a.updateWidgetStub=function(t,i){var n;return n=angular.copy(a.findTemplate(t)),angular.merge(i.metadata,n.metadata),e.resolve({data:i})},a.deleteWidgetStub=function(){return e.resolve({success:!0})},a},e.$inject=["$q"],i.$get=e,i})}.call(this),function(){angular.module("impac.services.events",[]).service("ImpacEvents",["$log",function(e){var t,i;return t=this,i={},this.registerCb=function(t,a){return _.isFunction(a)?_.isString(t)?(i[t]||(i[t]=[]),i[t].push(a)):e.warn("Event must be a string"):e.warn("Callback must be a Function")},this.notifyCallbacks=function(t,a){return null==a&&(a=null),i[t]?_.forEach(i[t],function(e){return e(a)}):e.warn("No observableCallbacks event named '"+t+"' found.")},this.deregisterCb=function(e,t){return _.remove(i[e],function(e){return t===e}),_.isEmpty(i[e])?delete i[e]:void 0},this.unsubscribe=function(e){return delete i[e]},t}])}.call(this),function(){angular.module("impac.services.kpis",[]).service("ImpacKpisSvc",["$log","$http","$filter","$q","$timeout","ImpacRoutes","ImpacMainSvc","ImpacDashboardsSvc","ImpacDeveloper","ImpacAlerts","ImpacEvents","IMPAC_EVENTS","ImpacUtilities",function(e,t,i,a,n,s,o,r,c,l,d,g,m){var p,u,h;return p=this,this.getSsoSessionId=o.getSsoSessionId,this.getCurrentDashboard=r.getCurrentDashboard,this.config={kpisTemplates:[]},this.getKpisTemplates=function(){return p.config.kpisTemplates},this.getKpiTemplate=function(e,t){return _.find(p.getKpisTemplates(),function(i){return i.endpoint===e&&i.watchables[0]===t})},this.getAttachableKpis=function(e){var t;return t=a.defer(),p.load().then(function(){var i;return i=_.select(p.getKpisTemplates(),function(t){return _.isArray(t.attachables)?_.includes(t.attachables,e):!1}),t.resolve(i)}),t.promise},this.getKpisDateRange=function(){return p.load().then(function(){var e;return e=p.getCurrentDashboard().metadata.kpis_hist_parameters,!_.isEmpty(e)&&_.isObject(e)?e:o.load().then(function(e){var t,i;return i=parseInt(e.currentOrganization.financial_year_end_month)||6,t=m.financialYearDates(i),{from:moment(t.end,"YYYY-MM-DD").subtract(1,"year").format("YYYY-MM-DD"),to:moment().format("YYYY-MM-DD"),keepToday:!0}})})},d.registerCb(g.kpiTargetAlert,function(){return p.refreshAll(!0)}),u=function(e,t,i,a){var n,s;return n=[e,t,i].join("/"),s=[n,decodeURIComponent($.param(a))].join("?")},this.locked=!1,this.load=function(i){return null==i&&(i=!1),p.locked?(e.warn("Impac! - KpisSvc: Load locked. Trying again in 1s"),n(function(){return p.load(i)},1e3)):(p.locked=!0,a.all([o.loadUserData(i),r.load(i)]).then(function(n){var o,r,c,l;return _.isEmpty(p.getKpisTemplates())||i?(_.remove(p.config.kpisTemplates,function(){return!0}),o=_.pluck(p.getCurrentDashboard().data_sources,"uid"),l=n[0].sso_session,r={metadata:{organization_ids:o}},l&&(r.sso_session=l),c={impac:h(r)},s.kpis.local()&&(c.local=t.get(s.kpis.local())),a.all(c).then(function(t){var a,n,s,o,r,c,l;if(null!=t.impac&&null!=t.impac.data&&!_.isEmpty(t.impac.data.kpis))for(r=t.impac.data.kpis,a=0,s=r.length;s>a;a++)l=r[a],l.source||(l.source="impac"),p.config.kpisTemplates.push(l);if(t.local&&null!=t.local.data&&!_.isEmpty(t.local.data.kpis))for(c=t.local.data.kpis,n=0,o=c.length;o>n;n++)l=c[n],l.source="local",p.config.kpisTemplates.push(l);return e.info("Impac! - KpisSvc: loaded (force="+i+")")},function(t){return e.error("Impac! - KpisSvc: Cannot retrieve kpis templates list",t),a.reject(t)})["finally"](function(){return p.locked=!1})):(p.locked=!1,a.resolve())})["finally"](function(){return p.locked=!1}))},this.massAssignAll=function(t){return p.load().then(function(){var i,a,n,s,o;for(s=p.getCurrentDashboard().kpis,o=[],i=0,n=s.length;n>i;i++)a=s[i],o.push(p.update(a,{metadata:t}).then(function(){return p.show(a).then(function(){},function(t){return e.error("Unable to refresh all Kpis: "+t)})}));return o})},this.isRefreshing=!1,this.refreshAll=function(){return p.isRefreshing?void 0:(p.isRefreshing=!0,p.load().then(function(){var t,i,a,n,s;for(n=p.getCurrentDashboard().kpis,s=[],t=0,a=n.length;a>t;t++)i=n[t],s.push(p.show(i).then(function(){},function(t){return e.error("Unable to refresh all Kpis: "+t)}));return s})["finally"](function(){return n(function(){return p.isRefreshing=!1},3e3)}))},this.validateKpiTarget=function(e){return e.limit&&e.limit.value&&e.limit.mode},this.validateKpiTargets=function(e){return _.isEmpty(e)?!1:_.every(e,function(e){return!_.isEmpty(e)&&_.every(e,function(e){return e.min||e.max})})},this.formatKpiName=function(e){var t;return t=_.find(p.getKpisTemplates(),function(t){return t.endpoint===e}),angular.copy(t.name)},this.formatKpiTarget=function(e,t,a){var n,s;return null==a&&(a=[]),e&&t?(s=_.keys(e)[0],n=_.find(a,function(e){return e.mode===s})||{},(n.label||s)+" "+i("mnoCurrency")(e[s],t,!1)):""},this.updateKpisOrder=function(e){var t,i;return t=p.getCurrentDashboard().id,i={metadata:{kpis_order:e}},r.update(t,i)},this.getKpiTargetPlaceholder=function(e,t){var i;return i=p.getKpiTemplate(e,t),null!=i&&null!=i.target_placeholders&&i.target_placeholders[t]||{}},this.buildKpiWatchables=function(e){return e.element_watched?e.watchables=[e.element_watched].concat(e.extra_watchables||[]):void 0},h=function(e){var i,a;return i=s.kpis.index(),a=[i,decodeURIComponent($.param(e))].join("?"),t.get(a)},this.show=function(i){return i.isLoading=!0,p.load().then(function(){var n,r;return n=o.getFinancialYearEndMonth(),r={opts:{financial_year_end_month:n}},p.getSsoSessionId()&&(r.sso_session=p.getSsoSessionId()),null!=i.targets&&(r.targets=i.targets),null!=i.settings&&(r.metadata=i.settings),null!=i.extra_params&&(r.extra_params=i.extra_params),null!=i.extra_watchables&&(r.extra_watchables=i.extra_watchables),p.getKpisDateRange().then(function(n){var o,c;switch(angular.extend(r.metadata,{hist_parameters:{from:n.from,to:n.to,period:"MONTHLY"}}),i.source){case"impac":o=s.kpis.show(p.getCurrentDashboard().id,i.id);break;case"local":o=s.kpis.local()}return c=u(o,i.endpoint,i.element_watched,r),t.get(c).then(function(e){var t,a,n;return e.data.error&&422===e.data.error.code?(i.isDraft=!0,!1):(t=e.data.kpi,i.data=t.calculation,n=t.configuration||{},a=_.select(["targets","extra_params"],function(e){return null==i[e]&&null!=n[e]}),angular.extend(i,_.pick(n,a)),i.layout=t.layout,i)},function(t){return e.error("Impac! - KpisSvc: Could not retrieve KPI (show) at: "+i.endpoint,t),a.reject(t)})})},function(){return e.error("Impac! - KpisSvc: Service not initialized"),a.reject({error:{message:"Impac! - KpisSvc: Service is not initialized"}})})["finally"](function(){return i.isLoading=!1})},this.create=function(i,n,o,r){return null==r&&(r={}),p.load().then(function(){var c,l;return c={source:i,endpoint:n,element_watched:o,metadata:{currency:p.getCurrentDashboard().currency}},angular.extend(c,r),l=s.kpis.create(p.getCurrentDashboard().id),t.post(l,{kpi:c}).then(function(e){var t;return d.notifyCallbacks(g.addOrRemoveAlerts),t=e.data,p.buildKpiWatchables(t),t},function(t){return e.error("Impac! - KpisSvc: Unable to create kpi endpoint="+n,t),a.reject(t)})},function(){return a.reject({error:{message:"Impac! - KpisSvc: Service is not initialized"}})})},this.update=function(i,n){return i.isLoading=!0,p.load().then(function(){var o,r;return o={},null!=n.name&&(o.name=n.name),null!=n.metadata&&(o.settings=n.metadata),null!=n.targets&&(o.targets=n.targets),null!=n.extra_params&&(o.extra_params=n.extra_params),r=s.kpis.update(p.getCurrentDashboard().id,i.id),_.isEmpty(o)?void 0:t.put(r,{kpi:n}).then(function(e){return d.notifyCallbacks(g.addOrRemoveAlerts),angular.extend(i,e.data),p.buildKpiWatchables(i),p.show(i)},function(t){return e.error("Impac! - KpisSvc: Unable to update KPI "+i.id,t),a.reject(t)})})["finally"](function(){return i.isLoading=!1,i.isDraft=!1})},this["delete"]=function(i){return p.load().then(function(){var n;return n=s.kpis["delete"](p.getCurrentDashboard().id,i.id),t["delete"](n).then(function(e){return d.notifyCallbacks(g.addOrRemoveAlerts),e},function(t){return e.error("Impac! KpisSvc: Unable to delete KPI "+i.id,t),a.reject(t)})})},this.saveAlerts=function(e,t){var i,n,s,o,r,c,m,p;for(n=_.filter(t,function(t){return t.active&&!_.includes(_.map(e.alerts,function(e){return e.service}),t.service)}),s=_.filter(e.alerts,function(e){return!t[e.service].active}),p=[],o=0,c=n.length;c>o;o++)i=n[o],p.push(l.create(e.id,{alert:_.pick(i,["service"])}));for(r=0,m=s.length;m>r;r++)i=s[r],p.push(l["delete"](i.id));return a.all(p).then(function(t){var i,a,n;for(e.alerts||(e.alerts={}),i=0,a=t.length;a>i;i++)n=t[i],n.data.deleted?_.remove(e.alerts,function(e){return e.service===n.data.deleted.service}):e.alerts.push(n.data);return d.notifyCallbacks(g.addOrRemoveAlerts)})},this}])}.call(this),function(){angular.module("impac.services.linking",[]).provider("ImpacLinking",function(){var e,t,i,a;return i=this,a={user:null,organizations:null},t={pusher_key:""},i.linkData=function(e){var t,n,s;for(t in a){if(s=a[t],n=e[t],null==n)throw new Error("impac-angular linking.svc: Missing core data ("+t+") to run impac-angular.");if("function"!=typeof n)throw new TypeError("impac-angular linking.svc: "+t+" should be a Function.");a[t]=n}return i.linkOptionalData(e,!1),!0},i.linkOptionalData=function(e,i){var a,n,s,o;null==i&&(i=!0),o={pusher_key:", Alerts are disabled!"};for(a in t)s=t[a],n=e[a],null==n?console.warn("impac-angular linking.svc: No "+a+" is configured"+o[a]||""):(t[a]=n,i&&console.log("impac-angular linking.svc: "+a+" successfully configured"));return!0},e=function(e){var i;return i=this,i.getUserData=function(){return a.user().then(function(e){return e},function(t){return e.reject(t)})},i.getOrganizations=function(){return a.organizations().then(function(e){return e},function(t){return e.reject(t)})},i.getPusherKey=function(){return t.pusher_key},i},e.$inject=["$q"],i.$get=e,i})}.call(this),function(){angular.module("impac.services.main",[]).service("ImpacMainSvc",["$q","$log","$timeout","ImpacLinking","ImpacNotifications",function(e,t,i,a,n){var s,o,r,c;return s=this,this.config={organizations:[],currentOrganization:{},userData:{},currencies:["USD","AUD","CAD","CNY","EUR","GBP","HKD","INR","JPY","NZD","SGD","PHP","AED","IDR"]},this.getSsoSessionId=function(){return s.config.userData.sso_session},this.getFinancialYearEndMonth=function(){return parseInt(s.config.currentOrganization.financial_year_end_month)},this.userIsKpiEnabled=function(){return s.config.userData.kpi_enabled},this.callbacks={},this.callbacks.organizationChanged=e.defer(),this.organizationChanged=function(){return s.callbacks.organizationChanged.promise},o=function(){return!(_.isEmpty(s.config.organizations)||_.isEmpty(s.config.currentOrganization||_.isEmpty(s.config.userData)))},this.load=function(i){var a;return null==i&&(i=!1),a=e.defer(),!o()||i?e.all([s.loadOrganizations(i),s.loadUserData(i)]).then(function(){return n.load(),a.resolve(s.config),t.info("Impac! - MainSvc: loaded (force="+i+")")},function(e){return t.error("Impac! - MainSvc: failed to load configuration"),a.reject(e)}):a.resolve(s.config),a.promise},this.loadOrganizations=function(i){var n;return null==i&&(i=!1),n=e.defer(),_.isEmpty(s.config.organizations)||_.isEmpty(s.config.currentOrganization)||i?(s.config.organizations=[],s.config.currentOrganization={},a.getOrganizations().then(function(e){return null!=e.organizations&&e.organizations.length>0?(s.config.organizations=e.organizations,s.setCurrentOrganization(e.currentOrgId),t.info("Impac! - MainSvc: Organizations loaded (force="+i+")")):t.info("Impac! - MainSvc: retrieved empty organizations list"),n.resolve(s.config)},function(e){return t.error("Impac! - MainSvc: cannot load organizations"),n.reject(e)})):n.resolve(s.config),n.promise},r=function(){return null!=s.config.organizations&&s.config.organizations.length>0?(s.config.currentOrganization=s.config.organizations[0],t.info("Impac! - MainSvc: first organization set as current by default"),s.callbacks.organizationChanged.notify(s.config.currentOrganization),!0):(t.error("Impac! - MainSvc: cannot set default current organization"),s.config.currentOrganization={},s.callbacks.organizationChanged.notify(!1),{error:{code:400,message:"cannot set default current organization"}})},this.setCurrentOrganization=function(e){var i;return null==e&&(e=null),null!=e?(i=_.find(s.config.organizations,function(t){return e===t.id}),_.isEmpty(i)?(t.error("Impac! - MainSvc: organization: "+e+" not found in organizations list"),r()):(s.config.currentOrganization=i,s.callbacks.organizationChanged.notify(s.config.currentOrganization),!0)):r()},c=!1,this.loadUserData=function(n){var o;return null==n&&(n=!1),o=e.defer(),c?(t.warn("Impac! - MainSvc: User data load locked. Trying again in 1s"),i(function(){return s.loadUserData(n).then(function(e){return o.resolve(e)},function(e){return o.reject(e)})},1e3)):(c=!0,_.isEmpty(s.config.userData)||n?(s.config.userData={},a.getUserData().then(function(e){return angular.extend(s.config.userData,e),t.info("Impac! - MainSvc: User data loaded (force="+n+") with sso_session "+s.config.userData.sso_session),o.resolve(s.config.userData)},function(e){return t.error("Impac! - MainSvc: cannot retrieve user data"),o.reject(e)})["finally"](function(){return c=!1})):(c=!1,o.resolve(s.config.userData))),o.promise},this.override=function(e,t){var i,a;for(i in e)a=e[i],delete e[i];for(i in t)a=t[i],e[i]=a;return e},s}])}.call(this),function(){angular.module("impac.services.message-bus",[]).service("MsgBus",function(){var e;e={dashboardGrid:{},controlBarFilter:{},controlBarQuickFilter:{},orgaSharingModal:{},appConnectModal:{},page:{},pane:{},errors:[],autostopQueue:[],notificationQueue:[],params:{}},this.publish=function(t,i){return e[t]=i},this.subscribe=function(t){return function(){return e[t]}}})}.call(this),function(){angular.module("impac.services.notifications",[]).service("ImpacNotifications",["$log","Pusher","ImpacTheming","ImpacEvents","IMPAC_EVENTS","toastr",function(e,t,i,a,n,s){var o,r;return r=this,a.registerCb(n.addOrRemoveAlerts,function(){return r.load()}),o={kpi_target_alert:function(e){var t;return t=e.data,s.warning(t.subject),a.notifyCallbacks(n.kpiTargetAlert,t)}},this.load=function(){return i.get().alertsConfig.enableAlerts?a.notifyCallbacks(n.impacNotificationsLoad,function(e){var i,a,n,s,r,c,l,d,g,m,p;for(d=t.init(),g=_.map(e,function(e){return"inapp"===e.service&&_.has(e.metadata,"pusher")?_.pick(e.metadata,["pusher"]):null}),g=_.uniq(_.compact(g)),n=_.uniq(_.map(g,function(e){return e.pusher.channel})),m=d.socket.allChannels(),s=0,c=m.length;c>s;s++)i=m[s],n.indexOf(i)<0?d.disconnectChannel(i.name):d.unbindAll(i.name);for(p=[],r=0,l=g.length;l>r;r++)a=g[r],p.push(d.bind(a.pusher.channel,a.pusher.event,o[a.pusher.event]));return p}):void 0},r}])}.call(this),function(){angular.module("impac.services.pusher",[]).service("Pusher",["$window","ImpacLinking",function(e,t){var i;return i=this,this.config={pusherOpts:{encrypted:!0}},this.init=function(a){return null==a&&(a=[]),i.socket||(i.socket=new e.Pusher(t.getPusherKey(),i.config.pusherOpts)),_.forEach(a,function(e){return i.socket.subscribe(e)}),i},this.bind=function(e,t,a){return i.socket||i.init(),i.socket.channel(e)||i.socket.subscribe(e),i.socket.channel(e).bind(t,a)},this.bindAll=function(e,t){return i.socket||i.init(),_.forEach(i.socket.allChannels(),function(i){return i.bind(e,t)})},this.unbind=function(e,t){return i.socket&&i.socket.channel(e)?i.socket.channel(e).unbind(t):void 0},this.unbindAll=function(e){return i.socket&&i.socket.channel(e)?i.socket.channel(e).unbind():void 0},this.disconnectChannel=function(e){return i.socket?i.socket.unsubscribe(e):void 0},i}])}.call(this),function(){angular.module("impac.services.routes",[]).provider("ImpacRoutes",function(){var e,t,i;return i=this,t={mnoHub:"http://localhost:7000/mnoe/jpi/v1",impacApi:"http://localhost:4000/api",dashboards:{index:null,show:null,create:null,update:null,del:null},widgets:{index:null,show:null,create:null,update:null,del:null,suggest:null},kpis:{index:null,show:null,create:null,update:null,del:null,local:null},alerts:{index:null,create:null,del:null},organizations:{appInstancesSync:null}},i.configureRoutes=function(e){return angular.extend(t,e)},e=function(){var e;return e=this,e.dashboards={index:function(e){return null==e&&(e=null),t.dashboards.index?t.dashboards.index.replace(":organization_id",e):t.mnoHub+"/impac/dashboards"},create:function(i){return null==i&&(i=null),t.dashboards.create?t.dashboards.create.replace(":organization_id",i):e.dashboards.index(i)},show:function(e){return t.dashboards.show?t.dashboards.show.replace(":id",e):t.mnoHub+"/impac/dashboards/"+e},update:function(i){return t.dashboards.update?t.dashboards.update.replace(":id",i):e.dashboards.show(i)},"delete":function(i){return t.dashboards.del?t.dashboards.del.replace(":id",i):e.dashboards.show(i)}},e.widgets={index:function(e){return t.widgets.index?t.widgets.index.replace(":dashboard_id",e):t.mnoHub+"/impac/widgets"},show:function(e,i,a){return t.widgets.show?t.widgets.show.replace(":endpoint",e).replace(":dashboard_id",i).replace(":id",a):t.impacApi+"/v1/widgets/"+e},create:function(i){return t.widgets.create?t.widgets.create.replace(":dashboard_id",i):e.dashboards.show(i)+"/widgets"},update:function(i,a){return t.widgets.update?t.widgets.update.replace(":dashboard_id",i).replace(":id",a):e.widgets.index(i)+"/"+a},"delete":function(i,a){return t.widgets.del?t.widgets.del.replace(":dashboard_id",i).replace(":id",a):e.widgets.index(i)+"/"+a},suggest:function(){return t.widgets.suggest},templates:function(){return t.impacApi+"/v1/widgets"}},e.kpis={index:function(e){return t.kpis.index?t.kpis.index.replace(":dashboard_id",e):t.impacApi+"/v2/kpis"},show:function(e,i){return t.kpis.show?t.kpis.show.replace(":dashboard_id",e).replace(":id",i):t.impacApi+"/v2/kpis"},create:function(i){return t.kpis.create?t.kpis.create.replace(":dashboard_id",i):e.dashboards.show(i)+"/kpis"},update:function(e,i){return t.kpis.update?t.kpis.update.replace(":dashboard_id",e).replace(":id",i):t.mnoHub+"/impac/kpis/"+i},"delete":function(e,i){return t.kpis.del?t.kpis.del.replace(":dashboard_id",e).replace(":id",i):t.mnoHub+"/impac/kpis/"+i},local:function(){return t.kpis.local},alerts:{index:function(){return t.alerts.index?t.alerts.index:t.mnoHub+"/impac/alerts"},create:function(e){return t.alerts.create?t.alerts.create.replace(":kpi_id",e):t.mnoHub+"/impac/kpis/"+e+"/alerts"},"delete":function(e){return t.alerts.del?t.alerts.del.replace(":id",e):t.mnoHub+"/impac/alerts/"+e}}},e.organizations={appInstancesSync:function(e){return t.organizations.appInstancesSync?t.organizations.appInstancesSync.replace(":uid",e):t.mnoHub+"/organizations/"+e+"/app_instances_sync"}},e},e.$inject=[],i.$get=e,i})}.call(this),function(){angular.module("impac.services.theming",[]).provider("ImpacTheming",function(){var e,t,i;return i=this,t={chartColors:{positive:"#3FC4FF",negative:"#1DE9B6",array:["#1de9b6","#7c4dff","#ffc928","#3fc4ff","#ff8e01","#c6ff00","#d500fa","#ff6e41","#ffeb3c","#ff1844"]},dhbConfig:{showDhbHeading:!1,dhbHeadingText:"Impac!"},dhbSelectorConfig:{selectorType:"dropdown",customTmplPath:null,accessibilityEnabled:!1,addWidgetEnabled:!0,addDhbEnabled:!0,deleteDhbEnabled:!0,pdfModeEnabled:!1},dhbWidgetsConfig:{templates:{defaultToFinancialYear:!0}},dhbKpisConfig:{enableKpis:!0,parentElementId:""},alertsConfig:{enableAlerts:!0},dataNotFoundConfig:{mainMessage:"impac.data_not_found_config.main_message",linkMessage:"impac.data_not_found_config.link_message",linkUrl:"/apps",linkTarget:"_blank",linkUrlCallback:null},dhbErrorsConfig:{firstTimeCreated:{first:"impac.widget.common.error_config.first_time_created.first",second:"impac.widget.common.error_config.first_time_created.second",note:"impac.widget.common.error_config.first_time_created.note"},empty:{first:"impac.widget.common.error_config.empty.first",second:"impac.widget.common.error_config.empty.second"},failed:{first:"impac.widget.common.error_config.failed.first",second:"impac.widget.common.error_config.failed.second"}},dhbSubMenuConfig:{myobMessage:{show:!0,appLink:{show:!0,url:"#/marketplace",text:"impac.widget.common.sub_menu_config.check_this_app"}}},widgetSelectorConfig:{path:null},addChartTile:{show:!1,onClickOptions:{triggers:[]}},showNoWidgetMsg:{show:!0},dhbSettings:{inWidgetsContainer:!1,syncApps:{show:function(){return!0},productDescriptor:"Impac!"},currency:{locked:!1}},widgetSettings:{histModeChoser:{currentLabels:{pnl:"impac.widget.theming.hist.pnl",bls:"impac.widget.theming.hist.bls","default":"impac.widget.theming.hist.default"},todayPrefixes:{bls:"impac.widget.theming.hist.bls.live"}},timePeriod:{showSlider:!0}},translateSettings:{preferredLanguage:"en-gb",fallbackLanguage:"zh-HK",customLocaleFiles:{prefix:"",suffix:".json"}}},i.configure=function(e){return angular.merge(t,e)},e=function(){var e;return e=this,e.get=function(){return t},e},e.$inject=[],i.$get=e,i})}.call(this),function(){angular.module("impac.services.utilities",[]).service("ImpacUtilities",["$window","$templateCache",function(e,t){var i,a,n;i=e._,n=e.moment,a=this,this.getDatesRange=function(e,t){var a,s;return null==t&&(t=!1),e&&e.length?(t||(e=e.concat([],n().toDate())),s=i.min(i.map(e,function(e){return n(e)})),a=i.max(i.map(e,function(e){return n(e)})),[s.startOf("day").toDate(),a.startOf("day").toDate()]):[]},this.getPeriodWord=function(e){if(!angular.isDefined(e))return"";switch(e.toLowerCase().slice(0,1)){case"d":return"day";case"w":return"week";case"m":return"month";case"q":return"quarter";case"y":return"year";case"f":return"financial year"}},this.formatPeriod=function(e,t){var i,n;return null==e&&(e=""),null==t&&(t=""),e>1&&(i=""+e,n=a.getPeriodWord(t)+"s"),[i,n].join(" ")},this.selectedTimeRange=function(e){var t,i,s,o,r,c;return r=n().format("YYYY-MM-DD"),t=n().startOf("year").format("YYYY-MM-DD"),e&&(e.to&&(r=e.to),e.from?t=e.from:e.time_range&&(i=e.time_range.match(/\d/g)&&parseInt(e.time_range.match(/\d/g).join("")),s=e.time_range.match(/[a-z]/)&&e.time_range.match(/[a-z]/)[0],c=a.getPeriodWord(s),t="w"===s?n().subtract(i,c).startOf("isoweek").format("YYYY-MM-DD"):n().subtract(i,c).startOf(c).format("YYYY-MM-DD"))),o={from:t,to:r}},this.financialYearDates=function(e){var t,i,a,s;return s=n().year()-1,n().month()>=e&&(s=n().year()),a=n(s+"-"+(e+1)+"-01","YYYY-MM-DD"),t=angular.copy(a).add(1,"year").subtract(1,"day"),i={start:a.format("YYYY-MM-DD"),end:t.format("YYYY-MM-DD")}
},this.processRailsError=function(e){var t;return t=[],e.status&&401===e.status?t.push("Sorry! You are not authorized to perform this action"):e.data&&" "!==e.data?angular.isArray(e.data)?i.each(e.data,function(e){var i;return i=e.charAt(0).toUpperCase()+e.slice(1),t.push(""+i)}):angular.isObject(e.data)?i.each(e.data,function(e,a){var n;return n=(a.charAt(0).toUpperCase()+a.slice(1)).replace("_"," "),angular.isArray(e)?i.each(e,function(e){return n.match(/base/i)?t.push(e):t.push(n+" "+e)}):n.match(/base/i)?t.push(e):t.push(n+" "+e)}):angular.isString(e.data)?t.push(e.data):t.push("Potentially a system or communication error. Please retry later."):t.push("Potentially a system or communication error. Please retry later."),t},this.fetchWidgetCssClass=function(e){var t,i;return(t=e.metadata&&e.metadata.template||e.endpoint)?(i=t.split("/").slice(0,2),i.join("-").replace(/_/g,"-")):!1},this.fetchWidgetTemplatePath=function(e){var i,n;return(i=a.fetchWidgetCssClass(e))?(n="widgets/"+i+".tmpl.html",t.get(n)&&n):!1}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("impac.services.widgets",[]).service("ImpacWidgetsSvc",["$q","$http","$log","$timeout","ImpacRoutes","ImpacMainSvc","ImpacDashboardsSvc","ImpacDeveloper","ImpacEvents","IMPAC_EVENTS",function(t,i,a,n,s,o,r,c,l,d){var g,m;return g=this,this.getSsoSessionId=o.getSsoSessionId,l.registerCb(d.kpiTargetAlert,function(){return g.refreshAll(!0)}),this.load=function(e){return null==e&&(e=!1),null==g.getSsoSessionId()||e?t.all([o.loadUserData(e),r.load(e)]):t.resolve()},m=function(e){var t;return t=r.getCurrentDashboard(),_.isEmpty(t)||_.isEmpty(t.widgets)?!1:_.contains(_.pluck(t.widgets,"id"),e)},this.initWidgetSettings=function(e){var t,i,a,n;if(e.isEditMode=!1,!_.isEmpty(e.settings)){for(a=e.settings,t=0,i=a.length;i>t;t++)n=a[t],n.initialize();return!0}},this.updateWidgetSettings=function(e,t,i){var n,s;return null==t&&(t=!0),null==i&&(i=!1),e.isEditMode=!1,_.isEmpty(e.settings)?(a.warn("Impac! - WidgetsSvc: Tried to update widget: "+e.id+" with no settings",e),!1):(n=_.find(e.settings,function(e){return"dashboard"===e.reach}),n&&!i?g.updateAllSimilarWidgets(r.getCurrentDashboard(),n):(t&&(e.isLoading=!0),s=_.reduce(_.map(e.settings,function(e){return e.toMetadata()}),function(e,t){return null==e&&(e={}),angular.merge(e,t)}),g.update(e,{metadata:s}).then(function(e){return t?g.show(e)["finally"](function(){return e.isLoading=!1}):void 0})))},this.updateAllSimilarWidgets=function(t,i){var a;return a=_.keys(i.toMetadata())[0],angular.extend(t.metadata,i.toMetadata()),r.update(t.id,{metadata:t.metadata}).then(function(){var n,s,o,r,c,l;for(o=t.widgets,r=[],n=0,s=o.length;s>n;n++)c=o[n],l=_.uniq(_.map(c.settings,function(e){return _.keys(e.toMetadata())[0]})),e.call(l,a)>=0?(angular.extend(c.metadata,i.toMetadata()),c.isLoading=!0,r.push(g.update(c,{metadata:c.metadata}).then(function(e){return g.show(e)["finally"](function(){return e.isLoading=!1})}))):r.push(void 0);return r})},this.massAssignAll=function(e,i){return null==i&&(i=!1),_.isEmpty(e)?void 0:g.load().then(function(){var n,s,o,c,l,d,m;if(n=r.getCurrentDashboard(),l=[],null!=n&&null!=n.widgets){if(_.isEmpty(n.widgets))return t.resolve([]);for(d=n.widgets,s=0,o=d.length;o>s;s++)m=d[s],c=angular.merge({},m.metadata,e),_.isEqual(m.metadata,c)||(m.isLoading=!0,l.push(g.update(m,{metadata:c})));return t.all(l).then(function(){return g.refreshAll(i)})}return a.error("Impac! - WidgetsSvc: CurrentDhb.widgets is null",n),t.reject(null)})},this.isRefreshing=!1,this.refreshAll=function(e){return null==e&&(e=!1),g.isRefreshing?void 0:(g.isRefreshing=!0,g.load().then(function(){var t,i,n,s,o,c;for(t=r.getCurrentDashboard(),s=t.widgets,o=[],i=0,n=s.length;n>i;i++)c=s[i],c.isLoading=!0,o.push(g.show(c,e).then(function(e){return e.isLoading=!1},function(e){return null!=e.data&&e.data.error?a.error(e.data.error):void 0}));return o})["finally"](function(){return n(function(){return g.isRefreshing=!1},3e3)}))},this.show=function(e,n){var o;return null==n&&(n=!1),o=t.defer(),g.load().then(function(){var t,c,l,d,p,u;return m(e.id)?(d={metadata:e.metadata},n&&(d.refresh_cache=!0),l=r.getCurrentDashboard(),p=s.widgets.show(e.endpoint,l.id,e.id),u=[p,decodeURIComponent($.param(d))].join("?"),t="Basic "+btoa(g.getSsoSessionId()),c={headers:{Authorization:t}},i.get(u,c).then(function(t){var i,a,n,s,r,c;for(i=t.data.content||{},s=t.data.name,angular.extend(e,{content:i,originalName:s}),angular.isDefined(e.initContext)&&e.initContext(),r=e.settings,a=0,n=r.length;n>a;a++)c=r[a],angular.isDefined(c.initialize)&&c.initialize();return angular.isDefined(e.format)&&e.format(),o.resolve(e)},function(t){var i,a,n,s;for(angular.isDefined(e.initContext)&&e.initContext(),n=e.settings,i=0,a=n.length;a>i;i++)s=n[i],angular.isDefined(s.initialize)&&s.initialize();return angular.isDefined(e.processError)&&null!=t.data&&t.data.error&&e.processError(t.data.error),o.reject(t)})):(a.info("Impac! - WidgetsSvc: Trying to load a widget (id: "+e.id+") that is not in currentDashboard"),o.reject("trying to load a widget (id: "+e.id+") that is not in currentDashboard"))},function(e){return a.error("Impac! - WidgetsSvc: Error while trying to load the service"),o.reject(e)}),o.promise},this.create=function(e){var n;return n=t.defer(),g.load().then(function(){var t,o;return t=r.getCurrentDashboard(),o=c.isWidgetStubbed(e)?c.createWidgetStub(e,t):i.post(s.widgets.create(t.id),e),o.then(function(e){var i;return i=e.data,t.widgets.push(i),r.callbacks.widgetAdded.notify(i),n.resolve(i)},function(e){return a.error("Impac! - WidgetsSvc: Cannot create widget on dashboard "+t.id),n.reject(e)})},function(e){return a.error("Impac! - WidgetsSvc: Error while trying to load the service"),n.reject(e)}),n.promise},this.update=function(e,n){var o;return o=t.defer(),g.load().then(function(){var t,l,d;return m(e.id)?(l={widget:n},t=r.getCurrentDashboard(),d=c.isWidgetStubbed(e)?c.updateWidgetStub(e,l.widget):i.put(s.widgets.update(t.id,e.id),l),d.then(function(t){return angular.extend(e,t.data),o.resolve(e)},function(t){return a.error("Impac! - WidgetsSvc: Cannot update widget: "+e.id),o.reject(t)})):(a.info("Impac! - WidgetsSvc: Trying to update a widget (id: "+e.id+") that is not in currentDashboard"),o.reject("trying to update a widget (id: "+e.id+") that is not in currentDashboard"))},function(e){return a.error("Impac! - WidgetsSvc: Error while trying to load the service"),o.reject(e)}),o.promise},this["delete"]=function(e){var n;return n=t.defer(),g.load().then(function(){var t,o;return t=r.getCurrentDashboard(),o=c.isWidgetStubbed(e)?c.deleteWidgetStub(e):i["delete"](s.widgets["delete"](t.id,e.id)),o.then(function(i){return _.remove(t.widgets,function(t){return t.id===e.id}),n.resolve(i)},function(t){return a.error("Impac! - WidgetsSvc: Error while trying to delete widget: "+e.id),n.reject(t)})},function(e){return a.error("Impac! - WidgetsSvc: Error while trying to load the service"),n.reject(e)}),n.promise},g}])}.call(this),function(){var e;e=angular.module("impac.components.common.data-not-found",[]),e.directive("commonDataNotFound",["$templateCache","$log","$http","ImpacAssets","ImpacTheming","ImpacMainSvc",function(e,t,i,a,n,s){return{restrict:"A",scope:{noImage:"=?",endpoint:"=",width:"=?",onDisplayAlerts:"&?"},link:function(e,o){var r,c,l,d,g,m,p,u;return e.content=n.get().dataNotFoundConfig,p=a.get("dataNotFound"),m=!1,l="",c=o.find(".data-not-found #not-found-bg")[0],c.onerror=function(){var i;return i=m?"library defaults":e.endpoint,t.warn("Missing data-not-found image for "+i),null!=c?c.remove():void 0},r=function(){return!e.noImage&&e.width?(m=!0,l=a.get("defaultImagesPath")+"/widget-bg-width-"+e.width+".png",c.src=l):void 0},u=function(){return e.endpoint&&p.length>0},g=function(){var t;return t=p.split(""),t="/"!==t[t.length-1]?t.concat("/").join(""):t.join(""),l=t+e.endpoint+".png",i.get(l).then(function(){return c.src=l},function(){return r()})},d=function(){var t;return e.noImage?void 0:(t=s.config.currentOrganization.has_myob_essentials_only,e.showAlertsTrigger=t&&e.endpoint.match(/.*accounts\/.*/)&&angular.isDefined(e.onDisplayAlerts),u()?g():(e.hasCallbackUrl=null!=e.content.linkUrlCallback,r()))},d()},template:e.get("common/data-not-found.tmpl.html")}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard-settings.pdf-mode",[]),e.directive("dashboardSettingsPdfMode",["$templateCache","$window","ImpacDashboardsSvc","ImpacTheming",function(e,t,i,a){return{restrict:"A",scope:{},template:e.get("dashboard-settings/pdf-mode.tmpl.html"),link:function(e){return e.enabled=a.get().dhbSelectorConfig.pdfModeEnabled,e.currentDhb=i.getCurrentDashboard(),e.pdfMode=!1,e.allNotTicked=!1,e.toggle=function(){return e.pdfMode=!e.pdfMode,i.togglePdfMode(e.pdfMode)},e.print=function(){return t.print()},i.ticked().then(null,null,function(){return e.allNotTicked=_.all(e.currentDhb.widgets,{ticked:!1})})}}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard-settings.currency",[]),e.directive("dashboardSettingCurrency",["$templateCache","$log","ImpacMainSvc","ImpacDashboardsSvc","ImpacWidgetsSvc","ImpacKpisSvc","ImpacTheming",function(e,t,i,a,n,s,o){return{restrict:"A",scope:{currency:"="},link:function(e){return e.locked=o.get().dhbSettings.currency.locked,i.load().then(function(t){return a.load().then(function(){return e.currentDhb=a.getCurrentDashboard(),e.currencies=t.currencies})}),e.massAssignCurrency=function(){var t;return t={currency:e.currency},a.update(e.currentDhb.id,t).then(function(){return n.massAssignAll(t),s.massAssignAll(t)})}},template:e.get("dashboard-settings/currency.tmpl.html")}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard-settings.sync-apps",[]),e.directive("dashboardSettingSyncApps",["$templateCache","$log","$http","$filter","$uibModal","$document","$timeout","ImpacMainSvc","ImpacRoutes","ImpacWidgetsSvc","ImpacTheming","poller","$sce",function(e,t,i,a,n,s,o,r,c,l,d,g){return{restrict:"A",scope:{},template:e.get("dashboard-settings/sync-apps.tmpl.html"),link:function(e){var t,s,o,d,m,p,u;return e.isSyncing=!1,e.realtimeSyncing=!1,e.hasError=!1,e.modalOpened=!1,o=function(){var e,t,i,a;return a=(new Date).getTimezoneOffset(),i=["+","00","00"],0>a||(i[0]="-"),e=""+Math.abs(Math.floor(a/60)),i[1]=e.length<2?"0"+e:e,t=""+Math.abs(a%60),i[2]=t.length<2?"0"+t:t,i.join("")},s=function(e){return e.last_sync_date?e.formatted_date=a("date")(e.last_sync_date,"h:mma, yyyy-MM-dd",o()):void 0},u=function(){return l.refreshAll(!0),_.any(e.connectors,function(e){return m(e)})?e.triggerSyncAlertsModal():void 0},p=function(t){var i,a,n,o,r;for(e.connectors=angular.copy(t.connectors)||[],e.realtimeSyncing=0===e.connectors.length,r=e.isSyncing,e.isSyncing=e.connectors&&e.connectors.length>0&&_.any(e.connectors,function(e){return"PENDING"===e.status||"RUNNING"===e.status}),e.hasError=e.connectors&&e.connectors.length>0&&_.any(e.connectors,function(e){return m(e)}),o=e.connectors,a=0,n=o.length;n>a;a++)i=o[a],s(i);return r&&!e.isSyncing?u():void 0},m=function(e){switch(e.status){case"ERROR":return!0;case"FAILED":return!0;case"DISCONNECTED":return!0;case"UNKNOWN":return!0;default:return!1}},e.synchronize=function(){return e.isSyncing?void 0:(e.isSyncing=!0,i.post(c.organizations.appInstancesSync(e.orgUID)).then(function(e){return p(e.data)}))},e.triggerSyncAlertsModal=function(){var t;return e.modalOpened||_.isEmpty(e.connectors)?void 0:(t=n.open({animation:!0,size:"md",templateUrl:"alerts.tmpl.html",appendTo:angular.element("impac-dashboard"),openedClass:"sync-modal-opened",controller:["$scope","connectors",function(e,i){return e.connectors=i,e.expandListItemOnClick=function(e){return e.message?e.showMessage=!e.showMessage:void 0},e.ok=function(){return t.close()}}],resolve:{connectors:function(){return e.connectors}}}),t.opened.then(function(){return e.modalOpened=!0}),t.result["finally"](function(){return e.modalOpened=!1}))},d=function(){return t(),r.load().then(function(t){return e.orgUID=t.currentOrganization.uid,e.syncingPoller=g.get(c.organizations.appInstancesSync(e.orgUID),{delay:1e4,smart:!0}),e.syncingPoller.promise.then(null,null,function(e){return p(e.data)})})},t=function(){return e.syncingPoller?e.syncingPoller.stop()&&e.syncingPoller.remove():void 0},d(),r.organizationChanged().then(null,null,function(e){return e?d():void 0}),e.$on("$destroy",t)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-accounting-values",[]),e.controller("WidgetAccountsAccountingValuesCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,i,a,n){var s,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.chartDeferred=t.defer(),s=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise],o.initContext=function(){return e.isDataFound=null!=o.content&&null!=o.content.accounting,e.getLegend(),e.getCurrency()},e.getCurrentPrice=function(){return e.isDataFound?o.content.accounting.total_period:void 0},e.getCurrency=function(){return e.isDataFound?null!=o.content.accounting.currency_key?n(o.content.accounting.currency_key).then(function(t){return e.currency=t,e.currency_unit=o.content.accounting.currency}):(e.currency=o.content.accounting.currency,e.currency_unit=o.content.accounting.currency):void 0},e.getLegend=function(){return e.isDataFound?null!=o.content.accounting.legend_key?n(o.content.accounting.legend_key).then(function(t){return e.legend=t}):e.legend=o.content.accounting.legend:void 0},e.drawTrigger=t.defer(),o.format=function(){var t,n,s,r,c,l,d;return e.isDataFound?(s=angular.copy(o.content.accounting),d=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(d=o.metadata.hist_parameters.period),r=_.map(s.dates,function(e){return a("mnoDate")(e,d)}),c={labels:r,datasets:[{title:s.type,values:s.values}]},t=!0,angular.forEach(s.values,function(e){return t&&(t=e>=0)}),l={scaleBeginAtZero:t,showXLabels:!1,currency:s.currency},n=i.combinedBarChart(c,l,!1),e.drawTrigger.notify(n)):void 0},e.widgetDeferred.resolve(s)}]),e.directive("widgetAccountsAccountingValues",function(){return{restrict:"A",controller:"WidgetAccountsAccountingValuesCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-assets-liability-summary",[]),e.controller("WidgetAccountsAssetsLiabilitySummaryCtrl",["$scope","$q","ChartFormatterSvc","$translate",function(e,t,i,a){var n,s;return s=e.widget,e.orgDeferred=t.defer(),e.chartDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),n=[e.orgDeferred.promise,e.chartDeferred.promise,e.paramSelectorDeferred.promise],s.initContext=function(){return e.isDataFound=angular.isDefined(s.content)&&!_.isEmpty(s.content.summary),s.metadata.classification||(s.metadata.classification="ASSET"),a("impac.widget.acc_ass_liab_smry."+s.metadata.classification.toLowerCase()+".many").then(function(t){return e.classification=t}),a(["impac.widget.acc_ass_liab_smry.accounts.asset","impac.widget.acc_ass_liab_smry.accounts.liability"]).then(function(t){return e.accountsOptions=[{label:t["impac.widget.acc_ass_liab_smry.accounts.asset"],value:"ASSET"},{label:t["impac.widget.acc_ass_liab_smry.accounts.liability"],value:"LIABILITY"}],e.selectedAccountsOption?void 0:e.selectedAccountsOption=angular.copy(_.find(e.accountsOptions,{value:s.metadata.classification}))}),e.isDataFound?e.dataSource=s.metadata.organization_ids.length>1?s.content.repartition:s.content.summary:void 0},e.getCurrency=function(){return e.isDataFound?s.content.currency:void 0},e.getAccountColor=function(t){return e.isDataFound?i.getColor(_.indexOf(e.dataSource,t)):void 0},e.drawTrigger=t.defer(),s.format=function(){var t,a,n;return e.isDataFound?(a=_.map(e.dataSource,function(e){return{label:e.label,value:e.total}}),n={percentageInnerCutout:50,tooltipFontSize:12},t=i.pieChart(a,n),e.drawTrigger.notify(t)):void 0},e.widgetDeferred.resolve(n)}]),e.directive("widgetAccountsAssetsLiabilitySummary",function(){return{restrict:"A",controller:"WidgetAccountsAssetsLiabilitySummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.autofocus",[]),e.directive("autofocus",["$timeout",function(e){return{restrict:"A",link:function(t,i){return e(function(){return i[0].focus()})}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.editable-title",[]),e.controller("CommonEditableTitleCtrl",["$scope","ImpacWidgetsSvc","ImpacDashboardsSvc","$translate",function(e,t,i,a){var n;return n=e.parentWidget,e.updateName=function(){var e;return 0===n.name.length?(n.name=n.originalName,a.instant("impac.widget.editable_title.incorrect_name")):(e={name:n.name},t.update(n,e))},e.getTooltip=function(){var t;return e.pdfMode?"":(t=a.instant("impac.widget.editable_title.tooltip_text"),n.name+(n.hasEditAbility?" "+t:""))},i.pdfModeEnabled().then(null,null,function(){return e.pdfMode=!0}),i.pdfModeCanceled().then(null,null,function(){return e.pdfMode=!1})}]),e.directive("commonEditableTitle",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",onToggle:"&"},template:e.get("widgets-common/editable-title.tmpl.html"),controller:"CommonEditableTitleCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.info-panel",[]),e.directive("commonInfoPanel",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",onClose:"&"},template:e.get("widgets-common/info-panel.tmpl.html"),link:function(e){var t;return t=e.parentWidget,e.hideInfoPanel=!0,e.toggleInfoPanel=function(){return e.hideInfoPanel=!e.hideInfoPanel,e.onClose()},e.getWidgetTemplateName=function(){var e,i;return e=(t.metadata.template||t.endpoint).split("/"),e=e.slice(e.length-2,e.length),i=e[0]+" - "+e[1].replace("_"," ")}}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.time-period-info",[]),e.directive("commonTimePeriodInfo",["$templateCache","ImpacUtilities","$translate",function(e,t,i){return{restrict:"A",scope:{context:"="},template:e.get("widgets-common/time-period-info.tmpl.html"),link:function(e){var a,n,s,o,r;return a=function(){return angular.isFunction(e.context.accountingBehaviour)?e.context.accountingBehaviour():e.context.accountingBehaviour},o=function(){return angular.isDefined(e.context.injectBefore)?angular.isFunction(e.context.injectBefore)?e.context.injectBefore():e.context.injectBefore:""},s=function(){return angular.isDefined(e.context.injectAfter)?angular.isFunction(e.context.injectAfter)?e.context.injectAfter():e.context.injectAfter:""},n=function(){var n;return n=t.selectedTimeRange(e.context.histParams),"bls"===a()?i("impac.widget.common.time_period_info.to",{dateTo:""+n.to}).then(function(t){return e.date=r(t)}):i("impac.widget.common.time_period_info.from_to",{dateFrom:""+n.from,dateTo:""+n.to}).then(function(t){return e.date=r(t)})},n(),r=function(e){return o().length>0&&(e=e.toLowerCase()),[o(),e,s()].join(" ")}}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.top-buttons",[]),e.controller("CommonTopButtonsCtrl",["$scope","$rootScope","$log","ImpacWidgetsSvc","ImpacAssets","ImpacUtilities",function(e,t,i,a,n,s){var o;return o=e.parentWidget,e.showConfirmDelete=!1,e.isDeletePopoverLoading=!1,o.isEditMode=!1,e.deleteWidget=function(){return e.isDeletePopoverLoading=!0,a["delete"](o).then(function(){return!0},function(e){return o.errors=s.processRailsError(e)})["finally"](function(){return e.isDeletePopoverLoading=!1})},e.toggleDeleteMode=function(){return e.showConfirmDelete=!e.showConfirmDelete},e.toggleEditMode=function(){return o.isLoading?void 0:o.isEditMode?(o.isEditMode=!1,a.initWidgetSettings(o)):o.isEditMode=!0},e.hasInfo=function(){return o&&null!=o.content&&null!=o.content.info&&o.content.info.length>0}}]),e.directive("commonTopButtons",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",onRefresh:"=",onToggleInfoPanel:"&"},template:e.get("widgets-common/top-buttons.tmpl.html"),controller:"CommonTopButtonsCtrl"}}])}.call(this)}).call(this),!function e(t,i,a){function n(o,r){if(!i[o]){if(!t[o]){var c="function"==typeof require&&require;if(!r&&c)return c(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return n(i?i:e)},d,d.exports,e,t,i,a)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(){},{}],2:[function(e,t){function i(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,i=/^#([a-fA-F0-9]{6})$/,a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/(\w+)/,o=[0,0,0],r=1,c=e.match(t);if(c){c=c[1];for(var l=0;l<o.length;l++)o[l]=parseInt(c[l]+c[l],16)}else if(c=e.match(i)){c=c[1];for(var l=0;l<o.length;l++)o[l]=parseInt(c.slice(2*l,2*l+2),16)}else if(c=e.match(a)){for(var l=0;l<o.length;l++)o[l]=parseInt(c[l+1]);r=parseFloat(c[4])}else if(c=e.match(n)){for(var l=0;l<o.length;l++)o[l]=Math.round(2.55*parseFloat(c[l+1]));r=parseFloat(c[4])}else if(c=e.match(s)){if("transparent"==c[1])return[0,0,0,0];if(o=b[c[1]],!o)return}for(var l=0;l<o.length;l++)o[l]=f(o[l],0,255);return r=r||0==r?f(r,0,1):1,o[3]=r,o}}function a(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=e.match(t);if(i){var a=parseFloat(i[4]),n=f(parseInt(i[1]),0,360),s=f(parseFloat(i[2]),0,100),o=f(parseFloat(i[3]),0,100),r=f(isNaN(a)?1:a,0,1);return[n,s,o,r]}}}function n(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=e.match(t);if(i){var a=parseFloat(i[4]),n=f(parseInt(i[1]),0,360),s=f(parseFloat(i[2]),0,100),o=f(parseFloat(i[3]),0,100),r=f(isNaN(a)?1:a,0,1);return[n,s,o,r]}}}function s(e){var t=i(e);return t&&t.slice(0,3)}function o(e){var t=a(e);return t&&t.slice(0,3)}function r(e){var t=i(e);return t?t[3]:(t=a(e))?t[3]:(t=n(e))?t[3]:void 0}function c(e){return"#"+w(e[0])+w(e[1])+w(e[2])}function l(e,t){return 1>t||e[3]&&e[3]<1?d(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function d(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function g(e,t){if(1>t||e[3]&&e[3]<1)return m(e,t);var i=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return"rgb("+i+"%, "+a+"%, "+n+"%)"}function m(e,t){var i=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return"rgba("+i+"%, "+a+"%, "+n+"%, "+(t||e[3]||1)+")"}function p(e,t){return 1>t||e[3]&&e[3]<1?u(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function u(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function h(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function v(e){return _[e.slice(0,3)]}function f(e,t,i){return Math.min(Math.max(t,e),i)}function w(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var b=e("color-name");t.exports={getRgba:i,getHsla:a,getRgb:s,getHsl:o,getHwb:n,getAlpha:r,hexString:c,rgbString:l,rgbaString:d,percentString:g,percentaString:m,hslString:p,hslaString:u,hwbString:h,keyword:v};var _={};for(var y in b)_[b[y]]=y},{"color-name":6}],3:[function(e,t){var i=e("color-convert"),a=e("chartjs-color-string"),n=function(e){if(e instanceof n)return e;if(!(this instanceof n))return new n(e);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;if("string"==typeof e)if(t=a.getRgba(e))this.setValues("rgb",t);else if(t=a.getHsla(e))this.setValues("hsl",t);else{if(!(t=a.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if(t=e,void 0!==t.r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};n.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=0>e?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],i=0;i<e.length;i++){var a=e[i]/255;t[i]=.03928>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,i=(t[0]+e)%360;return t[0]=0>i?360+i:i,this.setValues("hsl",t),this},mix:function(e,t){var i=this,a=e,n=void 0===t?.5:t,s=2*n-1,o=i.alpha()-a.alpha(),r=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,c=1-r;return this.rgb(r*i.red()+c*a.red(),r*i.green()+c*a.green(),r*i.blue()+c*a.blue()).alpha(i.alpha()*n+a.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var e,t,i=new n,a=this.values,s=i.values;for(var o in a)a.hasOwnProperty(o)&&(e=a[o],t={}.toString.call(e),"[object Array]"===t?s[o]=e.slice(0):"[object Number]"===t?s[o]=e:console.error("unexpected color value:",e));return i}},n.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},n.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},n.prototype.getValues=function(e){for(var t=this.values,i={},a=0;a<e.length;a++)i[e.charAt(a)]=t[e][a];return 1!==t.alpha&&(i.a=t.alpha),i},n.prototype.setValues=function(e,t){var a,n=this.values,s=this.spaces,o=this.maxes,r=1;if("alpha"===e)r=t;else if(t.length)n[e]=t.slice(0,e.length),r=t[e.length];else if(void 0!==t[e.charAt(0)]){for(a=0;a<e.length;a++)n[e][a]=t[e.charAt(a)];r=t.a}else if(void 0!==t[s[e][0]]){var c=s[e];for(a=0;a<e.length;a++)n[e][a]=t[c[a]];r=t.alpha}if(n.alpha=Math.max(0,Math.min(1,void 0===r?n.alpha:r)),"alpha"===e)return!1;var l;for(a=0;a<e.length;a++)l=Math.max(0,Math.min(o[e][a],n[e][a])),n[e][a]=Math.round(l);for(var d in s)d!==e&&(n[d]=i[e][d](n[e]));return!0},n.prototype.setSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i),this)},n.prototype.setChannel=function(e,t,i){var a=this.values[e];return void 0===i?a[t]:i===a[t]?this:(a[t]=i,this.setValues(e,a),this)},"undefined"!=typeof window&&(window.Color=n),t.exports=n},{"chartjs-color-string":2,"color-convert":5}],4:[function(e,t){function i(e){var t,i,a,n=e[0]/255,s=e[1]/255,o=e[2]/255,r=Math.min(n,s,o),c=Math.max(n,s,o),l=c-r;return c==r?t=0:n==c?t=(s-o)/l:s==c?t=2+(o-n)/l:o==c&&(t=4+(n-s)/l),t=Math.min(60*t,360),0>t&&(t+=360),a=(r+c)/2,i=c==r?0:.5>=a?l/(c+r):l/(2-c-r),[t,100*i,100*a]}function a(e){var t,i,a,n=e[0],s=e[1],o=e[2],r=Math.min(n,s,o),c=Math.max(n,s,o),l=c-r;return i=0==c?0:l/c*1e3/10,c==r?t=0:n==c?t=(s-o)/l:s==c?t=2+(o-n)/l:o==c&&(t=4+(n-s)/l),t=Math.min(60*t,360),0>t&&(t+=360),a=c/255*1e3/10,[t,i,a]}function n(e){var t=e[0],a=e[1],n=e[2],s=i(e)[0],o=1/255*Math.min(t,Math.min(a,n)),n=1-1/255*Math.max(t,Math.max(a,n));return[s,100*o,100*n]}function s(e){var t,i,a,n,s=e[0]/255,o=e[1]/255,r=e[2]/255;return n=Math.min(1-s,1-o,1-r),t=(1-s-n)/(1-n)||0,i=(1-o-n)/(1-n)||0,a=(1-r-n)/(1-n)||0,[100*t,100*i,100*a,100*n]}function o(e){return J[JSON.stringify(e)]}function c(e){var t=e[0]/255,i=e[1]/255,a=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var n=.4124*t+.3576*i+.1805*a,s=.2126*t+.7152*i+.0722*a,o=.0193*t+.1192*i+.9505*a;return[100*n,100*s,100*o]}function l(e){var t,i,a,n=c(e),s=n[0],o=n[1],r=n[2];return s/=95.047,o/=100,r/=108.883,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,t=116*o-16,i=500*(s-o),a=200*(o-r),[t,i,a]}function d(e){return W(l(e))}function m(e){var t,i,a,n,s,o=e[0]/360,r=e[1]/100,c=e[2]/100;if(0==r)return s=255*c,[s,s,s];i=.5>c?c*(1+r):c+r-c*r,t=2*c-i,n=[0,0,0];for(var l=0;3>l;l++)a=o+1/3*-(l-1),0>a&&a++,a>1&&a--,s=1>6*a?t+6*(i-t)*a:1>2*a?i:2>3*a?t+(i-t)*(2/3-a)*6:t,n[l]=255*s;return n}function p(e){var t,i,a=e[0],n=e[1]/100,s=e[2]/100;
return 0===s?[0,0,0]:(s*=2,n*=1>=s?s:2-s,i=(s+n)/2,t=2*n/(s+n),[a,100*t,100*i])}function u(e){return n(m(e))}function h(e){return s(m(e))}function v(e){return o(m(e))}function f(e){var t=e[0]/60,i=e[1]/100,a=e[2]/100,n=Math.floor(t)%6,s=t-Math.floor(t),o=255*a*(1-i),r=255*a*(1-i*s),c=255*a*(1-i*(1-s)),a=255*a;switch(n){case 0:return[a,c,o];case 1:return[r,a,o];case 2:return[o,a,c];case 3:return[o,r,a];case 4:return[c,o,a];case 5:return[a,o,r]}}function w(e){var t,i,a=e[0],n=e[1]/100,s=e[2]/100;return i=(2-n)*s,t=n*s,t/=1>=i?i:2-i,t=t||0,i/=2,[a,100*t,100*i]}function _(e){return n(f(e))}function y(e){return s(f(e))}function x(e){return o(f(e))}function k(e){var t,i,a,n,s=e[0]/360,o=e[1]/100,c=e[2]/100,l=o+c;switch(l>1&&(o/=l,c/=l),t=Math.floor(6*s),i=1-c,a=6*s-t,0!=(1&t)&&(a=1-a),n=o+a*(i-o),t){default:case 6:case 0:r=i,g=n,b=o;break;case 1:r=n,g=i,b=o;break;case 2:r=o,g=i,b=n;break;case 3:r=o,g=n,b=i;break;case 4:r=n,g=o,b=i;break;case 5:r=i,g=o,b=n}return[255*r,255*g,255*b]}function C(e){return i(k(e))}function D(e){return a(k(e))}function S(e){return s(k(e))}function M(e){return o(k(e))}function T(e){var t,i,a,n=e[0]/100,s=e[1]/100,o=e[2]/100,r=e[3]/100;return t=1-Math.min(1,n*(1-r)+r),i=1-Math.min(1,s*(1-r)+r),a=1-Math.min(1,o*(1-r)+r),[255*t,255*i,255*a]}function A(e){return i(T(e))}function E(e){return a(T(e))}function I(e){return n(T(e))}function P(e){return o(T(e))}function F(e){var t,i,a,n=e[0]/100,s=e[1]/100,o=e[2]/100;return t=3.2406*n+-1.5372*s+o*-.4986,i=n*-.9689+1.8758*s+.0415*o,a=.0557*n+s*-.204+1.057*o,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,t=Math.min(Math.max(0,t),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*t,255*i,255*a]}function L(e){var t,i,a,n=e[0],s=e[1],o=e[2];return n/=95.047,s/=100,o/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*s-16,i=500*(n-s),a=200*(s-o),[t,i,a]}function z(e){return W(L(e))}function O(e){var t,i,a,n,s=e[0],o=e[1],r=e[2];return 8>=s?(i=100*s/903.3,n=7.787*(i/100)+16/116):(i=100*Math.pow((s+16)/116,3),n=Math.pow(i/100,1/3)),t=.008856>=t/95.047?t=95.047*(o/500+n-16/116)/7.787:95.047*Math.pow(o/500+n,3),a=.008859>=a/108.883?a=108.883*(n-r/200-16/116)/7.787:108.883*Math.pow(n-r/200,3),[t,i,a]}function W(e){var t,i,a,n=e[0],s=e[1],o=e[2];return t=Math.atan2(o,s),i=360*t/2/Math.PI,0>i&&(i+=360),a=Math.sqrt(s*s+o*o),[n,a,i]}function R(e){return F(O(e))}function B(e){var t,i,a,n=e[0],s=e[1],o=e[2];return a=o/360*2*Math.PI,t=s*Math.cos(a),i=s*Math.sin(a),[n,t,i]}function V(e){return O(B(e))}function N(e){return R(B(e))}function $(e){return G[e]}function H(e){return i($(e))}function q(e){return a($(e))}function j(e){return n($(e))}function U(e){return s($(e))}function K(e){return l($(e))}function Y(e){return c($(e))}t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:n,rgb2cmyk:s,rgb2keyword:o,rgb2xyz:c,rgb2lab:l,rgb2lch:d,hsl2rgb:m,hsl2hsv:p,hsl2hwb:u,hsl2cmyk:h,hsl2keyword:v,hsv2rgb:f,hsv2hsl:w,hsv2hwb:_,hsv2cmyk:y,hsv2keyword:x,hwb2rgb:k,hwb2hsl:C,hwb2hsv:D,hwb2cmyk:S,hwb2keyword:M,cmyk2rgb:T,cmyk2hsl:A,cmyk2hsv:E,cmyk2hwb:I,cmyk2keyword:P,keyword2rgb:$,keyword2hsl:H,keyword2hsv:q,keyword2hwb:j,keyword2cmyk:U,keyword2lab:K,keyword2xyz:Y,xyz2rgb:F,xyz2lab:L,xyz2lch:z,lab2xyz:O,lab2rgb:R,lab2lch:W,lch2lab:B,lch2xyz:V,lch2rgb:N};var G={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},J={};for(var Q in G)J[JSON.stringify(G[Q])]=Q},{}],5:[function(e,t){var i=e("./conversions"),a=function(){return new c};for(var n in i){a[n+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(n);var s=/(\w+)2(\w+)/.exec(n),o=s[1],r=s[2];a[o]=a[o]||{},a[o][r]=a[n]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var a=i[e](t);if("string"==typeof a||void 0===a)return a;for(var n=0;n<a.length;n++)a[n]=Math.round(a[n]);return a}}(n)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var i=this.space,n=this.convs[i];t=a[i][e](n),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){c.prototype[e]=function(){return this.routeSpace(e,arguments)}}),t.exports=a},{"./conversions":4}],6:[function(e,t){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t){var i=e("./core/core.js")();e("./core/core.helpers")(i),e("./core/core.element")(i),e("./core/core.animation")(i),e("./core/core.controller")(i),e("./core/core.datasetController")(i),e("./core/core.layoutService")(i),e("./core/core.legend")(i),e("./core/core.plugin.js")(i),e("./core/core.scale")(i),e("./core/core.scaleService")(i),e("./core/core.title")(i),e("./core/core.tooltip")(i),e("./elements/element.arc")(i),e("./elements/element.line")(i),e("./elements/element.point")(i),e("./elements/element.rectangle")(i),e("./scales/scale.category")(i),e("./scales/scale.linear")(i),e("./scales/scale.logarithmic")(i),e("./scales/scale.radialLinear")(i),e("./scales/scale.time")(i),e("./controllers/controller.bar")(i),e("./controllers/controller.bubble")(i),e("./controllers/controller.doughnut")(i),e("./controllers/controller.line")(i),e("./controllers/controller.polarArea")(i),e("./controllers/controller.radar")(i),e("./charts/Chart.Bar")(i),e("./charts/Chart.Bubble")(i),e("./charts/Chart.Doughnut")(i),e("./charts/Chart.Line")(i),e("./charts/Chart.PolarArea")(i),e("./charts/Chart.Radar")(i),e("./charts/Chart.Scatter")(i),window.Chart=t.exports=i},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.plugin.js":29,"./core/core.scale":30,"./core/core.scaleService":31,"./core/core.title":32,"./core/core.tooltip":33,"./elements/element.arc":34,"./elements/element.line":35,"./elements/element.point":36,"./elements/element.rectangle":37,"./scales/scale.category":38,"./scales/scale.linear":39,"./scales/scale.logarithmic":40,"./scales/scale.radialLinear":41,"./scales/scale.time":42}],8:[function(e,t){"use strict";t.exports=function(e){e.Bar=function(t,i){return i.type="bar",new e(t,i)}}},{}],9:[function(e,t){"use strict";t.exports=function(e){e.Bubble=function(t,i){return i.type="bubble",new e(t,i)}}},{}],10:[function(e,t){"use strict";t.exports=function(e){e.Doughnut=function(t,i){return i.type="doughnut",new e(t,i)}}},{}],11:[function(e,t){"use strict";t.exports=function(e){e.Line=function(t,i){return i.type="line",new e(t,i)}}},{}],12:[function(e,t){"use strict";t.exports=function(e){e.PolarArea=function(t,i){return i.type="polarArea",new e(t,i)}}},{}],13:[function(e,t){"use strict";t.exports=function(e){e.Radar=function(t,i){return i.options=e.helpers.configMerge({aspectRatio:1},i.options),i.type="radar",new e(t,i)}}},{}],14:[function(e,t){"use strict";t.exports=function(e){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}};e.defaults.scatter=t,e.controllers.scatter=e.controllers.line,e.Scatter=function(t,i){return i.type="scatter",new e(t,i)}}},{}],15:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(t,i){e.DatasetController.prototype.initialize.call(this,t,i),this.getMeta().bar=!0},getBarCount:function(){var e=0;return t.each(this.chart.data.datasets,function(t,i){var a=this.chart.getDatasetMeta(i);a.bar&&this.chart.isDatasetVisible(i)&&++e},this),e},update:function(e){t.each(this.getMeta().data,function(t,i){this.updateElement(t,i,e)},this)},updateElement:function(e,i,a){var n=this.getMeta(),s=this.getScaleForId(n.xAxisID),o=this.getScaleForId(n.yAxisID),r=o.getBasePixel(),c=this.chart.options.elements.rectangle,l=e.custom||{},d=this.getDataset();t.extend(e,{_xScale:s,_yScale:o,_datasetIndex:this.index,_index:i,_model:{x:this.calculateBarX(i,this.index),y:a?r:this.calculateBarY(i,this.index),label:this.chart.data.labels[i],datasetLabel:d.label,base:a?r:this.calculateBarBase(this.index,i),width:this.calculateBarWidth(i),backgroundColor:l.backgroundColor?l.backgroundColor:t.getValueAtIndexOrDefault(d.backgroundColor,i,c.backgroundColor),borderSkipped:l.borderSkipped?l.borderSkipped:c.borderSkipped,borderColor:l.borderColor?l.borderColor:t.getValueAtIndexOrDefault(d.borderColor,i,c.borderColor),borderWidth:l.borderWidth?l.borderWidth:t.getValueAtIndexOrDefault(d.borderWidth,i,c.borderWidth)}}),e.pivot()},calculateBarBase:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.yAxisID),n=0;if(a.options.stacked){var s=this.chart,o=s.data.datasets,r=o[e].data[t];if(0>r)for(var c=0;e>c;c++){var l=o[c],d=s.getDatasetMeta(c);d.bar&&d.yAxisID===a.id&&s.isDatasetVisible(c)&&(n+=l.data[t]<0?l.data[t]:0)}else for(var g=0;e>g;g++){var m=o[g],p=s.getDatasetMeta(g);p.bar&&p.yAxisID===a.id&&s.isDatasetVisible(g)&&(n+=m.data[t]>0?m.data[t]:0)}return a.getPixelForValue(n)}return a.getBasePixel()},getRuler:function(e){var t,i=this.getMeta(),a=this.getScaleForId(i.xAxisID),n=this.getBarCount();t="category"===a.options.type?a.getPixelForTick(e+1)-a.getPixelForTick(e):a.width/a.ticks.length;var s=t*a.options.categoryPercentage,o=(t-t*a.options.categoryPercentage)/2,r=s/n;if(a.ticks.length!==this.chart.data.labels.length){var c=a.ticks.length/this.chart.data.labels.length;r*=c}var l=r*a.options.barPercentage,d=r-r*a.options.barPercentage;return{datasetCount:n,tickWidth:t,categoryWidth:s,categorySpacing:o,fullBarWidth:r,barWidth:l,barSpacing:d}},calculateBarWidth:function(e){var t=this.getScaleForId(this.getMeta().xAxisID),i=this.getRuler(e);return t.options.stacked?i.categoryWidth:i.barWidth},getBarIndex:function(e){var t,i,a=0;for(i=0;e>i;++i)t=this.chart.getDatasetMeta(i),t.bar&&this.chart.isDatasetVisible(i)&&++a;return a},calculateBarX:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.xAxisID),n=this.getBarIndex(t),s=this.getRuler(e),o=a.getPixelForValue(null,e,t,this.chart.isCombo);return o-=this.chart.isCombo?s.tickWidth/2:0,a.options.stacked?o+s.categoryWidth/2+s.categorySpacing:o+s.barWidth/2+s.categorySpacing+s.barWidth*n+s.barSpacing/2+s.barSpacing*n},calculateBarY:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.yAxisID),n=this.getDataset().data[e];if(a.options.stacked){for(var s=0,o=0,r=0;t>r;r++){var c=this.chart.data.datasets[r],l=this.chart.getDatasetMeta(r);l.bar&&l.yAxisID===a.id&&this.chart.isDatasetVisible(r)&&(c.data[e]<0?o+=c.data[e]||0:s+=c.data[e]||0)}return 0>n?a.getPixelForValue(o+n):a.getPixelForValue(s+n)}return a.getPixelForValue(n)},draw:function(e){var i=e||1;t.each(this.getMeta().data,function(e,t){var a=this.getDataset().data[t];null===a||void 0===a||isNaN(a)||e.transition(i).draw()},this)},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,n=e.custom||{},s=e._model;s.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.hoverBackgroundColor,a,t.getHoverColor(s.backgroundColor)),s.borderColor=n.hoverBorderColor?n.hoverBorderColor:t.getValueAtIndexOrDefault(i.hoverBorderColor,a,t.getHoverColor(s.borderColor)),s.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:t.getValueAtIndexOrDefault(i.hoverBorderWidth,a,s.borderWidth)},removeHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,n=e.custom||{},s=e._model,o=this.chart.options.elements.rectangle;s.backgroundColor=n.backgroundColor?n.backgroundColor:t.getValueAtIndexOrDefault(i.backgroundColor,a,o.backgroundColor),s.borderColor=n.borderColor?n.borderColor:t.getValueAtIndexOrDefault(i.borderColor,a,o.borderColor),s.borderWidth=n.borderWidth?n.borderWidth:t.getValueAtIndexOrDefault(i.borderWidth,a,o.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var i="";return e.length>0&&(e[0].yLabel?i=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(i=t.labels[e[0].index])),i},label:function(e,t){var i=t.datasets[e.datasetIndex].label||"";return i+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({updateElement:function(e,i,a){var n=this.getMeta(),s=this.getScaleForId(n.xAxisID),o=this.getScaleForId(n.yAxisID),r=s.getBasePixel(),c=e.custom||{},l=this.getDataset(),d=this.chart.options.elements.rectangle;t.extend(e,{_xScale:s,_yScale:o,_datasetIndex:this.index,_index:i,_model:{x:a?r:this.calculateBarX(i,this.index),y:this.calculateBarY(i,this.index),label:this.chart.data.labels[i],datasetLabel:l.label,base:a?r:this.calculateBarBase(this.index,i),height:this.calculateBarHeight(i),backgroundColor:c.backgroundColor?c.backgroundColor:t.getValueAtIndexOrDefault(l.backgroundColor,i,d.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:d.borderSkipped,borderColor:c.borderColor?c.borderColor:t.getValueAtIndexOrDefault(l.borderColor,i,d.borderColor),borderWidth:c.borderWidth?c.borderWidth:t.getValueAtIndexOrDefault(l.borderWidth,i,d.borderWidth)},draw:function(){function e(e){return c[(d+e)%4]}var t=this._chart.ctx,i=this._view,a=i.height/2,n=i.y-a,s=i.y+a,o=i.base-(i.base-i.x),r=i.borderWidth/2;i.borderWidth&&(n+=r,s-=r,o+=r),t.beginPath(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth;var c=[[i.base,s],[i.base,n],[o,n],[o,s]],l=["bottom","left","top","right"],d=l.indexOf(i.borderSkipped,0);-1===d&&(d=0),t.moveTo.apply(t,e(0));for(var g=1;4>g;g++)t.lineTo.apply(t,e(g));t.fill(),i.borderWidth&&t.stroke()},inRange:function(e,t){var i=this._view,a=!1;return i&&(a=i.x<i.base?t>=i.y-i.height/2&&t<=i.y+i.height/2&&e>=i.x&&e<=i.base:t>=i.y-i.height/2&&t<=i.y+i.height/2&&e>=i.base&&e<=i.x),a}}),e.pivot()},calculateBarBase:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.xAxisID),n=0;if(a.options.stacked){var s=this.chart.data.datasets[e].data[t];if(0>s)for(var o=0;e>o;o++){var r=this.chart.data.datasets[o],c=this.chart.getDatasetMeta(o);c.bar&&c.xAxisID===a.id&&this.chart.isDatasetVisible(o)&&(n+=r.data[t]<0?r.data[t]:0)}else for(var l=0;e>l;l++){var d=this.chart.data.datasets[l],g=this.chart.getDatasetMeta(l);g.bar&&g.xAxisID===a.id&&this.chart.isDatasetVisible(l)&&(n+=d.data[t]>0?d.data[t]:0)}return a.getPixelForValue(n)}return a.getBasePixel()},getRuler:function(e){var t,i=this.getMeta(),a=this.getScaleForId(i.yAxisID),n=this.getBarCount();t="category"===a.options.type?a.getPixelForTick(e+1)-a.getPixelForTick(e):a.width/a.ticks.length;var s=t*a.options.categoryPercentage,o=(t-t*a.options.categoryPercentage)/2,r=s/n;if(a.ticks.length!==this.chart.data.labels.length){var c=a.ticks.length/this.chart.data.labels.length;r*=c}var l=r*a.options.barPercentage,d=r-r*a.options.barPercentage;return{datasetCount:n,tickHeight:t,categoryHeight:s,categorySpacing:o,fullBarHeight:r,barHeight:l,barSpacing:d}},calculateBarHeight:function(e){var t=this.getScaleForId(this.getMeta().yAxisID),i=this.getRuler(e);return t.options.stacked?i.categoryHeight:i.barHeight},calculateBarX:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.xAxisID),n=this.getDataset().data[e];if(a.options.stacked){for(var s=0,o=0,r=0;t>r;r++){var c=this.chart.data.datasets[r],l=this.chart.getDatasetMeta(r);l.bar&&l.xAxisID===a.id&&this.chart.isDatasetVisible(r)&&(c.data[e]<0?o+=c.data[e]||0:s+=c.data[e]||0)}return 0>n?a.getPixelForValue(o+n):a.getPixelForValue(s+n)}return a.getPixelForValue(n)},calculateBarY:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.yAxisID),n=this.getBarIndex(t),s=this.getRuler(e),o=a.getPixelForValue(null,e,t,this.chart.isCombo);return o-=this.chart.isCombo?s.tickHeight/2:0,a.options.stacked?o+s.categoryHeight/2+s.categorySpacing:o+s.barHeight/2+s.categorySpacing+s.barHeight*n+s.barSpacing/2+s.barSpacing*n}})}},{}],16:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var i=t.datasets[e.datasetIndex].label||"",a=t.datasets[e.datasetIndex].data[e.index];return i+": ("+a.x+", "+a.y+", "+a.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var i=this.getMeta(),a=i.data;t.each(a,function(t,i){this.updateElement(t,i,e)},this)},updateElement:function(e,i,a){var n=this.getMeta(),s=this.getScaleForId(n.xAxisID),o=this.getScaleForId(n.yAxisID),r=e.custom||{},c=this.getDataset(),l=c.data[i],d=this.chart.options.elements.point;t.extend(e,{_xScale:s,_yScale:o,_datasetIndex:this.index,_index:i,_model:{x:a?s.getPixelForDecimal(.5):s.getPixelForValue(l,i,this.index,this.chart.isCombo),y:a?o.getBasePixel():o.getPixelForValue(l,i,this.index),radius:a?0:r.radius?r.radius:this.getRadius(l),backgroundColor:r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(c.backgroundColor,i,d.backgroundColor),borderColor:r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(c.borderColor,i,d.borderColor),borderWidth:r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(c.borderWidth,i,d.borderWidth),hitRadius:r.hitRadius?r.hitRadius:t.getValueAtIndexOrDefault(c.hitRadius,i,d.hitRadius)}});var g=e._model;g.skip=r.skip?r.skip:isNaN(g.x)||isNaN(g.y),e.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,n=e.custom||{},s=e._model;s.radius=n.hoverRadius?n.hoverRadius:t.getValueAtIndexOrDefault(i.hoverRadius,a,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[e._index]),s.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.hoverBackgroundColor,a,t.getHoverColor(s.backgroundColor)),s.borderColor=n.hoverBorderColor?n.hoverBorderColor:t.getValueAtIndexOrDefault(i.hoverBorderColor,a,t.getHoverColor(s.borderColor)),s.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:t.getValueAtIndexOrDefault(i.hoverBorderWidth,a,s.borderWidth)},removeHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,n=e.custom||{},s=e._model,o=this.chart.options.elements.point;s.radius=n.radius?n.radius:this.getRadius(i.data[e._index]),s.backgroundColor=n.backgroundColor?n.backgroundColor:t.getValueAtIndexOrDefault(i.backgroundColor,a,o.backgroundColor),s.borderColor=n.borderColor?n.borderColor:t.getValueAtIndexOrDefault(i.borderColor,a,o.borderColor),s.borderWidth=n.borderWidth?n.borderWidth:t.getValueAtIndexOrDefault(i.borderWidth,a,o.borderWidth)}})}},{}],17:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i=e.defaults;i.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var i=e.data,a=i.datasets,n=i.labels;if(a.length)for(var s=0;s<a[0].data.length;++s)t.push('<li><span style="background-color:'+a[0].backgroundColor[s]+'"></span>'),n[s]&&t.push(n[s]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var i=e.data;return i.labels.length&&i.datasets.length?i.labels.map(function(a,n){var s=e.getDatasetMeta(0),o=i.datasets[0],r=s.data[n],c=r.custom||{},l=t.getValueAtIndexOrDefault,d=e.options.elements.arc,g=c.backgroundColor?c.backgroundColor:l(o.backgroundColor,n,d.backgroundColor),m=c.borderColor?c.borderColor:l(o.borderColor,n,d.borderColor),p=c.borderWidth?c.borderWidth:l(o.borderWidth,n,d.borderWidth);return{text:a,fillStyle:g,strokeStyle:m,lineWidth:p,hidden:isNaN(o.data[n])||s.data[n].hidden,index:n}}):[]}},onClick:function(e,t){var i,a,n,s=t.index,o=this.chart;for(i=0,a=(o.data.datasets||[]).length;a>i;++i)n=o.getDatasetMeta(i),n.data[s].hidden=!n.data[s].hidden;o.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+t.datasets[e.datasetIndex].data[e.index]}}}},i.pie=t.clone(i.doughnut),t.extend(i.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,i=0;e>i;++i)this.chart.isDatasetVisible(i)&&++t;return t},update:function(e){var i=this,a=i.chart,n=a.chartArea,s=a.options,o=s.elements.arc,r=n.right-n.left-o.borderWidth,c=n.bottom-n.top-o.borderWidth,l=Math.min(r,c),d={x:0,y:0},g=i.getMeta(),m=s.cutoutPercentage,p=s.circumference;if(p<2*Math.PI){var u=s.rotation%(2*Math.PI);u+=2*Math.PI*(u>=Math.PI?-1:u<-Math.PI?1:0);var h=u+p,v={x:Math.cos(u),y:Math.sin(u)},f={x:Math.cos(h),y:Math.sin(h)},w=0>=u&&h>=0||u<=2*Math.PI&&2*Math.PI<=h,b=u<=.5*Math.PI&&.5*Math.PI<=h||u<=2.5*Math.PI&&2.5*Math.PI<=h,_=u<=-Math.PI&&-Math.PI<=h||u<=Math.PI&&Math.PI<=h,y=u<=.5*-Math.PI&&.5*-Math.PI<=h||u<=1.5*Math.PI&&1.5*Math.PI<=h,x=m/100,k={x:_?-1:Math.min(v.x*(v.x<0?1:x),f.x*(f.x<0?1:x)),y:y?-1:Math.min(v.y*(v.y<0?1:x),f.y*(f.y<0?1:x))},C={x:w?1:Math.max(v.x*(v.x>0?1:x),f.x*(f.x>0?1:x)),y:b?1:Math.max(v.y*(v.y>0?1:x),f.y*(f.y>0?1:x))},D={width:.5*(C.x-k.x),height:.5*(C.y-k.y)};l=Math.min(r/D.width,c/D.height),d={x:(C.x+k.x)*-.5,y:(C.y+k.y)*-.5}}a.outerRadius=Math.max(l/2,0),a.innerRadius=Math.max(m?a.outerRadius/100*m:1,0),a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount(),a.offsetX=d.x*a.outerRadius,a.offsetY=d.y*a.outerRadius,g.total=i.calculateTotal(),i.outerRadius=a.outerRadius-a.radiusLength*i.getRingIndex(i.index),i.innerRadius=i.outerRadius-a.radiusLength,t.each(g.data,function(t,a){i.updateElement(t,a,e)})},updateElement:function(e,i,a){var n=this,s=n.chart,o=s.chartArea,r=s.options,c=r.animation,l=r.elements.arc,d=(o.left+o.right)/2,g=(o.top+o.bottom)/2,m=r.rotation,p=r.rotation,u=n.getDataset(),h=a&&c.animateRotate?0:e.hidden?0:n.calculateCircumference(u.data[i])*(r.circumference/(2*Math.PI)),v=a&&c.animateScale?0:n.innerRadius,f=a&&c.animateScale?0:n.outerRadius,w=e.custom||{},b=t.getValueAtIndexOrDefault;t.extend(e,{_datasetIndex:n.index,_index:i,_model:{x:d+s.offsetX,y:g+s.offsetY,startAngle:m,endAngle:p,circumference:h,outerRadius:f,innerRadius:v,label:b(u.label,i,s.data.labels[i])}});var _=e._model;_.backgroundColor=w.backgroundColor?w.backgroundColor:b(u.backgroundColor,i,l.backgroundColor),_.hoverBackgroundColor=w.hoverBackgroundColor?w.hoverBackgroundColor:b(u.hoverBackgroundColor,i,l.hoverBackgroundColor),_.borderWidth=w.borderWidth?w.borderWidth:b(u.borderWidth,i,l.borderWidth),_.borderColor=w.borderColor?w.borderColor:b(u.borderColor,i,l.borderColor),a&&c.animateRotate||(_.startAngle=0===i?r.rotation:n.getMeta().data[i-1]._model.endAngle,_.endAngle=_.startAngle+_.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,i=this.getDataset(),a=this.getMeta(),n=0;return t.each(a.data,function(t,a){e=i.data[a],isNaN(e)||t.hidden||(n+=Math.abs(e))}),n},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0}})}},{}],18:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,addElementAndReset:function(t){var i=this,a=i.chart.options;e.DatasetController.prototype.addElementAndReset.call(i,t),a.showLines&&0!==a.elements.line.tension&&i.updateBezierControlPoints()},update:function(e){var i,a,n,s,o=this,r=o.getMeta(),c=r.dataset,l=r.data||[],d=o.chart.options,g=d.elements.line,m=o.getScaleForId(r.yAxisID);for(d.showLines&&(n=o.getDataset(),s=c.custom||{},void 0!==n.tension&&void 0===n.lineTension&&(n.lineTension=n.tension),c._scale=m,c._datasetIndex=o.index,c._children=l,c._model={tension:s.tension?s.tension:t.getValueOrDefault(n.lineTension,g.tension),backgroundColor:s.backgroundColor?s.backgroundColor:n.backgroundColor||g.backgroundColor,borderWidth:s.borderWidth?s.borderWidth:n.borderWidth||g.borderWidth,borderColor:s.borderColor?s.borderColor:n.borderColor||g.borderColor,borderCapStyle:s.borderCapStyle?s.borderCapStyle:n.borderCapStyle||g.borderCapStyle,borderDash:s.borderDash?s.borderDash:n.borderDash||g.borderDash,borderDashOffset:s.borderDashOffset?s.borderDashOffset:n.borderDashOffset||g.borderDashOffset,borderJoinStyle:s.borderJoinStyle?s.borderJoinStyle:n.borderJoinStyle||g.borderJoinStyle,fill:s.fill?s.fill:void 0!==n.fill?n.fill:g.fill,scaleTop:m.top,scaleBottom:m.bottom,scaleZero:m.getBasePixel()},c.pivot()),i=0,a=l.length;a>i;++i)o.updateElement(l[i],i,e);
d.showLines&&0!==g.tension&&o.updateBezierControlPoints()},getPointBackgroundColor:function(e,i){var a=this.chart.options.elements.point.backgroundColor,n=this.getDataset(),s=e.custom||{};return s.backgroundColor?a=s.backgroundColor:n.pointBackgroundColor?a=t.getValueAtIndexOrDefault(n.pointBackgroundColor,i,a):n.backgroundColor&&(a=n.backgroundColor),a},getPointBorderColor:function(e,i){var a=this.chart.options.elements.point.borderColor,n=this.getDataset(),s=e.custom||{};return s.borderColor?a=s.borderColor:n.pointBorderColor?a=t.getValueAtIndexOrDefault(n.pointBorderColor,i,a):n.borderColor&&(a=n.borderColor),a},getPointBorderWidth:function(e,i){var a=this.chart.options.elements.point.borderWidth,n=this.getDataset(),s=e.custom||{};return s.borderWidth?a=s.borderWidth:n.pointBorderWidth?a=t.getValueAtIndexOrDefault(n.pointBorderWidth,i,a):n.borderWidth&&(a=n.borderWidth),a},updateElement:function(e,i,a){var n,s,o=this,r=o.getMeta(),c=e.custom||{},l=o.getDataset(),d=o.index,g=l.data[i],m=o.getScaleForId(r.yAxisID),p=o.getScaleForId(r.xAxisID),u=o.chart.options.elements.point;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),n=p.getPixelForValue(g,i,d,o.chart.isCombo),s=a?m.getBasePixel():o.calculatePointY(g,i,d,o.chart.isCombo),e._xScale=p,e._yScale=m,e._datasetIndex=d,e._index=i,e._model={x:n,y:s,skip:c.skip||isNaN(n)||isNaN(s),radius:c.radius||t.getValueAtIndexOrDefault(l.pointRadius,i,u.radius),pointStyle:c.pointStyle||t.getValueAtIndexOrDefault(l.pointStyle,i,u.pointStyle),backgroundColor:o.getPointBackgroundColor(e,i),borderColor:o.getPointBorderColor(e,i),borderWidth:o.getPointBorderWidth(e,i),tension:r.dataset._model?r.dataset._model.tension:0,hitRadius:c.hitRadius||t.getValueAtIndexOrDefault(l.pointHitRadius,i,u.hitRadius)}},calculatePointY:function(e,t,i){var a,n,s,o=this,r=o.chart,c=o.getMeta(),l=o.getScaleForId(c.yAxisID),d=0,g=0;if(l.options.stacked){for(a=0;i>a;a++)n=r.data.datasets[a],s=r.getDatasetMeta(a),"line"===s.type&&r.isDatasetVisible(a)&&(n.data[t]<0?g+=n.data[t]||0:d+=n.data[t]||0);return 0>e?l.getPixelForValue(g+e):l.getPixelForValue(d+e)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){var e,i,a,n,s,o=this.getMeta(),r=this.chart.chartArea,c=o.data||[];for(e=0,i=c.length;i>e;++e)a=c[e],n=a._model,s=t.splineCurve(t.previousItem(c,e)._model,n,t.nextItem(c,e)._model,o.dataset._model.tension),n.controlPointPreviousX=Math.max(Math.min(s.previous.x,r.right),r.left),n.controlPointPreviousY=Math.max(Math.min(s.previous.y,r.bottom),r.top),n.controlPointNextX=Math.max(Math.min(s.next.x,r.right),r.left),n.controlPointNextY=Math.max(Math.min(s.next.y,r.bottom),r.top),a.pivot()},draw:function(e){var t,i,a=this.getMeta(),n=a.data||[],s=e||1;for(t=0,i=n.length;i>t;++t)n[t].transition(s);for(this.chart.options.showLines&&a.dataset.transition(s).draw(),t=0,i=n.length;i>t;++t)n[t].draw()},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,n=e.custom||{},s=e._model;s.radius=n.hoverRadius||t.getValueAtIndexOrDefault(i.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),s.backgroundColor=n.hoverBackgroundColor||t.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,a,t.getHoverColor(s.backgroundColor)),s.borderColor=n.hoverBorderColor||t.getValueAtIndexOrDefault(i.pointHoverBorderColor,a,t.getHoverColor(s.borderColor)),s.borderWidth=n.hoverBorderWidth||t.getValueAtIndexOrDefault(i.pointHoverBorderWidth,a,s.borderWidth)},removeHoverStyle:function(e){var i=this,a=i.chart.data.datasets[e._datasetIndex],n=e._index,s=e.custom||{},o=e._model;void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),o.radius=s.radius||t.getValueAtIndexOrDefault(a.pointRadius,n,i.chart.options.elements.point.radius),o.backgroundColor=i.getPointBackgroundColor(e,n),o.borderColor=i.getPointBorderColor(e,n),o.borderWidth=i.getPointBorderWidth(e,n)}})}},{}],19:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var i=e.data,a=i.datasets,n=i.labels;if(a.length)for(var s=0;s<a[0].data.length;++s)t.push('<li><span style="background-color:'+a[0].backgroundColor[s]+'">'),n[s]&&t.push(n[s]),t.push("</span></li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var i=e.data;return i.labels.length&&i.datasets.length?i.labels.map(function(a,n){var s=e.getDatasetMeta(0),o=i.datasets[0],r=s.data[n],c=r.custom||{},l=t.getValueAtIndexOrDefault,d=e.options.elements.arc,g=c.backgroundColor?c.backgroundColor:l(o.backgroundColor,n,d.backgroundColor),m=c.borderColor?c.borderColor:l(o.borderColor,n,d.borderColor),p=c.borderWidth?c.borderWidth:l(o.borderWidth,n,d.borderWidth);return{text:a,fillStyle:g,strokeStyle:m,lineWidth:p,hidden:isNaN(o.data[n])||s.data[n].hidden,index:n}}):[]}},onClick:function(e,t){var i,a,n,s=t.index,o=this.chart;for(i=0,a=(o.data.datasets||[]).length;a>i;++i)n=o.getDatasetMeta(i),n.data[s].hidden=!n.data[s].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var i=this,a=i.chart,n=a.chartArea,s=this.getMeta(),o=a.options,r=o.elements.arc,c=Math.min(n.right-n.left,n.bottom-n.top);a.outerRadius=Math.max((c-r.borderWidth/2)/2,0),a.innerRadius=Math.max(o.cutoutPercentage?a.outerRadius/100*o.cutoutPercentage:1,0),a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount(),i.outerRadius=a.outerRadius-a.radiusLength*i.index,i.innerRadius=i.outerRadius-a.radiusLength,s.count=i.countVisibleElements(),t.each(s.data,function(t,a){i.updateElement(t,a,e)})},updateElement:function(e,i,a){for(var n=this,s=n.chart,o=s.chartArea,r=n.getDataset(),c=s.options,l=c.animation,d=c.elements.arc,g=e.custom||{},m=s.scale,p=t.getValueAtIndexOrDefault,u=s.data.labels,h=n.calculateCircumference(r.data[i]),v=(o.left+o.right)/2,f=(o.top+o.bottom)/2,w=0,b=n.getMeta(),_=0;i>_;++_)isNaN(r.data[_])||b.data[_].hidden||++w;var y=e.hidden?0:m.getDistanceFromCenterForValue(r.data[i]),x=-.5*Math.PI+h*w,k=x+(e.hidden?0:h),C={x:v,y:f,innerRadius:0,outerRadius:l.animateScale?0:m.getDistanceFromCenterForValue(r.data[i]),startAngle:l.animateRotate?Math.PI*-.5:x,endAngle:l.animateRotate?Math.PI*-.5:k,backgroundColor:g.backgroundColor?g.backgroundColor:p(r.backgroundColor,i,d.backgroundColor),borderWidth:g.borderWidth?g.borderWidth:p(r.borderWidth,i,d.borderWidth),borderColor:g.borderColor?g.borderColor:p(r.borderColor,i,d.borderColor),label:p(u,i,u[i])};t.extend(e,{_datasetIndex:n.index,_index:i,_scale:m,_model:a?C:{x:v,y:f,innerRadius:0,outerRadius:y,startAngle:x,endAngle:k,backgroundColor:g.backgroundColor?g.backgroundColor:p(r.backgroundColor,i,d.backgroundColor),borderWidth:g.borderWidth?g.borderWidth:p(r.borderWidth,i,d.borderWidth),borderColor:g.borderColor?g.borderColor:p(r.borderColor,i,d.borderColor),label:p(u,i,u[i])}}),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),i=this.getMeta(),a=0;return t.each(i.data,function(t,i){isNaN(e.data[i])||t.hidden||a++}),a},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,addElementAndReset:function(t){e.DatasetController.prototype.addElementAndReset.call(this,t),this.updateBezierControlPoints()},update:function(e){var i=this.getMeta(),a=i.dataset,n=i.data,s=a.custom||{},o=this.getDataset(),r=this.chart.options.elements.line,c=this.chart.scale;void 0!==o.tension&&void 0===o.lineTension&&(o.lineTension=o.tension),t.extend(i.dataset,{_datasetIndex:this.index,_children:n,_loop:!0,_model:{tension:s.tension?s.tension:t.getValueOrDefault(o.lineTension,r.tension),backgroundColor:s.backgroundColor?s.backgroundColor:o.backgroundColor||r.backgroundColor,borderWidth:s.borderWidth?s.borderWidth:o.borderWidth||r.borderWidth,borderColor:s.borderColor?s.borderColor:o.borderColor||r.borderColor,fill:s.fill?s.fill:void 0!==o.fill?o.fill:r.fill,borderCapStyle:s.borderCapStyle?s.borderCapStyle:o.borderCapStyle||r.borderCapStyle,borderDash:s.borderDash?s.borderDash:o.borderDash||r.borderDash,borderDashOffset:s.borderDashOffset?s.borderDashOffset:o.borderDashOffset||r.borderDashOffset,borderJoinStyle:s.borderJoinStyle?s.borderJoinStyle:o.borderJoinStyle||r.borderJoinStyle,scaleTop:c.top,scaleBottom:c.bottom,scaleZero:c.getBasePosition()}}),i.dataset.pivot(),t.each(n,function(t,i){this.updateElement(t,i,e)},this),this.updateBezierControlPoints()},updateElement:function(e,i,a){var n=e.custom||{},s=this.getDataset(),o=this.chart.scale,r=this.chart.options.elements.point,c=o.getPointPositionForValue(i,s.data[i]);t.extend(e,{_datasetIndex:this.index,_index:i,_scale:o,_model:{x:a?o.xCenter:c.x,y:a?o.yCenter:c.y,tension:n.tension?n.tension:t.getValueOrDefault(s.tension,this.chart.options.elements.line.tension),radius:n.radius?n.radius:t.getValueAtIndexOrDefault(s.pointRadius,i,r.radius),backgroundColor:n.backgroundColor?n.backgroundColor:t.getValueAtIndexOrDefault(s.pointBackgroundColor,i,r.backgroundColor),borderColor:n.borderColor?n.borderColor:t.getValueAtIndexOrDefault(s.pointBorderColor,i,r.borderColor),borderWidth:n.borderWidth?n.borderWidth:t.getValueAtIndexOrDefault(s.pointBorderWidth,i,r.borderWidth),pointStyle:n.pointStyle?n.pointStyle:t.getValueAtIndexOrDefault(s.pointStyle,i,r.pointStyle),hitRadius:n.hitRadius?n.hitRadius:t.getValueAtIndexOrDefault(s.hitRadius,i,r.hitRadius)}}),e._model.skip=n.skip?n.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,i=this.getMeta();t.each(i.data,function(a,n){var s=a._model,o=t.splineCurve(t.previousItem(i.data,n,!0)._model,s,t.nextItem(i.data,n,!0)._model,s.tension);s.controlPointPreviousX=Math.max(Math.min(o.previous.x,e.right),e.left),s.controlPointPreviousY=Math.max(Math.min(o.previous.y,e.bottom),e.top),s.controlPointNextX=Math.max(Math.min(o.next.x,e.right),e.left),s.controlPointNextY=Math.max(Math.min(o.next.y,e.bottom),e.top),a.pivot()},this)},draw:function(e){var i=this.getMeta(),a=e||1;t.each(i.data,function(e){e.transition(a)}),i.dataset.transition(a).draw(),t.each(i.data,function(e){e.draw()})},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e.custom||{},n=e._index,s=e._model;s.radius=a.hoverRadius?a.hoverRadius:t.getValueAtIndexOrDefault(i.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),s.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,n,t.getHoverColor(s.backgroundColor)),s.borderColor=a.hoverBorderColor?a.hoverBorderColor:t.getValueAtIndexOrDefault(i.pointHoverBorderColor,n,t.getHoverColor(s.borderColor)),s.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:t.getValueAtIndexOrDefault(i.pointHoverBorderWidth,n,s.borderWidth)},removeHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e.custom||{},n=e._index,s=e._model,o=this.chart.options.elements.point;s.radius=a.radius?a.radius:t.getValueAtIndexOrDefault(i.radius,n,o.radius),s.backgroundColor=a.backgroundColor?a.backgroundColor:t.getValueAtIndexOrDefault(i.pointBackgroundColor,n,o.backgroundColor),s.borderColor=a.borderColor?a.borderColor:t.getValueAtIndexOrDefault(i.pointBorderColor,n,o.borderColor),s.borderWidth=a.borderWidth?a.borderWidth:t.getValueAtIndexOrDefault(i.pointBorderWidth,n,o.borderWidth)}})}},{}],21:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,i,a){a||(e.animating=!0);for(var n=0;n<this.animations.length;++n)if(this.animations[n].chartInstance===e)return void(this.animations[n].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var i=t.findIndex(this.animations,function(t){return t.chartInstance===e});-1!==i&&(this.animations.splice(i,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var i=0;i<this.animations.length;)null===this.animations[i].animationObject.currentStep&&(this.animations[i].animationObject.currentStep=0),this.animations[i].animationObject.currentStep+=1+t,this.animations[i].animationObject.currentStep>this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.currentStep=this.animations[i].animationObject.numSteps),this.animations[i].animationObject.render(this.animations[i].chartInstance,this.animations[i].animationObject),this.animations[i].animationObject.onAnimationProgress&&this.animations[i].animationObject.onAnimationProgress.call&&this.animations[i].animationObject.onAnimationProgress.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].animationObject.currentStep===this.animations[i].animationObject.numSteps?(this.animations[i].animationObject.onAnimationComplete&&this.animations[i].animationObject.onAnimationComplete.call&&this.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].chartInstance.animating=!1,this.animations.splice(i,1)):++i;var a=Date.now(),n=(a-e)/this.frameDuration;this.dropFrames+=n,this.animations.length>0&&this.requestAnimationFrame()}}}},{}],22:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(i){return this.chart=i,this.config=i.config,this.options=this.config.options=t.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=t.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},t.extend(e.Controller.prototype,{initialize:function(){return e.pluginService.notifyPlugins("beforeInit",[this]),this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),e.pluginService.notifyPlugins("afterInit",[this]),this},clear:function(){return t.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var i=this.chart.canvas,a=t.getMaximumWidth(this.chart.canvas),n=this.options.maintainAspectRatio&&isNaN(this.chart.aspectRatio)===!1&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?a/this.chart.aspectRatio:t.getMaximumHeight(this.chart.canvas),s=this.chart.width!==a||this.chart.height!==n;return s?(i.width=this.chart.width=a,i.height=this.chart.height=n,t.retinaScale(this.chart),e||(this.stop(),this.update(this.options.responsiveAnimationDuration)),this):this},ensureScalesHaveIDs:function(){var e=this.options,i=e.scales||{},a=e.scale;t.each(i.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),t.each(i.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),a&&(a.id=a.id||"scale")},buildScales:function(){var i=this,a=i.options,n=i.scales={},s=[];a.scales&&(s=s.concat((a.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category"}}),(a.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear"}}))),a.scale&&s.push({options:a.scale,dtype:"radialLinear",isDefault:!0}),t.each(s,function(a){var s=a.options,o=t.getValueOrDefault(s.type,a.dtype),r=e.scaleService.getScaleConstructor(o);if(r){var c=new r({id:s.id,options:s,ctx:i.chart.ctx,chart:i});n[c.id]=c,a.isDefault&&(i.scale=c)}}),e.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new e.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),e.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new e.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),e.layoutService.addBox(this,this.legend))},updateLayout:function(){e.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var i=[],a=[];if(t.each(this.data.datasets,function(t,n){var s=this.getDatasetMeta(n);s.type||(s.type=t.type||this.config.type),i.push(s.type),s.controller?s.controller.updateIndex(n):(s.controller=new e.controllers[s.type](this,n),a.push(s.controller))},this),i.length>1)for(var n=1;n<i.length;n++)if(i[n]!==i[n-1]){this.isCombo=!0;break}return a},resetElements:function(){t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.reset()},this)},update:function(i,a){e.pluginService.notifyPlugins("beforeUpdate",[this]),this.tooltip._data=this.data;var n=this.buildOrUpdateControllers();t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.buildOrUpdateElements()},this),e.layoutService.update(this,this.chart.width,this.chart.height),e.pluginService.notifyPlugins("afterScaleUpdate",[this]),t.each(n,function(e){e.reset()}),t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.update()},this),e.pluginService.notifyPlugins("afterUpdate",[this]),this.render(i,a)},render:function(i,a){e.pluginService.notifyPlugins("beforeRender",[this]);var n=this.options.animation;if(n&&("undefined"!=typeof i&&0!==i||"undefined"==typeof i&&0!==n.duration)){var s=new e.Animation;s.numSteps=(i||n.duration)/16.66,s.easing=n.easing,s.render=function(e,i){var a=t.easingEffects[i.easing],n=i.currentStep/i.numSteps,s=a(n);e.draw(s,n,i.currentStep)},s.onAnimationProgress=n.onProgress,s.onAnimationComplete=n.onComplete,e.animationService.addAnimation(this,s,i,a)}else this.draw(),n&&n.onComplete&&n.onComplete.call&&n.onComplete.call(this);return this},draw:function(i){var a=i||1;this.clear(),e.pluginService.notifyPlugins("beforeDraw",[this,a]),t.each(this.boxes,function(e){e.draw(this.chartArea)},this),this.scale&&this.scale.draw();var n=this.chart.ctx;n.save(),n.beginPath(),n.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),n.clip(),t.each(this.data.datasets,function(e,t){this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.draw(i)},this,!0),n.restore(),this.tooltip.transition(a).draw(),e.pluginService.notifyPlugins("afterDraw",[this,a])},getElementAtEvent:function(e){var i=t.getRelativePosition(e,this.chart),a=[];return t.each(this.data.datasets,function(e,n){if(this.isDatasetVisible(n)){var s=this.getDatasetMeta(n);t.each(s.data,function(e){return e.inRange(i.x,i.y)?(a.push(e),a):void 0})}},this),a},getElementsAtEvent:function(e){var i=t.getRelativePosition(e,this.chart),a=[],n=function(){if(this.data.datasets)for(var e=0;e<this.data.datasets.length;e++){var t=this.getDatasetMeta(e);if(this.isDatasetVisible(e))for(var a=0;a<t.data.length;a++)if(t.data[a].inRange(i.x,i.y))return t.data[a]}}.call(this);return n?(t.each(this.data.datasets,function(e,t){if(this.isDatasetVisible(t)){var i=this.getDatasetMeta(t);a.push(i.data[n._index])}},this),a):a},getElementsAtEventForMode:function(e,t){var i=this;switch(t){case"single":return i.getElementAtEvent(e);case"label":return i.getElementsAtEvent(e);case"dataset":return i.getDatasetAtEvent(e);default:return e}},getDatasetAtEvent:function(e){var t=this.getElementAtEvent(e);return t.length>0&&(t=this.getDatasetMeta(t[0]._datasetIndex).data),t},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var i=t._meta[this.id];return i||(i=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,i=this.data.datasets.length;i>t;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),t.unbindEvents(this,this.events),t.removeResizeListener(this.chart.canvas.parentNode);var i=this.chart.canvas;i.width=this.chart.width,i.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),i.style.width=this.chart.originalCanvasStyleWidth,i.style.height=this.chart.originalCanvasStyleHeight,e.pluginService.notifyPlugins("destroy",[this]),delete e.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new e.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){t.bindEvents(this,this.options.events,function(e){this.eventHandler(e)})},updateHoverStyle:function(e,t,i){var a,n,s,o=i?"setHoverStyle":"removeHoverStyle";switch(t){case"single":e=[e[0]];break;case"label":case"dataset":break;default:return}for(n=0,s=e.length;s>n;++n)a=e[n],a&&this.getDatasetMeta(a._datasetIndex).controller[o](a)},eventHandler:function(e){var i=this,a=i.tooltip,n=i.options||{},s=n.hover,o=n.tooltips;return i.lastActive=i.lastActive||[],i.lastTooltipActive=i.lastTooltipActive||[],"mouseout"===e.type?(i.active=[],i.tooltipActive=[]):(i.active=i.getElementsAtEventForMode(e,s.mode),i.tooltipActive=i.getElementsAtEventForMode(e,o.mode)),s.onHover&&s.onHover.call(i,i.active),("mouseup"===e.type||"click"===e.type)&&(n.onClick&&n.onClick.call(i,e,i.active),i.legend&&i.legend.handleEvent&&i.legend.handleEvent(e)),i.lastActive.length&&i.updateHoverStyle(i.lastActive,s.mode,!1),i.active.length&&s.mode&&i.updateHoverStyle(i.active,s.mode,!0),(o.enabled||o.custom)&&(a.initialize(),a._active=i.tooltipActive,a.update(!0)),a.pivot(),i.animating||t.arrayEquals(i.active,i.lastActive)&&t.arrayEquals(i.tooltipActive,i.lastTooltipActive)||(i.stop(),(o.enabled||o.custom)&&a.update(!0),i.render(s.animationDuration,!0)),i.lastActive=i.active,i.lastTooltipActive=i.tooltipActive,i}})}},{}],23:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i=t.noop;e.DatasetController=function(e,t){this.initialize.call(this,e,t)},t.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.getDataset();null===e.xAxisID&&(e.xAxisID=t.xAxisID||this.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=t.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,i=t.dataElementType;return i&&new i({_chart:t.chart.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,i=this,a=i.getMeta(),n=i.getDataset().data||[],s=a.data;for(e=0,t=n.length;t>e;++e)s[e]=s[e]||i.createMetaData(a,e);a.dataset=a.dataset||i.createMetaDataset()},addElementAndReset:function(e){var t=this,i=t.createMetaData(e);t.getMeta().data.splice(e,0,i),t.updateElement(i,e,!0)},buildOrUpdateElements:function(){var e=this.getMeta(),t=e.data,i=this.getDataset().data.length,a=t.length;if(a>i)t.splice(i,a-i);else if(i>a)for(var n=a;i>n;++n)this.addElementAndReset(n)},update:i,draw:function(e){var i=e||1;t.each(this.getMeta().data,function(e){e.transition(i).draw()})},removeHoverStyle:function(e,i){var a=this.chart.data.datasets[e._datasetIndex],n=e._index,s=e.custom||{},o=t.getValueAtIndexOrDefault,r=(t.color,e._model);r.backgroundColor=s.backgroundColor?s.backgroundColor:o(a.backgroundColor,n,i.backgroundColor),r.borderColor=s.borderColor?s.borderColor:o(a.borderColor,n,i.borderColor),r.borderWidth=s.borderWidth?s.borderWidth:o(a.borderWidth,n,i.borderWidth)},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,n=e.custom||{},s=t.getValueAtIndexOrDefault,o=(t.color,t.getHoverColor),r=e._model;r.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:s(i.hoverBackgroundColor,a,o(r.backgroundColor)),r.borderColor=n.hoverBorderColor?n.hoverBorderColor:s(i.hoverBorderColor,a,o(r.borderColor)),r.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:s(i.hoverBorderWidth,a,r.borderWidth)}}),e.DatasetController.extend=t.inherits}},{}],24:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=t.clone(this._model)),this._start=t.clone(this._view),this},transition:function(e){return this._view||(this._view=t.clone(this._model)),1===e?(this._view=this._model,this._start=null,this):(this._start||this.pivot(),t.each(this._model,function(i,a){if("_"===a[0]);else if(this._view.hasOwnProperty(a))if(i===this._view[a]);else if("string"==typeof i)try{var n=t.color(this._model[a]).mix(t.color(this._start[a]),e);this._view[a]=n.rgbString()}catch(s){this._view[a]=i}else if("number"==typeof i){var o=void 0!==this._start[a]&&isNaN(this._start[a])===!1?this._start[a]:0;this._view[a]=(this._model[a]-o)*e+o}else this._view[a]=i;else this._view[a]="number"!=typeof i||isNaN(this._view[a])?i:i*e},this),this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},{}],25:[function(e,t){"use strict";var i=e("chartjs-color");t.exports=function(e){function t(e,t,i){var a;return"string"==typeof e?(a=parseInt(e,10),-1!=e.indexOf("%")&&(a=a/100*t.parentNode[i])):a=e,a}function a(e){return void 0!==e&&null!==e&&"none"!==e}function n(e,i,n){var s=document.defaultView,o=e.parentNode,r=s.getComputedStyle(e)[i],c=s.getComputedStyle(o)[i],l=a(r),d=a(c),g=Number.POSITIVE_INFINITY;return l||d?Math.min(l?t(r,e,n):g,d?t(c,o,n):g):"none"}var s=e.helpers={};s.each=function(e,t,i,a){var n,o;if(s.isArray(e))if(o=e.length,a)for(n=o-1;n>=0;n--)t.call(i,e[n],n);else for(n=0;o>n;n++)t.call(i,e[n],n);else if("object"==typeof e){var r=Object.keys(e);for(o=r.length,n=0;o>n;n++)t.call(i,e[r[n]],r[n])}},s.clone=function(e){var t={};return s.each(e,function(e,i){t[i]=s.isArray(e)?e.slice(0):"object"==typeof e&&null!==e?s.clone(e):e}),t},s.extend=function(e){for(var t=arguments.length,i=[],a=1;t>a;a++)i.push(arguments[a]);return s.each(i,function(t){s.each(t,function(t,i){e[i]=t})}),e},s.configMerge=function(t){var i=s.clone(t);return s.each(Array.prototype.slice.call(arguments,1),function(t){s.each(t,function(t,a){if("scales"===a)i[a]=s.scaleMerge(i.hasOwnProperty(a)?i[a]:{},t);else if("scale"===a)i[a]=s.configMerge(i.hasOwnProperty(a)?i[a]:{},e.scaleService.getScaleDefaults(t.type),t);else if(i.hasOwnProperty(a)&&s.isArray(i[a])&&s.isArray(t)){var n=i[a];s.each(t,function(e,t){t<n.length?n[t]="object"==typeof n[t]&&null!==n[t]&&"object"==typeof e&&null!==e?s.configMerge(n[t],e):e:n.push(e)})}else i[a]=i.hasOwnProperty(a)&&"object"==typeof i[a]&&null!==i[a]&&"object"==typeof t?s.configMerge(i[a],t):t})}),i},s.extendDeep=function(){function e(t){return s.each(arguments,function(i){i!==t&&s.each(i,function(i,a){t[a]&&t[a].constructor&&t[a].constructor===Object?e(t[a],i):t[a]=i})}),t}return e.apply(this,arguments)},s.scaleMerge=function(t,i){var a=s.clone(t);return s.each(i,function(t,i){"xAxes"===i||"yAxes"===i?a.hasOwnProperty(i)?s.each(t,function(t,n){var o=s.getValueOrDefault(t.type,"xAxes"===i?"category":"linear"),r=e.scaleService.getScaleDefaults(o);n>=a[i].length||!a[i][n].type?a[i].push(s.configMerge(r,t)):a[i][n]=t.type&&t.type!==a[i][n].type?s.configMerge(a[i][n],r,t):s.configMerge(a[i][n],t)}):(a[i]=[],s.each(t,function(t){var n=s.getValueOrDefault(t.type,"xAxes"===i?"category":"linear");a[i].push(s.configMerge(e.scaleService.getScaleDefaults(n),t))})):a[i]=a.hasOwnProperty(i)&&"object"==typeof a[i]&&null!==a[i]&&"object"==typeof t?s.configMerge(a[i],t):t}),a},s.getValueAtIndexOrDefault=function(e,t,i){return void 0===e||null===e?i:s.isArray(e)?t<e.length?e[t]:i:e},s.getValueOrDefault=function(e,t){return void 0===e?t:e},s.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},s.where=function(e,t){if(s.isArray(e)&&Array.prototype.filter)return e.filter(t);var i=[];return s.each(e,function(e){t(e)&&i.push(e)}),i},s.findIndex=function(e,t,i){var a=-1;if(Array.prototype.findIndex)a=e.findIndex(t,i);else for(var n=0;n<e.length;++n)if(i=void 0!==i?i:e,t.call(i,e[n],n,e)){a=n;break}return a},s.findNextWhere=function(e,t,i){(void 0===i||null===i)&&(i=-1);for(var a=i+1;a<e.length;a++){var n=e[a];if(t(n))return n}},s.findPreviousWhere=function(e,t,i){(void 0===i||null===i)&&(i=e.length);for(var a=i-1;a>=0;a--){var n=e[a];if(t(n))return n}},s.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=i};return a.prototype=t.prototype,i.prototype=new a,i.extend=s.inherits,e&&s.extend(i.prototype,e),i.__super__=t.prototype,i},s.noop=function(){},s.uid=function(){var e=0;return function(){return e++}}(),s.warn=function(e){console&&"function"==typeof console.warn&&console.warn(e)},s.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},s.almostEquals=function(e,t,i){return Math.abs(e-t)<i},s.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},s.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},s.sign=function(e){return Math.sign?Math.sign(e):(e=+e,0===e||isNaN(e)?e:e>0?1:-1)},s.log10=function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10},s.toRadians=function(e){return e*(Math.PI/180)},s.toDegrees=function(e){return e*(180/Math.PI)},s.getAngleFromPoint=function(e,t){var i=t.x-e.x,a=t.y-e.y,n=Math.sqrt(i*i+a*a),s=Math.atan2(a,i);return s<-.5*Math.PI&&(s+=2*Math.PI),{angle:s,distance:n}},s.aliasPixel=function(e){return e%2===0?0:.5},s.splineCurve=function(e,t,i,a){var n=e.skip?t:e,s=t,o=i.skip?t:i,r=Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2)),c=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),l=r/(r+c),d=c/(r+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;var g=a*l,m=a*d;return{previous:{x:s.x-g*(o.x-n.x),y:s.y-g*(o.y-n.y)},next:{x:s.x+m*(o.x-n.x),y:s.y+m*(o.y-n.y)}}},s.nextItem=function(e,t,i){return i?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},s.previousItem=function(e,t,i){return i?0>=t?e[e.length-1]:e[t-1]:0>=t?e[0]:e[t-1]},s.niceNum=function(e,t){var i,a=Math.floor(s.log10(e)),n=e/Math.pow(10,a);return i=t?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10,i*Math.pow(10,a)
};var o=s.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1===(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i)))},easeOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1===(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:2===(e/=.5)?1:(i||(i=.3*1.5),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i):a*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-o.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*o.easeInBounce(2*e):.5*o.easeOutBounce(2*e-1)+.5}};s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),s.getRelativePosition=function(e,t){var i,a,n=e.originalEvent||e,o=e.currentTarget||e.srcElement,r=o.getBoundingClientRect(),c=n.touches;c&&c.length>0?(i=c[0].clientX,a=c[0].clientY):(i=n.clientX,a=n.clientY);var l=parseFloat(s.getStyle(o,"padding-left")),d=parseFloat(s.getStyle(o,"padding-top")),g=parseFloat(s.getStyle(o,"padding-right")),m=parseFloat(s.getStyle(o,"padding-bottom")),p=r.right-r.left-l-g,u=r.bottom-r.top-d-m;return i=Math.round((i-r.left-l)/p*o.width/t.currentDevicePixelRatio),a=Math.round((a-r.top-d)/u*o.height/t.currentDevicePixelRatio),{x:i,y:a}},s.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},s.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=s.noop},s.bindEvents=function(e,t,i){var a=e.events=e.events||{};s.each(t,function(t){a[t]=function(){i.apply(e,arguments)},s.addEvent(e.chart.canvas,t,a[t])})},s.unbindEvents=function(e,t){var i=e.chart.canvas;s.each(t,function(e,t){s.removeEvent(i,t,e)})},s.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},s.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},s.getMaximumWidth=function(e){var t=e.parentNode,i=parseInt(s.getStyle(t,"padding-left"))+parseInt(s.getStyle(t,"padding-right")),a=t.clientWidth-i,n=s.getConstraintWidth(e);return isNaN(n)?a:Math.min(a,n)},s.getMaximumHeight=function(e){var t=e.parentNode,i=parseInt(s.getStyle(t,"padding-top"))+parseInt(s.getStyle(t,"padding-bottom")),a=t.clientHeight-i,n=s.getConstraintHeight(e);return isNaN(n)?a:Math.min(a,n)},s.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},s.retinaScale=function(e){var t=e.ctx,i=e.canvas,a=i.width,n=i.height,s=e.currentDevicePixelRatio=window.devicePixelRatio||1;1!==s&&(i.height=n*s,i.width=a*s,t.scale(s,s),e.originalDevicePixelRatio=e.originalDevicePixelRatio||s),i.style.width=a+"px",i.style.height=n+"px"},s.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},s.fontString=function(e,t,i){return t+" "+e+"px "+i},s.longestText=function(e,t,i,a){a=a||{};var n=a.data=a.data||{},o=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(n=a.data={},o=a.garbageCollect=[],a.font=t),e.font=t;var r=0;s.each(i,function(t){if(void 0!==t&&null!==t){var i=n[t];i||(i=n[t]=e.measureText(t).width,o.push(t)),i>r&&(r=i)}});var c=o.length/2;if(c>i.length){for(var l=0;c>l;l++)delete n[o[l]];o.splice(0,c)}return r},s.drawRoundedRectangle=function(e,t,i,a,n,s){e.beginPath(),e.moveTo(t+s,i),e.lineTo(t+a-s,i),e.quadraticCurveTo(t+a,i,t+a,i+s),e.lineTo(t+a,i+n-s),e.quadraticCurveTo(t+a,i+n,t+a-s,i+n),e.lineTo(t+s,i+n),e.quadraticCurveTo(t,i+n,t,i+n-s),e.lineTo(t,i+s),e.quadraticCurveTo(t,i,t+s,i),e.closePath()},s.color=function(t){return i?i(t instanceof CanvasGradient?e.defaults.global.defaultColor:t):(console.log("Color.js not found!"),t)},s.addResizeListener=function(e,t){var i=document.createElement("iframe"),a="chartjs-hidden-iframe";i.classlist?i.classlist.add(a):i.setAttribute("class",a);var n=i.style;n.width="100%",n.display="block",n.border=0,n.height=0,n.margin=0,n.position="absolute",n.left=0,n.right=0,n.top=0,n.bottom=0,e.insertBefore(i,e.firstChild),(i.contentWindow||i).onresize=function(){t&&t()}},s.removeResizeListener=function(e){var t=e.querySelector(".chartjs-hidden-iframe");t&&t.parentNode.removeChild(t)},s.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},s.arrayEquals=function(e,t){var i,a,n,o;if(!e||!t||e.length!=t.length)return!1;for(i=0,a=e.length;a>i;++i)if(n=e[i],o=t[i],n instanceof Array&&o instanceof Array){if(!s.arrayEquals(n,o))return!1}else if(n!=o)return!1;return!0},s.pushAllIfDefined=function(e,t){"undefined"!=typeof e&&(s.isArray(e)?t.push.apply(t,e):t.push(e))},s.callCallback=function(e,t,i){e&&"function"==typeof e.call&&e.apply(i,t)},s.getHoverColor=function(e){return e instanceof CanvasPattern?e:s.color(e).saturate(.5).darken(.1).rgbString()}}},{"chartjs-color":3}],26:[function(e,t){"use strict";t.exports=function(){var e=function(t,i){this.config=i,t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),this.ctx=t,this.canvas=t.canvas,this.width=t.canvas.width||parseInt(e.helpers.getStyle(t.canvas,"width"))||e.helpers.getMaximumWidth(t.canvas),this.height=t.canvas.height||parseInt(e.helpers.getStyle(t.canvas,"height"))||e.helpers.getMaximumHeight(t.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||isFinite(this.aspectRatio)===!1)&&(this.aspectRatio=void 0!==i.aspectRatio?i.aspectRatio:2),this.originalCanvasStyleWidth=t.canvas.style.width,this.originalCanvasStyleHeight=t.canvas.style.height,e.helpers.retinaScale(this),i&&(this.controller=new e.Controller(this));var a=this;return e.helpers.addResizeListener(t.canvas.parentNode,function(){a.controller&&a.controller.config.options.responsive&&a.controller.resize()}),this.controller?this.controller:this};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var i=0;i<e.data.datasets.length;i++)t.push('<li><span style="background-color:'+e.data.datasets[i].backgroundColor+'"></span>'),e.data.datasets[i].label&&t.push(e.data.datasets[i].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e}},{}],27:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(e,i,a){function n(e){var t,i=e.isHorizontal();i?(t=e.update(e.options.fullWidth?h:y,_),x-=t.height):(t=e.update(b,w),y-=t.width),k.push({horizontal:i,minSize:t,box:e})}function s(e){var i=t.findNextWhere(k,function(t){return t.box===e});if(i)if(e.isHorizontal()){var a={left:C,right:D,top:0,bottom:0};e.update(e.options.fullWidth?h:y,v/2,a)}else e.update(i.minSize.width,x)}function o(e){var i=t.findNextWhere(k,function(t){return t.box===e}),a={left:0,right:0,top:S,bottom:M};i&&e.update(i.minSize.width,x,a)}function r(e){e.isHorizontal()?(e.left=e.options.fullWidth?c:C,e.right=e.options.fullWidth?i-c:C+y,e.top=I,e.bottom=I+e.height,I=e.bottom):(e.left=E,e.right=E+e.width,e.top=S,e.bottom=S+x,E=e.right)}if(e){var c=0,l=0,d=t.where(e.boxes,function(e){return"left"===e.options.position}),g=t.where(e.boxes,function(e){return"right"===e.options.position}),m=t.where(e.boxes,function(e){return"top"===e.options.position}),p=t.where(e.boxes,function(e){return"bottom"===e.options.position}),u=t.where(e.boxes,function(e){return"chartArea"===e.options.position});m.sort(function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)}),p.sort(function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)});var h=i-2*c,v=a-2*l,f=h/2,w=v/2,b=(i-f)/(d.length+g.length),_=(a-w)/(m.length+p.length),y=h,x=v,k=[];t.each(d.concat(g,m,p),n);var C=c,D=c,S=l,M=l;t.each(d.concat(g),s),t.each(d,function(e){C+=e.width}),t.each(g,function(e){D+=e.width}),t.each(m.concat(p),s),t.each(m,function(e){S+=e.height}),t.each(p,function(e){M+=e.height}),t.each(d.concat(g),o),C=c,D=c,S=l,M=l,t.each(d,function(e){C+=e.width}),t.each(g,function(e){D+=e.width}),t.each(m,function(e){S+=e.height}),t.each(p,function(e){M+=e.height});var T=a-S-M,A=i-C-D;(A!==y||T!==x)&&(t.each(d,function(e){e.height=T}),t.each(g,function(e){e.height=T}),t.each(m,function(e){e.options.fullWidth||(e.width=A)}),t.each(p,function(e){e.options.fullWidth||(e.width=A)}),x=T,y=A);var E=c,I=l;t.each(d.concat(m),r),E+=y,I+=x,t.each(g,r),t.each(p,r),e.chartArea={left:C,top:S,right:C+y,bottom:S+x},t.each(u,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(y,x)})}}}}},{}],28:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i=t.noop;e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var i=t.datasetIndex,a=this.chart,n=a.getDatasetMeta(i);n.hidden=null===n.hidden?!a.data.datasets[i].hidden:null,a.update()},labels:{boxWidth:40,padding:10,generateLabels:function(e){var i=e.data;return t.isArray(i.datasets)?i.datasets.map(function(t,i){return{text:t.label,fillStyle:t.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,datasetIndex:i}},this):[]}}},e.Legend=e.Element.extend({initialize:function(e){t.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:i,update:function(e,t,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:i,beforeFit:i,fit:function(){var i=this.options,a=i.labels,n=i.display,s=this.ctx,o=e.defaults.global,r=t.getValueOrDefault,c=r(a.fontSize,o.defaultFontSize),l=r(a.fontStyle,o.defaultFontStyle),d=r(a.fontFamily,o.defaultFontFamily),g=t.fontString(c,l,d),m=this.legendHitBoxes=[],p=this.minSize,u=this.isHorizontal();if(u?(p.width=this.maxWidth,p.height=n?10:0):(p.width=n?10:0,p.height=this.maxHeight),n&&u){var h=this.lineWidths=[0],v=this.legendItems.length?c+a.padding:0;s.textAlign="left",s.textBaseline="top",s.font=g,t.each(this.legendItems,function(e,t){var i=a.boxWidth+c/2+s.measureText(e.text).width;h[h.length-1]+i+a.padding>=this.width&&(v+=c+a.padding,h[h.length]=this.left),m[t]={left:0,top:0,width:i,height:c},h[h.length-1]+=i+a.padding},this),p.height+=v}this.width=p.width,this.height=p.height},afterFit:i,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var i=this.options,a=i.labels,n=e.defaults.global,s=n.elements.line,o=this.width,r=this.lineWidths;if(i.display){var c=this.ctx,l={x:this.left+(o-r[0])/2,y:this.top+a.padding,line:0},d=t.getValueOrDefault,g=d(a.fontColor,n.defaultFontColor),m=d(a.fontSize,n.defaultFontSize),p=d(a.fontStyle,n.defaultFontStyle),u=d(a.fontFamily,n.defaultFontFamily),h=t.fontString(m,p,u);if(this.isHorizontal()){c.textAlign="left",c.textBaseline="top",c.lineWidth=.5,c.strokeStyle=g,c.fillStyle=g,c.font=h;var v=a.boxWidth,f=this.legendHitBoxes;t.each(this.legendItems,function(e,t){var i=c.measureText(e.text).width,g=v+m/2+i,p=l.x,u=l.y;p+g>=o&&(u=l.y+=m+a.padding,l.line++,p=l.x=this.left+(o-r[l.line])/2),c.save(),c.fillStyle=d(e.fillStyle,n.defaultColor),c.lineCap=d(e.lineCap,s.borderCapStyle),c.lineDashOffset=d(e.lineDashOffset,s.borderDashOffset),c.lineJoin=d(e.lineJoin,s.borderJoinStyle),c.lineWidth=d(e.lineWidth,s.borderWidth),c.strokeStyle=d(e.strokeStyle,n.defaultColor),c.setLineDash&&c.setLineDash(d(e.lineDash,s.borderDash)),c.strokeRect(p,u,v,m),c.fillRect(p,u,v,m),c.restore(),f[t].left=p,f[t].top=u,c.fillText(e.text,v+m/2+p,u),e.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(v+m/2+p,u+m/2),c.lineTo(v+m/2+p+i,u+m/2),c.stroke()),l.x+=g+a.padding},this)}}},handleEvent:function(e){var i=t.getRelativePosition(e,this.chart.chart),a=i.x,n=i.y,s=this.options;if(a>=this.left&&a<=this.right&&n>=this.top&&n<=this.bottom)for(var o=this.legendHitBoxes,r=0;r<o.length;++r){var c=o[r];if(a>=c.left&&a<=c.left+c.width&&n>=c.top&&n<=c.top+c.height){s.onClick&&s.onClick.call(this,e,this.legendItems[r]);break}}}})}},{}],29:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.plugins=[],e.pluginService={register:function(t){var i=e.plugins;-1===i.indexOf(t)&&i.push(t)},remove:function(t){var i=e.plugins,a=i.indexOf(t);-1!==a&&i.splice(a,1)},notifyPlugins:function(i,a,n){t.each(e.plugins,function(e){e[i]&&"function"==typeof e[i]&&e[i].apply(n,a)},n)}};var i=t.noop;e.PluginBase=e.Element.extend({beforeInit:i,afterInit:i,beforeUpdate:i,afterUpdate:i,beforeDraw:i,afterDraw:i,destroy:i})}},{}],30:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(e){return""+e}}},e.Scale=e.Element.extend({beforeUpdate:function(){t.callCallback(this.options.beforeUpdate,[this])},update:function(e,i,a){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this.margins=t.extend({left:0,right:0,top:0,bottom:0},a),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){t.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){t.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(){t.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){t.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(e,t,i){return this.options.ticks.userCallback?this.options.ticks.userCallback(e,t,i):this.options.ticks.callback(e,t,i)},this)},afterTickToLabelConversion:function(){t.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var i=this.ctx,a=e.defaults.global,n=this.options.ticks,s=t.getValueOrDefault(n.fontSize,a.defaultFontSize),o=t.getValueOrDefault(n.fontStyle,a.defaultFontStyle),r=t.getValueOrDefault(n.fontFamily,a.defaultFontFamily),c=t.fontString(s,o,r);i.font=c;var l,d=i.measureText(this.ticks[0]).width,g=i.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=n.minRotation||0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=g/2+3,this.paddingLeft=d/2+3,this.longestTextCache||(this.longestTextCache={});for(var m,p,u=t.longestText(i,c,this.ticks,this.longestTextCache),h=u,v=this.getPixelForTick(1)-this.getPixelForTick(0)-6;h>v&&this.labelRotation<n.maxRotation;){if(m=Math.cos(t.toRadians(this.labelRotation)),p=Math.sin(t.toRadians(this.labelRotation)),l=m*d,l+s/2>this.yLabelWidth&&(this.paddingLeft=l+s/2),this.paddingRight=s/2,p*u>this.maxHeight){this.labelRotation--;break}this.labelRotation++,h=m*u}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){t.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callCallback(this.options.beforeFit,[this])},fit:function(){var i=this.minSize={width:0,height:0},a=this.options,n=e.defaults.global,s=a.ticks,o=a.scaleLabel,r=a.display,c=this.isHorizontal(),l=t.getValueOrDefault(s.fontSize,n.defaultFontSize),d=t.getValueOrDefault(s.fontStyle,n.defaultFontStyle),g=t.getValueOrDefault(s.fontFamily,n.defaultFontFamily),m=t.fontString(l,d,g),p=t.getValueOrDefault(o.fontSize,n.defaultFontSize),u=t.getValueOrDefault(o.fontStyle,n.defaultFontStyle),h=t.getValueOrDefault(o.fontFamily,n.defaultFontFamily),v=(t.fontString(p,u,h),a.gridLines.tickMarkLength);if(i.width=c?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:r?v:0,i.height=c?r?v:0:this.maxHeight,o.display&&r&&(c?i.height+=1.5*p:i.width+=1.5*p),s.display&&r){this.longestTextCache||(this.longestTextCache={});var f=t.longestText(this.ctx,m,this.ticks,this.longestTextCache);if(c){this.longestLabelWidth=f;var w=Math.sin(t.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*l;i.height=Math.min(this.maxHeight,i.height+w),this.ctx.font=m;var b=this.ctx.measureText(this.ticks[0]).width,_=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,y=Math.cos(t.toRadians(this.labelRotation)),x=Math.sin(t.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?y*b+3:b/2+3,this.paddingRight=0!==this.labelRotation?x*(l/2)+3:_/2+3}else{var k=this.maxWidth-i.width,C=s.mirror;C?f=0:f+=this.options.ticks.padding,k>f?i.width+=f:i.width=this.maxWidth,this.paddingTop=l/2,this.paddingBottom=l/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=i.width,this.height=i.height},afterFit:function(){t.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function i(e){return null===e||"undefined"==typeof e?0/0:"number"==typeof e&&isNaN(e)?0/0:"object"==typeof e?e instanceof Date||e.isValid?e:i(this.isHorizontal()?e.x:e.y):e},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(e,t){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),a=i/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),n=a*e+this.paddingLeft;t&&(n+=a/2);var s=this.left+Math.round(n);return s+=this.isFullWidth()?this.margins.left:0}var o=this.height-(this.paddingTop+this.paddingBottom);return this.top+e*(o/(this.ticks.length-1))},getPixelForDecimal:function(e){if(this.isHorizontal()){var t=this.width-(this.paddingLeft+this.paddingRight),i=t*e+this.paddingLeft,a=this.left+Math.round(i);return a+=this.isFullWidth()?this.margins.left:0}return this.top+e*this.height},getBasePixel:function(){var e=this,t=e.min,i=e.max;return e.getPixelForValue(e.beginAtZero?0:0>t&&0>i?i:t>0&&i>0?t:0)},draw:function(i){var a=this.options;if(a.display){var n,s,o,r,c,l=this.ctx,d=e.defaults.global,g=a.ticks,m=a.gridLines,p=a.scaleLabel,u=0!==this.labelRotation,h=g.autoSkip;g.maxTicksLimit&&(c=g.maxTicksLimit);var v=t.getValueOrDefault(g.fontColor,d.defaultFontColor),f=t.getValueOrDefault(g.fontSize,d.defaultFontSize),w=t.getValueOrDefault(g.fontStyle,d.defaultFontStyle),b=t.getValueOrDefault(g.fontFamily,d.defaultFontFamily),_=t.fontString(f,w,b),y=m.tickMarkLength,x=t.getValueOrDefault(p.fontColor,d.defaultFontColor),k=t.getValueOrDefault(p.fontSize,d.defaultFontSize),C=t.getValueOrDefault(p.fontStyle,d.defaultFontStyle),D=t.getValueOrDefault(p.fontFamily,d.defaultFontFamily),S=t.fontString(k,C,D),M=t.toRadians(this.labelRotation),T=Math.cos(M),A=(Math.sin(M),this.longestLabelWidth*T);if(l.fillStyle=v,this.isHorizontal()){n=!0;var E="bottom"===a.position?this.top:this.bottom-y,I="bottom"===a.position?this.top+y:this.bottom;if(s=!1,u&&(A/=2),(A+g.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(s=1+Math.floor((A+g.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),c&&this.ticks.length>c)for(;!s||this.ticks.length/(s||1)>c;)s||(s=1),s+=1;h||(s=!1),t.each(this.ticks,function(e,o){var r=this.ticks.length===o+1,c=s>1&&o%s>0||o%s===0&&o+s>=this.ticks.length;if((!c||r)&&void 0!==e&&null!==e){var d=this.getPixelForTick(o),p=this.getPixelForTick(o,m.offsetGridLines);m.display&&(o===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(l.lineWidth=m.zeroLineWidth,l.strokeStyle=m.zeroLineColor,n=!0):n&&(l.lineWidth=m.lineWidth,l.strokeStyle=m.color,n=!1),d+=t.aliasPixel(l.lineWidth),l.beginPath(),m.drawTicks&&(l.moveTo(d,E),l.lineTo(d,I)),m.drawOnChartArea&&(l.moveTo(d,i.top),l.lineTo(d,i.bottom)),l.stroke()),g.display&&(l.save(),l.translate(p+g.labelOffset,u?this.top+12:"top"===a.position?this.bottom-y:this.top+y),l.rotate(-1*M),l.font=_,l.textAlign=u?"right":"center",l.textBaseline=u?"middle":"top"===a.position?"bottom":"top",l.fillText(e,0,0),l.restore())}},this),p.display&&(l.textAlign="center",l.textBaseline="middle",l.fillStyle=x,l.font=S,o=this.left+(this.right-this.left)/2,r="bottom"===a.position?this.bottom-k/2:this.top+k/2,l.fillText(p.labelString,o,r))}else{n=!0;var P="right"===a.position?this.left:this.right-5,F="right"===a.position?this.left+5:this.right;if(t.each(this.ticks,function(e,s){if(void 0!==e&&null!==e){var o=this.getPixelForTick(s);if(m.display&&(s===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(l.lineWidth=m.zeroLineWidth,l.strokeStyle=m.zeroLineColor,n=!0):n&&(l.lineWidth=m.lineWidth,l.strokeStyle=m.color,n=!1),o+=t.aliasPixel(l.lineWidth),l.beginPath(),m.drawTicks&&(l.moveTo(P,o),l.lineTo(F,o)),m.drawOnChartArea&&(l.moveTo(i.left,o),l.lineTo(i.right,o)),l.stroke()),g.display){var r,c=this.getPixelForTick(s,m.offsetGridLines);l.save(),"left"===a.position?g.mirror?(r=this.right+g.padding,l.textAlign="left"):(r=this.right-g.padding,l.textAlign="right"):g.mirror?(r=this.left-g.padding,l.textAlign="right"):(r=this.left+g.padding,l.textAlign="left"),l.translate(r,c+g.labelOffset),l.rotate(-1*M),l.font=_,l.textBaseline="middle",l.fillText(e,0,0),l.restore()}}},this),p.display){o="left"===a.position?this.left+k/2:this.right-k/2,r=this.top+(this.bottom-this.top)/2;var L="left"===a.position?-.5*Math.PI:.5*Math.PI;l.save(),l.translate(o,r),l.rotate(L),l.textAlign="center",l.fillStyle=x,l.font=S,l.textBaseline="middle",l.fillText(p.labelString,0,0),l.restore()}}if(m.drawBorder){l.lineWidth=m.lineWidth,l.strokeStyle=m.color;var z=this.left,O=this.right,W=this.top,R=this.bottom,B=t.aliasPixel(l.lineWidth);this.isHorizontal()?(W=R="top"===a.position?this.bottom:this.top,W+=B,R+=B):(z=O="left"===a.position?this.right:this.left,z+=B,O+=B),l.beginPath(),l.moveTo(z,W),l.lineTo(O,R),l.stroke()}}}})}},{}],31:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,i,a){this.constructors[e]=i,this.defaults[e]=t.clone(a)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(i){return this.defaults.hasOwnProperty(i)?t.scaleMerge(e.defaults.scale,this.defaults[i]):{}},updateScaleDefaults:function(e,i){var a=this.defaults;a.hasOwnProperty(e)&&(a[e]=t.extend(a[e],i))},addScalesToLayout:function(i){t.each(i.scales,function(t){e.layoutService.addBox(i,t)})}}}},{}],32:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var i=t.noop;e.Title=e.Element.extend({initialize:function(i){t.extend(this,i),this.options=t.configMerge(e.defaults.global.title,i.options),this.legendHitBoxes=[]},beforeUpdate:i,update:function(e,t,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:i,afterBuildLabels:i,beforeFit:i,fit:function(){var i=this,a=(i.ctx,t.getValueOrDefault),n=i.options,s=e.defaults.global,o=n.display,r=a(n.fontSize,s.defaultFontSize),c=i.minSize;i.isHorizontal()?(c.width=i.maxWidth,c.height=o?r+2*n.padding:0):(c.width=o?r+2*n.padding:0,c.height=i.maxHeight),i.width=c.width,i.height=c.height},afterFit:i,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var i=this,a=i.ctx,n=t.getValueOrDefault,s=i.options,o=e.defaults.global;if(s.display){var r,c,l=n(s.fontSize,o.defaultFontSize),d=n(s.fontStyle,o.defaultFontStyle),g=n(s.fontFamily,o.defaultFontFamily),m=t.fontString(l,d,g),p=0,u=i.top,h=i.left,v=i.bottom,f=i.right;a.fillStyle=n(s.fontColor,o.defaultFontColor),a.font=m,i.isHorizontal()?(r=h+(f-h)/2,c=u+(v-u)/2):(r="left"===s.position?h+l/2:f-l/2,c=u+(v-u)/2,p=Math.PI*("left"===s.position?-.5:.5)),a.save(),a.translate(r,c),a.rotate(p),a.textAlign="center",a.textBaseline="middle",a.fillText(s.text,0,0),a.restore()}}})}},{}],33:[function(e,t){"use strict";t.exports=function(e){function t(e,t){return t&&(i.isArray(t)?e=e.concat(t):e.push(t)),e}var i=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:i.noop,title:function(e,t){var i="";return e.length>0&&(e[0].xLabel?i=e[0].xLabel:t.labels.length>0&&e[0].index<t.labels.length&&(i=t.labels[e[0].index])),i},afterTitle:i.noop,beforeBody:i.noop,beforeLabel:i.noop,label:function(e,t){var i=t.datasets[e.datasetIndex].label||"";return i+": "+e.yLabel},afterLabel:i.noop,afterBody:i.noop,beforeFooter:i.noop,footer:i.noop,afterFooter:i.noop}},e.Tooltip=e.Element.extend({initialize:function(){var t=e.defaults.global,a=this._options,n=a.tooltips;i.extend(this,{_model:{xPadding:n.xPadding,yPadding:n.yPadding,xAlign:n.yAlign,yAlign:n.xAlign,bodyColor:n.bodyColor,_bodyFontFamily:i.getValueOrDefault(n.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:i.getValueOrDefault(n.bodyFontStyle,t.defaultFontStyle),_bodyAlign:n.bodyAlign,bodyFontSize:i.getValueOrDefault(n.bodyFontSize,t.defaultFontSize),bodySpacing:n.bodySpacing,titleColor:n.titleColor,_titleFontFamily:i.getValueOrDefault(n.titleFontFamily,t.defaultFontFamily),_titleFontStyle:i.getValueOrDefault(n.titleFontStyle,t.defaultFontStyle),titleFontSize:i.getValueOrDefault(n.titleFontSize,t.defaultFontSize),_titleAlign:n.titleAlign,titleSpacing:n.titleSpacing,titleMarginBottom:n.titleMarginBottom,footerColor:n.footerColor,_footerFontFamily:i.getValueOrDefault(n.footerFontFamily,t.defaultFontFamily),_footerFontStyle:i.getValueOrDefault(n.footerFontStyle,t.defaultFontStyle),footerFontSize:i.getValueOrDefault(n.footerFontSize,t.defaultFontSize),_footerAlign:n.footerAlign,footerSpacing:n.footerSpacing,footerMarginTop:n.footerMarginTop,caretSize:n.caretSize,cornerRadius:n.cornerRadius,backgroundColor:n.backgroundColor,opacity:0,legendColorBackground:n.multiKeyBackground}})},getTitle:function(){var e=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),i=this._options.tooltips.callbacks.title.apply(this,arguments),a=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),n=[];
return n=t(n,e),n=t(n,i),n=t(n,a)},getBeforeBody:function(){var e=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var a=[];return i.each(e,function(e){i.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,e,t),a),i.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,e,t),a),i.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,e,t),a)},this),a},getAfterBody:function(){var e=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),i=this._options.tooltips.callbacks.footer.apply(this,arguments),a=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),n=[];return n=t(n,e),n=t(n,i),n=t(n,a)},getAveragePosition:function(e){if(!e.length)return!1;var t=[],a=[];i.each(e,function(e){if(e&&e.hasValue()){var i=e.tooltipPosition();t.push(i.x),a.push(i.y)}});for(var n=0,s=0,o=0;o<t.length;o++)n+=t[o],s+=a[o];return{x:Math.round(n/t.length),y:Math.round(s/t.length)}},update:function(e){if(this._active.length){this._model.opacity=1;var t,a=this._active[0],n=[],s=[];if("single"===this._options.tooltips.mode){var o=a._yScale||a._scale;s.push({xLabel:a._xScale?a._xScale.getLabelForIndex(a._index,a._datasetIndex):"",yLabel:o?o.getLabelForIndex(a._index,a._datasetIndex):"",index:a._index,datasetIndex:a._datasetIndex}),t=this.getAveragePosition(this._active)}else i.each(this._data.datasets,function(e,t){if(this._chartInstance.isDatasetVisible(t)){var i=this._chartInstance.getDatasetMeta(t),n=i.data[a._index];if(n){var o=a._yScale||a._scale;s.push({xLabel:n._xScale?n._xScale.getLabelForIndex(n._index,n._datasetIndex):"",yLabel:o?o.getLabelForIndex(n._index,n._datasetIndex):"",index:a._index,datasetIndex:t})}}},this),i.each(this._active,function(e){e&&n.push({borderColor:e._view.borderColor,backgroundColor:e._view.backgroundColor})},null),t=this.getAveragePosition(this._active);i.extend(this._model,{title:this.getTitle(s,this._data),beforeBody:this.getBeforeBody(s,this._data),body:this.getBody(s,this._data),afterBody:this.getAfterBody(s,this._data),footer:this.getFooter(s,this._data)}),i.extend(this._model,{x:Math.round(t.x),y:Math.round(t.y),caretPadding:i.getValueOrDefault(t.padding,2),labelColors:n});var r=this.getTooltipSize(this._model);this.determineAlignment(r),i.extend(this._model,this.getBackgroundPoint(this._model,r))}else this._model.opacity=0;return e&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(e){var t=this._chart.ctx,a={height:2*e.yPadding,width:0},n=e.body.length+e.beforeBody.length+e.afterBody.length;return a.height+=e.title.length*e.titleFontSize,a.height+=(e.title.length-1)*e.titleSpacing,a.height+=e.title.length?e.titleMarginBottom:0,a.height+=n*e.bodyFontSize,a.height+=n?(n-1)*e.bodySpacing:0,a.height+=e.footer.length?e.footerMarginTop:0,a.height+=e.footer.length*e.footerFontSize,a.height+=e.footer.length?(e.footer.length-1)*e.footerSpacing:0,t.font=i.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),i.each(e.title,function(e){a.width=Math.max(a.width,t.measureText(e).width)}),t.font=i.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),i.each(e.beforeBody.concat(e.afterBody),function(e){a.width=Math.max(a.width,t.measureText(e).width)}),i.each(e.body,function(i){a.width=Math.max(a.width,t.measureText(i).width+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0))},this),t.font=i.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),i.each(e.footer,function(e){a.width=Math.max(a.width,t.measureText(e).width)}),a.width+=2*e.xPadding,a},determineAlignment:function(e){this._model.y<e.height?this._model.yAlign="top":this._model.y>this._chart.height-e.height&&(this._model.yAlign="bottom");var t,i,a,n,s,o=this,r=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,c=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2;"center"===this._model.yAlign?(t=function(e){return r>=e},i=function(e){return e>r}):(t=function(t){return t<=e.width/2},i=function(t){return t>=o._chart.width-e.width/2}),a=function(t){return t+e.width>o._chart.width},n=function(t){return t-e.width<0},s=function(e){return c>=e?"top":"bottom"},t(this._model.x)?(this._model.xAlign="left",a(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=s(this._model.y))):i(this._model.x)&&(this._model.xAlign="right",n(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=s(this._model.y)))},getBackgroundPoint:function(e,t){var i={x:e.x,y:e.y};return"right"===e.xAlign?i.x-=t.width:"center"===e.xAlign&&(i.x-=t.width/2),"top"===e.yAlign?i.y+=e.caretPadding+e.caretSize:i.y-="bottom"===e.yAlign?t.height+e.caretPadding+e.caretSize:t.height/2,"center"===e.yAlign?"left"===e.xAlign?i.x+=e.caretPadding+e.caretSize:"right"===e.xAlign&&(i.x-=e.caretPadding+e.caretSize):"left"===e.xAlign?i.x-=e.cornerRadius+e.caretPadding:"right"===e.xAlign&&(i.x+=e.cornerRadius+e.caretPadding),i},drawCaret:function(e,t,a){var n,s,o,r,c,l,d=this._view,g=this._chart.ctx;"center"===d.yAlign?("left"===d.xAlign?(n=e.x,s=n-d.caretSize,o=n):(n=e.x+t.width,s=n+d.caretSize,o=n),c=e.y+t.height/2,r=c-d.caretSize,l=c+d.caretSize):("left"===d.xAlign?(n=e.x+d.cornerRadius,s=n+d.caretSize,o=s+d.caretSize):"right"===d.xAlign?(n=e.x+t.width-d.cornerRadius,s=n-d.caretSize,o=s-d.caretSize):(s=e.x+t.width/2,n=s-d.caretSize,o=s+d.caretSize),"top"===d.yAlign?(r=e.y,c=r-d.caretSize,l=r):(r=e.y+t.height,c=r+d.caretSize,l=r));var m=i.color(d.backgroundColor);g.fillStyle=m.alpha(a*m.alpha()).rgbString(),g.beginPath(),g.moveTo(n,r),g.lineTo(s,c),g.lineTo(o,l),g.closePath(),g.fill()},drawTitle:function(e,t,a,n){if(t.title.length){a.textAlign=t._titleAlign,a.textBaseline="top";var s=i.color(t.titleColor);a.fillStyle=s.alpha(n*s.alpha()).rgbString(),a.font=i.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),i.each(t.title,function(i,n){a.fillText(i,e.x,e.y),e.y+=t.titleFontSize+t.titleSpacing,n+1===t.title.length&&(e.y+=t.titleMarginBottom-t.titleSpacing)})}},drawBody:function(e,t,a,n){a.textAlign=t._bodyAlign,a.textBaseline="top";var s=i.color(t.bodyColor);a.fillStyle=s.alpha(n*s.alpha()).rgbString(),a.font=i.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),i.each(t.beforeBody,function(i){a.fillText(i,e.x,e.y),e.y+=t.bodyFontSize+t.bodySpacing}),i.each(t.body,function(s,o){"single"!==this._options.tooltips.mode&&(a.fillStyle=i.color(t.legendColorBackground).alpha(n).rgbaString(),a.fillRect(e.x,e.y,t.bodyFontSize,t.bodyFontSize),a.strokeStyle=i.color(t.labelColors[o].borderColor).alpha(n).rgbaString(),a.strokeRect(e.x,e.y,t.bodyFontSize,t.bodyFontSize),a.fillStyle=i.color(t.labelColors[o].backgroundColor).alpha(n).rgbaString(),a.fillRect(e.x+1,e.y+1,t.bodyFontSize-2,t.bodyFontSize-2),a.fillStyle=i.color(t.bodyColor).alpha(n).rgbaString()),a.fillText(s,e.x+("single"!==this._options.tooltips.mode?t.bodyFontSize+2:0),e.y),e.y+=t.bodyFontSize+t.bodySpacing},this),i.each(t.afterBody,function(i){a.fillText(i,e.x,e.y),e.y+=t.bodyFontSize}),e.y-=t.bodySpacing},drawFooter:function(e,t,a,n){if(t.footer.length){e.y+=t.footerMarginTop,a.textAlign=t._footerAlign,a.textBaseline="top";var s=i.color(t.footerColor);a.fillStyle=s.alpha(n*s.alpha()).rgbString(),a.font=i.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),i.each(t.footer,function(i){a.fillText(i,e.x,e.y),e.y+=t.footerFontSize+t.footerSpacing})}},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var a=t.caretPadding,n=this.getTooltipSize(t),s={x:t.x,y:t.y},o=Math.abs(t.opacity<.001)?0:t.opacity;if(this._options.tooltips.enabled){var r=i.color(t.backgroundColor);e.fillStyle=r.alpha(o*r.alpha()).rgbString(),i.drawRoundedRectangle(e,s.x,s.y,n.width,n.height,t.cornerRadius),e.fill(),this.drawCaret(s,n,o,a),s.x+=t.xPadding,s.y+=t.yPadding,this.drawTitle(s,t,e,o),this.drawBody(s,t,e,o),this.drawFooter(s,t,e,o)}}}})}},{}],34:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i=e.defaults.global;i.elements.arc={backgroundColor:i.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return t?Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2):!1},inRange:function(e,i){var a=this._view;if(a){for(var n=t.getAngleFromPoint(a,{x:e,y:i}),s=n.angle,o=n.distance,r=a.startAngle,c=a.endAngle;r>c;)c+=2*Math.PI;for(;s>c;)s-=2*Math.PI;for(;r>s;)s+=2*Math.PI;var l=s>=r&&c>=s,d=o>=a.innerRadius&&o<=a.outerRadius;return l&&d}return!1},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,i=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},draw:function(){var e=this._chart.ctx,t=this._view,i=t.startAngle,a=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,i,a),e.arc(t.x,t.y,t.innerRadius,a,i,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],35:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:i.defaultColor,borderWidth:3,borderColor:i.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},e.elements.Line=e.Element.extend({lineToNextPoint:function(e,t,i,a,n){var s=this._chart.ctx;t._view.skip?a.call(this,e,t,i):e._view.skip?n.call(this,e,t,i):0===t._view.tension?s.lineTo(t._view.x,t._view.y):s.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,t._view.controlPointPreviousX,t._view.controlPointPreviousY,t._view.x,t._view.y)},draw:function(){function e(e){o._view.skip||r._view.skip?e&&s.lineTo(a._view.scaleZero.x,a._view.scaleZero.y):s.bezierCurveTo(r._view.controlPointNextX,r._view.controlPointNextY,o._view.controlPointPreviousX,o._view.controlPointPreviousY,o._view.x,o._view.y)}var a=this,n=this._view,s=this._chart.ctx,o=this._children[0],r=this._children[this._children.length-1];s.save(),this._children.length>0&&n.fill&&(s.beginPath(),t.each(this._children,function(e,i){var a=t.previousItem(this._children,i),o=t.nextItem(this._children,i);0===i?(this._loop?s.moveTo(n.scaleZero.x,n.scaleZero.y):s.moveTo(e._view.x,n.scaleZero),e._view.skip?this._loop||s.moveTo(o._view.x,this._view.scaleZero):s.lineTo(e._view.x,e._view.y)):this.lineToNextPoint(a,e,o,function(e,t,i){this._loop?s.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(s.lineTo(e._view.x,this._view.scaleZero),s.moveTo(i._view.x,this._view.scaleZero))},function(e,t){s.lineTo(t._view.x,t._view.y)})},this),this._loop?e(!0):(s.lineTo(this._children[this._children.length-1]._view.x,n.scaleZero),s.lineTo(this._children[0]._view.x,n.scaleZero)),s.fillStyle=n.backgroundColor||i.defaultColor,s.closePath(),s.fill());var c=i.elements.line;s.lineCap=n.borderCapStyle||c.borderCapStyle,s.setLineDash&&s.setLineDash(n.borderDash||c.borderDash),s.lineDashOffset=n.borderDashOffset||c.borderDashOffset,s.lineJoin=n.borderJoinStyle||c.borderJoinStyle,s.lineWidth=n.borderWidth||c.borderWidth,s.strokeStyle=n.borderColor||i.defaultColor,s.beginPath(),t.each(this._children,function(e,i){var a=t.previousItem(this._children,i),n=t.nextItem(this._children,i);0===i?s.moveTo(e._view.x,e._view.y):this.lineToNextPoint(a,e,n,function(e,t,i){s.moveTo(i._view.x,i._view.y)},function(e,t){s.moveTo(t._view.x,t._view.y)})},this),this._loop&&this._children.length>0&&e(),s.stroke(),s.restore()}})}},{}],36:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i=e.defaults.global,a=i.defaultColor;i.elements.point={radius:3,pointStyle:"circle",backgroundColor:a,borderWidth:1,borderColor:a,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var i=this._view;return i?Math.pow(e-i.x,2)+Math.pow(t-i.y,2)<Math.pow(i.hitRadius+i.radius,2):!1},inLabelRange:function(e){var t=this._view;return t?Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2):!1},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var e,n,s,o,r,c,l=this._view,d=this._chart.ctx,g=l.pointStyle,m=l.radius,p=l.x,u=l.y;if(!l.skip){if("object"==typeof g&&(e=g.toString(),"[object HTMLImageElement]"===e||"[object HTMLCanvasElement]"===e))return void d.drawImage(g,p-g.width/2,u-g.height/2);if(!(isNaN(m)||0>=m)){switch(d.strokeStyle=l.borderColor||a,d.lineWidth=t.getValueOrDefault(l.borderWidth,i.elements.point.borderWidth),d.fillStyle=l.backgroundColor||a,g){default:d.beginPath(),d.arc(p,u,m,0,2*Math.PI),d.closePath(),d.fill();break;case"triangle":d.beginPath(),n=3*m/Math.sqrt(3),r=n*Math.sqrt(3)/2,d.moveTo(p-n/2,u+r/3),d.lineTo(p+n/2,u+r/3),d.lineTo(p,u-2*r/3),d.closePath(),d.fill();break;case"rect":c=1/Math.SQRT2*m,d.fillRect(p-c,u-c,2*c,2*c),d.strokeRect(p-c,u-c,2*c,2*c);break;case"rectRot":d.translate(p,u),d.rotate(Math.PI/4),c=1/Math.SQRT2*m,d.fillRect(-c,-c,2*c,2*c),d.strokeRect(-c,-c,2*c,2*c),d.setTransform(1,0,0,1,0,0);break;case"cross":d.beginPath(),d.moveTo(p,u+m),d.lineTo(p,u-m),d.moveTo(p-m,u),d.lineTo(p+m,u),d.closePath();break;case"crossRot":d.beginPath(),s=Math.cos(Math.PI/4)*m,o=Math.sin(Math.PI/4)*m,d.moveTo(p-s,u-o),d.lineTo(p+s,u+o),d.moveTo(p-s,u+o),d.lineTo(p+s,u-o),d.closePath();break;case"star":d.beginPath(),d.moveTo(p,u+m),d.lineTo(p,u-m),d.moveTo(p-m,u),d.lineTo(p+m,u),s=Math.cos(Math.PI/4)*m,o=Math.sin(Math.PI/4)*m,d.moveTo(p-s,u-o),d.lineTo(p+s,u+o),d.moveTo(p-s,u+o),d.lineTo(p+s,u-o),d.closePath();break;case"line":d.beginPath(),d.moveTo(p-m,u),d.lineTo(p+m,u),d.closePath();break;case"dash":d.beginPath(),d.moveTo(p,u),d.lineTo(p+m,u),d.closePath()}d.stroke()}}}})}},{}],37:[function(e,t){"use strict";t.exports=function(e){var t=(e.helpers,e.defaults.global);t.elements.rectangle={backgroundColor:t.defaultColor,borderWidth:0,borderColor:t.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return c[(d+e)%4]}var t=this._chart.ctx,i=this._view,a=i.width/2,n=i.x-a,s=i.x+a,o=i.base-(i.base-i.y),r=i.borderWidth/2;i.borderWidth&&(n+=r,s-=r,o+=r),t.beginPath(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth;var c=[[n,i.base],[n,o],[s,o],[s,i.base]],l=["bottom","left","top","right"],d=l.indexOf(i.borderSkipped,0);-1===d&&(d=0),t.moveTo.apply(t,e(0));for(var g=1;4>g;g++)t.lineTo.apply(t,e(g));t.fill(),i.borderWidth&&t.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var i=this._view;return i?i.y<i.base?e>=i.x-i.width/2&&e<=i.x+i.width/2&&t>=i.y&&t<=i.base:e>=i.x-i.width/2&&e<=i.x+i.width/2&&t>=i.base&&t<=i.y:!1},inLabelRange:function(e){var t=this._view;return t?e>=t.x-t.width/2&&e<=t.x+t.width/2:!1},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],38:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i={position:"bottom"},a=e.Scale.extend({determineDataLimits:function(){this.minIndex=0,this.maxIndex=this.chart.data.labels.length-1;var e;void 0!==this.options.ticks.min&&(e=t.indexOf(this.chart.data.labels,this.options.ticks.min),this.minIndex=-1!==e?e:this.minIndex),void 0!==this.options.ticks.max&&(e=t.indexOf(this.chart.data.labels,this.options.ticks.max),this.maxIndex=-1!==e?e:this.maxIndex),this.min=this.chart.data.labels[this.minIndex],this.max=this.chart.data.labels[this.maxIndex]},buildTicks:function(){this.ticks=0===this.minIndex&&this.maxIndex===this.chart.data.labels.length-1?this.chart.data.labels:this.chart.data.labels.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(e){return this.ticks[e]},getPixelForValue:function(e,t,i,a){var n=Math.max(this.maxIndex+1-this.minIndex-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var s=this.width-(this.paddingLeft+this.paddingRight),o=s/n,r=o*(t-this.minIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&a&&(r+=o/2),this.left+Math.round(r)}var c=this.height-(this.paddingTop+this.paddingBottom),l=c/n,d=l*(t-this.minIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&a&&(d+=l/2),this.top+Math.round(d)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t,i=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),a=this.isHorizontal(),n=a?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),s=n/i;return this.options.gridLines.offsetGridLines&&(e-=s/2),e-=a?this.paddingLeft:this.paddingTop,t=0>=e?0:Math.round(e/s)}});e.scaleService.registerScaleType("category",a,i)}},{}],39:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i={position:"left",ticks:{callback:function(e,i,a){var n=a.length>3?a[2]-a[1]:a[1]-a[0];Math.abs(n)>1&&e!==Math.floor(e)&&(n=e-Math.floor(e));var s=t.log10(Math.abs(n)),o="";if(0!==e){var r=-1*Math.floor(s);r=Math.max(Math.min(r,20),0),o=e.toFixed(r)}else o="0";return o}}},a=e.Scale.extend({determineDataLimits:function(){function e(e){return c?e.xAxisID===i.id:e.yAxisID===i.id}var i=this,a=i.options,n=a.ticks,s=i.chart,o=s.data,r=o.datasets,c=i.isHorizontal();if(i.min=null,i.max=null,a.stacked){var l={},d=!1,g=!1;t.each(r,function(n,o){var r=s.getDatasetMeta(o);void 0===l[r.type]&&(l[r.type]={positiveValues:[],negativeValues:[]});var c=l[r.type].positiveValues,m=l[r.type].negativeValues;s.isDatasetVisible(o)&&e(r)&&t.each(n.data,function(e,t){var n=+i.getRightValue(e);isNaN(n)||r.data[t].hidden||(c[t]=c[t]||0,m[t]=m[t]||0,a.relativePoints?c[t]=100:0>n?(g=!0,m[t]+=n):(d=!0,c[t]+=n))})}),t.each(l,function(e){var a=e.positiveValues.concat(e.negativeValues),n=t.min(a),s=t.max(a);i.min=null===i.min?n:Math.min(i.min,n),i.max=null===i.max?s:Math.max(i.max,s)})}else t.each(r,function(a,n){var o=s.getDatasetMeta(n);s.isDatasetVisible(n)&&e(o)&&t.each(a.data,function(e,t){var a=+i.getRightValue(e);isNaN(a)||o.data[t].hidden||(null===i.min?i.min=a:a<i.min&&(i.min=a),null===i.max?i.max=a:a>i.max&&(i.max=a))})});if(n.beginAtZero){var m=t.sign(i.min),p=t.sign(i.max);0>m&&0>p?i.max=0:m>0&&p>0&&(i.min=0)}void 0!==n.min?i.min=n.min:void 0!==n.suggestedMin&&(i.min=Math.min(i.min,n.suggestedMin)),void 0!==n.max?i.max=n.max:void 0!==n.suggestedMax&&(i.max=Math.max(i.max,n.suggestedMax)),i.min===i.max&&(i.max++,n.beginAtZero||i.min--)},buildTicks:function(){var i,a=this,n=a.options,s=n.ticks,o=t.getValueOrDefault,r=a.isHorizontal(),c=a.ticks=[];if(r)i=Math.min(s.maxTicksLimit?s.maxTicksLimit:11,Math.ceil(a.width/50));else{var l=o(s.fontSize,e.defaults.global.defaultFontSize);i=Math.min(s.maxTicksLimit?s.maxTicksLimit:11,Math.ceil(a.height/(2*l)))}i=Math.max(2,i);var d,g=s.fixedStepSize&&s.fixedStepSize>0||s.stepSize&&s.stepSize>0;if(g)d=o(s.fixedStepSize,s.stepSize);else{var m=t.niceNum(a.max-a.min,!1);d=t.niceNum(m/(i-1),!0)}var p=Math.floor(a.min/d)*d,u=Math.ceil(a.max/d)*d,h=(u-p)/d;h=t.almostEquals(h,Math.round(h),d/1e3)?Math.round(h):Math.ceil(h),c.push(void 0!==s.min?s.min:p);for(var v=1;h>v;++v)c.push(p+v*d);c.push(void 0!==s.max?s.max:u),r||c.reverse(),a.max=t.max(c),a.min=t.min(c),s.reverse?(c.reverse(),a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)},getPixelForValue:function(e){var t,i,a=this,n=a.paddingLeft,s=a.paddingBottom,o=a.start,r=+a.getRightValue(e),c=a.end-o;return a.isHorizontal()?(i=a.width-(n+a.paddingRight),t=a.left+i/c*(r-o),Math.round(t+n)):(i=a.height-(a.paddingTop+s),t=a.bottom-s-i/c*(r-o),Math.round(t))},getValueForPixel:function(e){var t=this,i=t.isHorizontal(),a=t.paddingLeft,n=t.paddingBottom,s=i?t.width-(a+t.paddingRight):t.height-(t.paddingTop+n),o=(i?e-t.left-a:t.bottom-n-e)/s;return t.start+(t.end-t.start)*o},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticksAsNumbers[e],null,null,t)}});e.scaleService.registerScaleType("linear",a,i)}},{}],40:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i={position:"left",ticks:{callback:function(e,i,a){var n=e/Math.pow(10,Math.floor(t.log10(e)));return 1===n||2===n||5===n||0===i||i===a.length-1?e.toExponential():""}}},a=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===i.id:e.yAxisID===i.id}var i=this,a=i.options,n=a.ticks,s=i.chart,o=s.data,r=o.datasets,c=t.getValueOrDefault,l=i.isHorizontal();if(i.min=null,i.max=null,a.stacked){var d={};t.each(r,function(n,o){var r=s.getDatasetMeta(o);s.isDatasetVisible(o)&&e(r)&&(void 0===d[r.type]&&(d[r.type]=[]),t.each(n.data,function(e,t){var n=d[r.type],s=+i.getRightValue(e);isNaN(s)||r.data[t].hidden||(n[t]=n[t]||0,a.relativePoints?n[t]=100:n[t]+=s)}))}),t.each(d,function(e){var a=t.min(e),n=t.max(e);i.min=null===i.min?a:Math.min(i.min,a),i.max=null===i.max?n:Math.max(i.max,n)})}else t.each(r,function(a,n){var o=s.getDatasetMeta(n);s.isDatasetVisible(n)&&e(o)&&t.each(a.data,function(e,t){var a=+i.getRightValue(e);isNaN(a)||o.data[t].hidden||(null===i.min?i.min=a:a<i.min&&(i.min=a),null===i.max?i.max=a:a>i.max&&(i.max=a))})});i.min=c(n.min,i.min),i.max=c(n.max,i.max),i.min===i.max&&(0!==i.min&&null!==i.min?(i.min=Math.pow(10,Math.floor(t.log10(i.min))-1),i.max=Math.pow(10,Math.floor(t.log10(i.max))+1)):(i.min=1,i.max=10))},buildTicks:function(){for(var e=this,i=e.options,a=i.ticks,n=t.getValueOrDefault,s=e.ticks=[],o=n(a.min,Math.pow(10,Math.floor(t.log10(e.min))));o<e.max;){s.push(o);var r=Math.floor(t.log10(o)),c=Math.floor(o/Math.pow(10,r))+1;10===c&&(c=1,++r),o=c*Math.pow(10,r)}var l=n(a.max,o);s.push(l),e.isHorizontal()||s.reverse(),e.max=t.max(s),e.min=t.min(s),a.reverse?(s.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickValues[e],null,null,t)},getPixelForValue:function(e){var i,a,n=this,s=n.start,o=+n.getRightValue(e),r=t.log10(n.end)-t.log10(s),c=n.paddingTop,l=n.paddingBottom,d=n.paddingLeft;return n.isHorizontal()?0===o?a=n.left+d:(i=n.width-(d+n.paddingRight),a=n.left+i/r*(t.log10(o)-t.log10(s)),a+=d):0===o?a=n.top+c:(i=n.height-(c+l),a=n.bottom-l-i/r*(t.log10(o)-t.log10(s))),a},getValueForPixel:function(e){var i,a,n=this,s=t.log10(n.end)-t.log10(n.start);return n.isHorizontal()?(a=n.width-(n.paddingLeft+n.paddingRight),i=n.start*Math.pow(10,(e-n.left-n.paddingLeft)*s/a)):(a=n.height-(n.paddingTop+n.paddingBottom),i=Math.pow(10,(n.bottom-n.paddingBottom-e)*s/a)/n.start),i}});e.scaleService.registerScaleType("logarithmic",a,i)}},{}],41:[function(e,t){"use strict";t.exports=function(e){var t=e.helpers,i=e.defaults.global,a={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(e){return e}}},n=e.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var e=this.options;this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var a=t.min([this.height,this.width]),n=t.getValueOrDefault(e.ticks.fontSize,i.defaultFontSize);this.drawingArea=e.display?a/2-(n/2+e.ticks.backdropPaddingY):a/2},determineDataLimits:function(){if(this.min=null,this.max=null,t.each(this.chart.data.datasets,function(e,i){if(this.chart.isDatasetVisible(i)){var a=this.chart.getDatasetMeta(i);t.each(e.data,function(e,t){var i=+this.getRightValue(e);isNaN(i)||a.data[t].hidden||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)}},this),this.options.ticks.beginAtZero){var e=t.sign(this.min),i=t.sign(this.max);0>e&&0>i?this.max=0:e>0&&i>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var e=t.getValueOrDefault(this.options.ticks.fontSize,i.defaultFontSize),a=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)));a=Math.max(2,a);var n=t.niceNum(this.max-this.min,!1),s=t.niceNum(n/(a-1),!0),o=Math.floor(this.min/s)*s,r=Math.ceil(this.max/s)*s,c=Math.ceil((r-o)/s);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:o);for(var l=1;c>l;++l)this.ticks.push(o+l*s);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:r),this.max=t.max(this.ticks),this.min=t.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){e.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,a,n,s,o,r,c,l,d,g,m,p,u=this.options.pointLabels,h=t.getValueOrDefault(u.fontSize,i.defaultFontSize),v=t.getValueOrDefault(u.fontStyle,i.defaultFontStyle),f=t.getValueOrDefault(u.fontFamily,i.defaultFontFamily),w=t.fontString(h,v,f),b=t.min([this.height/2-h-5,this.width/2]),_=this.width,y=0;for(this.ctx.font=w,a=0;a<this.getValueCount();a++)e=this.getPointPosition(a,b),n=this.ctx.measureText(this.pointLabels[a]?this.pointLabels[a]:"").width+5,0===a||a===this.getValueCount()/2?(s=n/2,e.x+s>_&&(_=e.x+s,o=a),e.x-s<y&&(y=e.x-s,c=a)):a<this.getValueCount()/2?e.x+n>_&&(_=e.x+n,o=a):a>this.getValueCount()/2&&e.x-n<y&&(y=e.x-n,c=a);d=y,g=Math.ceil(_-this.width),r=this.getIndexAngle(o),l=this.getIndexAngle(c),m=g/Math.sin(r+Math.PI/2),p=d/Math.sin(l+Math.PI/2),m=t.isNumber(m)?m:0,p=t.isNumber(p)?p:0,this.drawingArea=Math.round(b-(p+m)/2),this.setCenterPoint(p,m)},setCenterPoint:function(e,t){var i=this.width-t-this.drawingArea,a=e+this.drawingArea;this.xCenter=Math.round((a+i)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(e){var t=2*Math.PI/this.getValueCount();return e*t-Math.PI/2},getDistanceFromCenterForValue:function(e){if(null===e)return 0;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t},getPointPosition:function(e,t){var i=this.getIndexAngle(e);return{x:Math.round(Math.cos(i)*t)+this.xCenter,y:Math.round(Math.sin(i)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,i=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:0>t&&0>i?i:t>0&&i>0?t:0)},draw:function(){if(this.options.display){var e=this.ctx;if(t.each(this.ticks,function(a,n){if(n>0||this.options.reverse){var s=this.getDistanceFromCenterForValue(this.ticks[n]),o=this.yCenter-s;if(this.options.gridLines.display)if(e.strokeStyle=this.options.gridLines.color,e.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,s,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var r=0;r<this.getValueCount();r++){var c=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.ticks[n]));0===r?e.moveTo(c.x,c.y):e.lineTo(c.x,c.y)}e.closePath(),e.stroke()}if(this.options.ticks.display){var l=t.getValueOrDefault(this.options.ticks.fontColor,i.defaultFontColor),d=t.getValueOrDefault(this.options.ticks.fontSize,i.defaultFontSize),g=t.getValueOrDefault(this.options.ticks.fontStyle,i.defaultFontStyle),m=t.getValueOrDefault(this.options.ticks.fontFamily,i.defaultFontFamily),p=t.fontString(d,g,m);if(e.font=p,this.options.ticks.showLabelBackdrop){var u=e.measureText(a).width;e.fillStyle=this.options.ticks.backdropColor,e.fillRect(this.xCenter-u/2-this.options.ticks.backdropPaddingX,o-d/2-this.options.ticks.backdropPaddingY,u+2*this.options.ticks.backdropPaddingX,d+2*this.options.ticks.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=l,e.fillText(a,this.xCenter,o)}}},this),!this.options.lineArc){e.lineWidth=this.options.angleLines.lineWidth,e.strokeStyle=this.options.angleLines.color;for(var a=this.getValueCount()-1;a>=0;a--){if(this.options.angleLines.display){var n=this.getPointPosition(a,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var s=this.getPointPosition(a,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),o=t.getValueOrDefault(this.options.pointLabels.fontColor,i.defaultFontColor),r=t.getValueOrDefault(this.options.pointLabels.fontSize,i.defaultFontSize),c=t.getValueOrDefault(this.options.pointLabels.fontStyle,i.defaultFontStyle),l=t.getValueOrDefault(this.options.pointLabels.fontFamily,i.defaultFontFamily),d=t.fontString(r,c,l);e.font=d,e.fillStyle=o;var g=this.pointLabels.length,m=this.pointLabels.length/2,p=m/2,u=p>a||a>g-p,h=a===p||a===g-p;e.textAlign=0===a?"center":a===m?"center":m>a?"left":"right",e.textBaseline=h?"middle":u?"bottom":"top",e.fillText(this.pointLabels[a]?this.pointLabels[a]:"",s.x,s.y)}}}}});e.scaleService.registerScaleType("radialLinear",n,a)}},{}],42:[function(e,t){"use strict";var i=e("moment");i="function"==typeof i?i:window.moment,t.exports=function(e){var t=e.helpers,a={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},n={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},s=e.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return this.labelMoments[e][t]},getMomentStartOf:function(e){return"week"===this.options.time.unit&&this.options.time.isoWeekday!==!1?e.clone().startOf("isoWeek").isoWeekday(this.options.time.isoWeekday):e.clone().startOf(this.tickUnit)},determineDataLimits:function(){this.labelMoments=[];var e=[];this.chart.data.labels&&this.chart.data.labels.length>0?(t.each(this.chart.data.labels,function(t){var i=this.parseTime(t);i.isValid()&&(this.options.time.round&&i.startOf(this.options.time.round),e.push(i))},this),this.firstTick=i.min.call(this,e),this.lastTick=i.max.call(this,e)):(this.firstTick=null,this.lastTick=null),t.each(this.chart.data.datasets,function(a,n){var s=[],o=this.chart.isDatasetVisible(n);"object"==typeof a.data[0]&&null!==a.data[0]?t.each(a.data,function(e){var t=this.parseTime(this.getRightValue(e));t.isValid()&&(this.options.time.round&&t.startOf(this.options.time.round),s.push(t),o&&(this.firstTick=null!==this.firstTick?i.min(this.firstTick,t):t,this.lastTick=null!==this.lastTick?i.max(this.lastTick,t):t))
},this):s=e,this.labelMoments.push(s)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||i()).clone(),this.lastTick=(this.lastTick||i()).clone()},buildTicks:function(){this.ctx.save();var i=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),n=t.getValueOrDefault(this.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),s=t.getValueOrDefault(this.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),o=t.fontString(i,n,s);if(this.ctx.font=o,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,1);else{var r=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),c=this.tickFormatFunction(this.firstTick,0,[]),l=this.ctx.measureText(c).width,d=Math.cos(t.toRadians(this.options.ticks.maxRotation)),g=Math.sin(t.toRadians(this.options.ticks.maxRotation));l=l*d+i*g;var m=r/l;this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var p=0,u=a.units[p];p<a.units.length;){if(this.unitScale=1,t.isArray(u.steps)&&Math.ceil(this.scaleSizeInUnits/m)<t.max(u.steps)){for(var h=0;h<u.steps.length;++h)if(u.steps[h]>=Math.ceil(this.scaleSizeInUnits/m)){this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,u.steps[h]);break}break}if(u.maxStep===!1||Math.ceil(this.scaleSizeInUnits/m)<u.maxStep){this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/m));break}++p,u=a.units[p],this.tickUnit=u.name;var v=this.firstTick.diff(this.getMomentStartOf(this.firstTick),this.tickUnit,!0),f=this.getMomentStartOf(this.lastTick.clone().add(1,this.tickUnit)).diff(this.lastTick,this.tickUnit,!0);this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0)+v+f,this.displayFormat=this.options.time.displayFormats[u.name]}}var w;if(this.options.time.min?w=this.getMomentStartOf(this.firstTick):(this.firstTick=this.getMomentStartOf(this.firstTick),w=this.firstTick),!this.options.time.max){var b=this.getMomentStartOf(this.lastTick);0!==b.diff(this.lastTick,this.tickUnit,!0)&&(this.lastTick=this.getMomentStartOf(this.lastTick.add(1,this.tickUnit)))}this.smallestLabelSeparation=this.width,t.each(this.chart.data.datasets,function(e,t){for(var i=1;i<this.labelMoments[t].length;i++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[t][i].diff(this.labelMoments[t][i-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var _=1;_<=this.scaleSizeInUnits;++_){var y=w.clone().add(_,this.tickUnit);if(this.options.time.max&&y.diff(this.lastTick,this.tickUnit,!0)>=0)break;_%this.unitScale===0&&this.ticks.push(y)}var x=this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit);(0!==x||0===this.scaleSizeInUnits)&&(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0))),this.ctx.restore()},getLabelForIndex:function(e,t){var i=this.chart.data.labels&&e<this.chart.data.labels.length?this.chart.data.labels[e]:"";return"object"==typeof this.chart.data.datasets[t].data[0]&&(i=this.getRightValue(this.chart.data.datasets[t].data[e])),this.options.time.tooltipFormat&&(i=this.parseTime(i).format(this.options.time.tooltipFormat)),i},tickFormatFunction:function(e,i,a){var n=e.format(this.displayFormat),s=this.options.ticks,o=t.getValueOrDefault(s.callback,s.userCallback);return o?o(n,i,a):n},convertTicksToLabels:function(){this.tickMoments=this.ticks,this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(e,t,i){var a=e&&e.isValid&&e.isValid()?e:this.getLabelMoment(i,t);if(a){var n=a.diff(this.firstTick,this.tickUnit,!0),s=n/this.scaleSizeInUnits;if(this.isHorizontal()){var o=this.width-(this.paddingLeft+this.paddingRight),r=(o/Math.max(this.ticks.length-1,1),o*s+this.paddingLeft);return this.left+Math.round(r)}var c=this.height-(this.paddingTop+this.paddingBottom),l=(c/Math.max(this.ticks.length-1,1),c*s+this.paddingTop);return this.top+Math.round(l)}},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickMoments[e],null,null,t)},getValueForPixel:function(e){var t=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),a=(e-(this.isHorizontal()?this.left+this.paddingLeft:this.top+this.paddingTop))/t;return a*=this.scaleSizeInUnits,this.firstTick.clone().add(i.duration(a,this.tickUnit).asSeconds(),"seconds")},parseTime:function(e){return"string"==typeof this.options.time.parser?i(e,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(e):"function"==typeof e.getMonth||"number"==typeof e?i(e):e.isValid&&e.isValid()?e:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(e)):i(e,this.options.time.format)}});e.scaleService.registerScaleType("time",s,n)}},{moment:1}]},{},[7]);