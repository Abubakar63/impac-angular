<!--
  Component generated by Impac! Widget Generator!
-->
<div widget-legal-signed-documents>
  <!-- Settings Panel -->
  <div ng-show="widget.isEditMode" class="edit">
    <h4>Widget settings</h4>

    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />

    <!-- Buttons displayed on the lower  -->
    <div class="bottom-buttons" align="right">
      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>
      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>
    </div>
  </div>

  <!-- Content Panel -->
  <div ng-hide="widget.isEditMode">
    <div class="row">
      <div class="col-md-6">
        <div class="widget-lines-container">
          <div class="row widget-line header">
            <div class="col-xs-4" ng-click="sort('customer')">
              Client
              <i ng-show="sortedColumn == 'customer'" class="fa" ng-class="ascending ? 'fa-sort-alpha-asc' : 'fa-sort-alpha-desc'" />
            </div>
            <div class="col-xs-6" ng-click="sort('name')">
              Document
              <i ng-show="sortedColumn == 'name'" class="fa" ng-class="ascending ? 'fa-sort-alpha-asc' : 'fa-sort-alpha-desc'" />
            </div>
            <div class="col-xs-2 text-center" ng-click="sort('status')">
              Status
              <i ng-show="sortedColumn == 'status'" class="fa" ng-class="ascending ? 'fa-sort-alpha-asc' : 'fa-sort-alpha-desc'" />
            </div>
          </div>

          <div class="row widget-line" ng-repeat="doc in documents" ng-click="preview(doc)">
            <div class="col-xs-4">{{doc.customer}}</div>
            <div class="col-xs-6">{{doc.name}}</div>
            <div class="col-xs-2 text-center">
              <i class="fa fa-check" ng-show="{{ doc.status == 'signed' }}" />
              <i class="fa fa-times" ng-show="{{ doc.status == 'unsigned' }}" />
              <i class="fa fa-question-circle" ng-hide="{{ doc.status == 'signed' || doc.status == 'unsigned' }}" />
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6 right-panel text-center">
        <p ng-hide="showInvoice || showDoc">Click on a document to preview</p>
        <img class="sample" src="{{invoiceSamplePath}}" ng-show="showInvoice" />
        <img class="sample" src="{{docSamplePath}}" ng-show="showDoc" />

        <p ng-show="showInvoice || showDoc" class="bottom text-right">
          <a href="http://drive.google.com">
            Download full document
            <img class="gdrive" src="{{gDriveLogoPath}}" />
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
