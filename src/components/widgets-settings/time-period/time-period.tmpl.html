<h5>Time period selection</h5>
<div class="settings time-period" ng-if="timePeriodSetting">

  <!-- Time range -->
  <div class="row">
    <div class="col-xs-12">
      <strong>Time Range:</strong>
      <div setting-time-presets parent-widget="timePeriodSetting" deferred="::timePresetsDeferred" on-select="applyPreset(histParams)" presets="presets" on-choose-dates="useDatesPicker()" on-choose-period="useTimeSlider()" hist-params="histParams" reset-promise="resetPreset.promise" />
    </div>
  </div>

  <!-- Dates pickers -->
  <div class="row" ng-show="isDatesPickerUsed()">
    <div class="col-xs-12">
      <div setting-dates-picker class="sub-setting" parent-widget="timePeriodSetting" deferred="::datesPickerDeferred" min-date="getMinDate()" from="fromDate" to="toDate" keep-today="keepToday" on-use="useDatesPicker()" />
    </div>
  </div>

  <!-- Slider -->
  <div class="row" ng-show="isTimeSliderUsed()">
    <div class="col-xs-12">
      <div setting-time-slider class="sub-setting" parent-widget="timePeriodSetting" deferred="::timeSliderDeferred" time-range="timePeriodSetting.timeRange" on-use="useTimeSlider()" />
    </div>
  </div>

  <!-- Chart interval -->
  <div class="row" ng-hide="hideChartInterval">
    <div class="col-xs-12">
      <strong>Chart Interval:</strong>
      <select ng-model="timePeriodSetting.period" ng-options="titleize(p) for p in periods" ng-change="updateSettings()" />
    </div>
  </div>

  <!-- Info -->
  <div class="row text-center" ng-hide="hideChartInterval">
    <div class="col-xs-12">
      <i>Note: Chart is limited to {{ maxNumberOfPeriods }} intervals</i>
    </div>
  </div>
</div>
